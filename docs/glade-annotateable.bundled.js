/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const t="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(t,n,i=null)=>{for(;n!==i;){const i=n.nextSibling;t.removeChild(n),n=i}},i=`{{lit-${String(Math.random()).slice(2)}}}`,e=`\x3c!--${i}--\x3e`,r=new RegExp(`${i}|${e}`);class o{constructor(t,n){this.parts=[],this.element=n;const e=[],o=[],u=document.createTreeWalker(n.content,133,null,!1);let h=0,f=-1,l=0;const{strings:d,values:{length:m}}=t;for(;l<m;){const t=u.nextNode();if(null!==t){if(f++,1===t.nodeType){if(t.hasAttributes()){const n=t.attributes,{length:i}=n;let e=0;for(let t=0;t<i;t++)s(n[t].name,"$lit$")&&e++;for(;e-- >0;){const n=d[l],i=c.exec(n)[2],e=i.toLowerCase()+"$lit$",o=t.getAttribute(e);t.removeAttribute(e);const s=o.split(r);this.parts.push({type:"attribute",index:f,name:i,strings:s}),l+=s.length-1}}"TEMPLATE"===t.tagName&&(o.push(t),u.currentNode=t.content)}else if(3===t.nodeType){const n=t.data;if(n.indexOf(i)>=0){const i=t.parentNode,o=n.split(r),u=o.length-1;for(let n=0;n<u;n++){let e,r=o[n];if(""===r)e=a();else{const t=c.exec(r);null!==t&&s(t[2],"$lit$")&&(r=r.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),e=document.createTextNode(r)}i.insertBefore(e,t),this.parts.push({type:"node",index:++f})}""===o[u]?(i.insertBefore(a(),t),e.push(t)):t.data=o[u],l+=u}}else if(8===t.nodeType)if(t.data===i){const n=t.parentNode;null!==t.previousSibling&&f!==h||(f++,n.insertBefore(a(),t)),h=f,this.parts.push({type:"node",index:f}),null===t.nextSibling?t.data="":(e.push(t),f--),l++}else{let n=-1;for(;-1!==(n=t.data.indexOf(i,n+1));)this.parts.push({type:"node",index:-1}),l++}}else u.currentNode=o.pop()}for(const t of e)t.parentNode.removeChild(t)}}const s=(t,n)=>{const i=t.length-n.length;return i>=0&&t.slice(i)===n},u=t=>-1!==t.index,a=()=>document.createComment(""),c=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function h(t,n){const{element:{content:i},parts:e}=t,r=document.createTreeWalker(i,133,null,!1);let o=l(e),s=e[o],u=-1,a=0;const c=[];let h=null;for(;r.nextNode();){u++;const t=r.currentNode;for(t.previousSibling===h&&(h=null),n.has(t)&&(c.push(t),null===h&&(h=t)),null!==h&&a++;void 0!==s&&s.index===u;)s.index=null!==h?-1:s.index-a,o=l(e,o),s=e[o]}c.forEach(t=>t.parentNode.removeChild(t))}const f=t=>{let n=11===t.nodeType?0:1;const i=document.createTreeWalker(t,133,null,!1);for(;i.nextNode();)n++;return n},l=(t,n=-1)=>{for(let i=n+1;i<t.length;i++){const n=t[i];if(u(n))return i}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const d=new WeakMap,m=t=>(...n)=>{const i=t(...n);return d.set(i,!0),i},v=t=>"function"==typeof t&&d.has(t),p={},g={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class b{constructor(t,n,i){this.tm=[],this.template=t,this.processor=n,this.options=i}update(t){let n=0;for(const i of this.tm)void 0!==i&&i.setValue(t[n]),n++;for(const t of this.tm)void 0!==t&&t.commit()}_clone(){const n=t?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),i=[],e=this.template.parts,r=document.createTreeWalker(n,133,null,!1);let o,s=0,a=0,c=r.nextNode();for(;s<e.length;)if(o=e[s],u(o)){for(;a<o.index;)a++,"TEMPLATE"===c.nodeName&&(i.push(c),r.currentNode=c.content),null===(c=r.nextNode())&&(r.currentNode=i.pop(),c=r.nextNode());if("node"===o.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(c.previousSibling),this.tm.push(t)}else this.tm.push(...this.processor.handleAttributeExpressions(c,o.name,o.strings,this.options));s++}else this.tm.push(void 0),s++;return t&&(document.adoptNode(n),customElements.upgrade(n)),n}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const w=` ${i} `;class x{constructor(t,n,i,e){this.strings=t,this.values=n,this.type=i,this.processor=e}getHTML(){const t=this.strings.length-1;let n="",r=!1;for(let o=0;o<t;o++){const t=this.strings[o],s=t.lastIndexOf("\x3c!--");r=(s>-1||r)&&-1===t.indexOf("--\x3e",s+1);const u=c.exec(t);n+=null===u?t+(r?w:e):t.substr(0,u.index)+u[1]+u[2]+"$lit$"+u[3]+i}return n+=this.strings[t],n}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const y=t=>null===t||!("object"==typeof t||"function"==typeof t),_=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class E{constructor(t,n,i){this.dirty=!0,this.element=t,this.name=n,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new I(this)}_getValue(){const t=this.strings,n=t.length-1;let i="";for(let e=0;e<n;e++){i+=t[e];const n=this.parts[e];if(void 0!==n){const t=n.value;if(y(t)||!_(t))i+="string"==typeof t?t:String(t);else for(const n of t)i+="string"==typeof n?n:String(n)}}return i+=t[n],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class I{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===p||y(t)&&t===this.value||(this.value=t,v(t)||(this.committer.dirty=!0))}commit(){for(;v(this.value);){const t=this.value;this.value=p,t(this)}this.value!==p&&this.committer.commit()}}class T{constructor(t){this.value=void 0,this.nm=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(a()),this.endNode=t.appendChild(a())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.im(this.startNode=a()),t.im(this.endNode=a())}insertAfterPart(t){t.im(this.startNode=a()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.nm=t}commit(){if(null===this.startNode.parentNode)return;for(;v(this.nm);){const t=this.nm;this.nm=p,t(this)}const t=this.nm;t!==p&&(y(t)?t!==this.value&&this.em(t):t instanceof x?this.rm(t):t instanceof Node?this.om(t):_(t)?this.sm(t):t===g?(this.value=g,this.clear()):this.em(t))}im(t){this.endNode.parentNode.insertBefore(t,this.endNode)}om(t){this.value!==t&&(this.clear(),this.im(t),this.value=t)}em(t){const n=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);n===this.endNode.previousSibling&&3===n.nodeType?n.data=i:this.om(document.createTextNode(i)),this.value=t}rm(t){const n=this.options.templateFactory(t);if(this.value instanceof b&&this.value.template===n)this.value.update(t.values);else{const i=new b(n,t.processor,this.options),e=i._clone();i.update(t.values),this.om(e),this.value=i}}sm(t){Array.isArray(this.value)||(this.value=[],this.clear());const n=this.value;let i,e=0;for(const r of t)i=n[e],void 0===i&&(i=new T(this.options),n.push(i),0===e?i.appendIntoPart(this):i.insertAfterPart(n[e-1])),i.setValue(r),i.commit(),e++;e<n.length&&(n.length=e,this.clear(i&&i.endNode))}clear(t=this.startNode){n(this.startNode.parentNode,t.nextSibling,this.endNode)}}class A{constructor(t,n,i){if(this.value=void 0,this.nm=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=i}setValue(t){this.nm=t}commit(){for(;v(this.nm);){const t=this.nm;this.nm=p,t(this)}if(this.nm===p)return;const t=!!this.nm;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.nm=p}}class k extends E{constructor(t,n,i){super(t,n,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new S(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class S extends I{}let O=!1;(()=>{try{const t={get capture(){return O=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class N{constructor(t,n,i){this.value=void 0,this.nm=void 0,this.element=t,this.eventName=n,this.eventContext=i,this.um=t=>this.handleEvent(t)}setValue(t){this.nm=t}commit(){for(;v(this.nm);){const t=this.nm;this.nm=p,t(this)}if(this.nm===p)return;const t=this.nm,n=this.value,i=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),e=null!=t&&(null==n||i);i&&this.element.removeEventListener(this.eventName,this.um,this.am),e&&(this.am=R(t),this.element.addEventListener(this.eventName,this.um,this.am)),this.value=t,this.nm=p}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const R=t=>t&&(O?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function C(t){let n=D.get(t.type);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},D.set(t.type,n));let e=n.stringsArray.get(t.strings);if(void 0!==e)return e;const r=t.strings.join(i);return e=n.keyString.get(r),void 0===e&&(e=new o(t,t.getTemplateElement()),n.keyString.set(r,e)),n.stringsArray.set(t.strings,e),e}const D=new Map,P=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const M=new
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class{handleAttributeExpressions(t,n,i,e){const r=n[0];if("."===r){return new k(t,n.slice(1),i).parts}return"@"===r?[new N(t,n.slice(1),e.eventContext)]:"?"===r?[new A(t,n.slice(1),i)]:new E(t,n,i).parts}handleTextExpression(t){return new T(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");const j=(t,...n)=>new x(t,n,"html",M)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,L=(t,n)=>`${t}--${n}`;let F=!0;void 0===window.ShadyCSS?F=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),F=!1);const U=t=>n=>{const e=L(n.type,t);let r=D.get(e);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},D.set(e,r));let s=r.stringsArray.get(n.strings);if(void 0!==s)return s;const u=n.strings.join(i);if(s=r.keyString.get(u),void 0===s){const i=n.getTemplateElement();F&&window.ShadyCSS.prepareTemplateDom(i,t),s=new o(n,i),r.keyString.set(u,s)}return r.stringsArray.set(n.strings,s),s},B=["html","svg"],z=new Set,V=(t,n,i)=>{z.add(t);const e=i?i.element:document.createElement("template"),r=n.querySelectorAll("style"),{length:o}=r;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(e,t);const s=document.createElement("style");for(let t=0;t<o;t++){const n=r[t];n.parentNode.removeChild(n),s.textContent+=n.textContent}(t=>{B.forEach(n=>{const i=D.get(L(n,t));void 0!==i&&i.keyString.forEach(t=>{const{element:{content:n}}=t,i=new Set;Array.from(n.querySelectorAll("style")).forEach(t=>{i.add(t)}),h(t,i)})})})(t);const u=e.content;i?function(t,n,i=null){const{element:{content:e},parts:r}=t;if(null==i)return void e.appendChild(n);const o=document.createTreeWalker(e,133,null,!1);let s=l(r),u=0,a=-1;for(;o.nextNode();){for(a++,o.currentNode===i&&(u=f(n),i.parentNode.insertBefore(n,i));-1!==s&&r[s].index===a;){if(u>0){for(;-1!==s;)r[s].index+=u,s=l(r,s);return}s=l(r,s)}}}(i,s,u.firstChild):u.insertBefore(s,u.firstChild),window.ShadyCSS.prepareTemplateStyles(e,t);const a=u.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)n.insertBefore(a.cloneNode(!0),n.firstChild);else if(i){u.insertBefore(s,u.firstChild);const t=new Set;t.add(s),h(i,t)}};window.JSCompiler_renameProperty=(t,n)=>t;const q={toAttribute(t,n){switch(n){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,n){switch(n){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},G=(t,n)=>n!==t&&(n==n||t==t),$={attribute:!0,type:String,converter:q,reflect:!1,hasChanged:G};class W extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((n,i)=>{const e=this._attributeNameForProperty(i,n);void 0!==e&&(this._attributeToPropertyMap.set(e,i),t.push(e))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,n)=>this._classProperties.set(n,t))}}static createProperty(t,n=$){if(this._ensureClassProperties(),this._classProperties.set(t,n),n.noAccessor||this.prototype.hasOwnProperty(t))return;const i="symbol"==typeof t?Symbol():`__${t}`,e=this.getPropertyDescriptor(t,i,n);void 0!==e&&Object.defineProperty(this.prototype,t,e)}static getPropertyDescriptor(t,n,i){return{get(){return this[n]},set(i){const e=this[t];this[n]=i,this._requestUpdate(t,e)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||$}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,n=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const i of n)this.createProperty(i,t[i])}}static _attributeNameForProperty(t,n){const i=n.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,n,i=G){return i(t,n)}static _propertyValueFromAttribute(t,n){const i=n.type,e=n.converter||q,r="function"==typeof e?e:e.fromAttribute;return r?r(t,i):t}static _propertyValueToAttribute(t,n){if(void 0===n.reflect)return;const i=n.type,e=n.converter;return(e&&e.toAttribute||q.toAttribute)(t,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,n)=>{if(this.hasOwnProperty(n)){const t=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,n)=>this[n]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,n,i){n!==i&&this._attributeToProperty(t,i)}_propertyToAttribute(t,n,i=$){const e=this.constructor,r=e._attributeNameForProperty(t,i);if(void 0!==r){const t=e._propertyValueToAttribute(n,i);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(r):this.setAttribute(r,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,n){if(8&this._updateState)return;const i=this.constructor,e=i._attributeToPropertyMap.get(t);if(void 0!==e){const t=i.getPropertyOptions(e);this._updateState=16|this._updateState,this[e]=i._propertyValueFromAttribute(n,t),this._updateState=-17&this._updateState}}_requestUpdate(t,n){let i=!0;if(void 0!==t){const e=this.constructor,r=e.getPropertyOptions(t);e._valueHasChanged(this[t],n,r.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,n),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,r))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,n){return this._requestUpdate(t,n),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const n=this._changedProperties;try{t=this.shouldUpdate(n),t?this.update(n):this._markUpdated()}catch(n){throw t=!1,this._markUpdated(),n}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,n)=>this._propertyToAttribute(n,this[n],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}W.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const H=t=>n=>"function"==typeof n?((t,n)=>(window.customElements.define(t,n),n))(t,n):((t,n)=>{const{kind:i,elements:e}=n;return{kind:i,elements:e,finisher(n){window.customElements.define(t,n)}}})(t,n),X=(t,n)=>"method"===n.kind&&n.descriptor&&!("value"in n.descriptor)?Object.assign(Object.assign({},n),{finisher(i){i.createProperty(n.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher(i){i.createProperty(n.key,t)}};function Y(t){return(n,i)=>void 0!==i?((t,n,i)=>{n.constructor.createProperty(i,t)})(t,n,i):X(t,n)}function K(t){return Y({attribute:!1,hasChanged:null==t?void 0:t.hasChanged})}function Q(t){return(n,i)=>{const e={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return void 0!==i?J(e,n,i):Z(e,n)}}const J=(t,n,i)=>{Object.defineProperty(n,i,t)},Z=(t,n)=>({kind:"method",placement:"prototype",key:n.key,descriptor:t});function tt(t){return(n,i)=>void 0!==i?((t,n,i)=>{Object.assign(n[i],t)})(t,n,i):((t,n)=>Object.assign(Object.assign({},n),{finisher(i){Object.assign(i.prototype[n.key],t)}}))(t,n)}
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const nt="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,it=Symbol();class et{constructor(t,n){if(n!==it)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(nt?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const rt=(t,...n)=>{const i=n.reduce((n,i,e)=>n+(t=>{if(t instanceof et)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+t[e+1],t[0]);return new et(i,it)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const ot={};class st extends W{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(void 0===t)this._styles=[];else if(Array.isArray(t)){const n=(t,i)=>t.reduceRight((t,i)=>Array.isArray(i)?n(i,t):(t.add(i),t),i),i=n(t,new Set),e=[];i.forEach(t=>e.unshift(t)),this._styles=e}else this._styles=[t]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?nt?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const n=this.render();super.update(t),n!==ot&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const n=document.createElement("style");n.textContent=t.cssText,this.renderRoot.appendChild(n)}))}render(){return ot}}st.finalized=!0,st.render=(t,i,e)=>{if(!e||"object"!=typeof e||!e.scopeName)throw new Error("The `scopeName` option is required.");const r=e.scopeName,o=P.has(i),s=F&&11===i.nodeType&&!!i.host,u=s&&!z.has(r),a=u?document.createDocumentFragment():i;if(((t,i,e)=>{let r=P.get(i);void 0===r&&(n(i,i.firstChild),P.set(i,r=new T(Object.assign({templateFactory:C},e))),r.appendInto(i)),r.setValue(t),r.commit()})(t,a,Object.assign({templateFactory:U(r)},e)),u){const t=P.get(a);P.delete(a);const e=t.value instanceof b?t.value.template:void 0;V(r,a,e),n(i,i.firstChild),i.appendChild(a),P.set(i,t)}!o&&s&&window.ShadyCSS.styleElement(i.host)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var ut=function(t,n){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function at(t,n){function i(){this.constructor=t}ut(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var ct=function(){return(ct=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var r in n=arguments[i])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function ht(t,n,i,e){for(var r,o=arguments.length,s=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,i):e,u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(n,i,s):r(n,i))||s);return o>3&&s&&Object.defineProperty(n,i,s),s}function ft(t,n,i,e){return new(i||(i=Promise))((function(r,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,u)}a((e=e.apply(t,n||[])).next())}))}function lt(t,n){var i,e,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,e&&(r=2&o[0]?e.return:o[0]?e.throw||((r=e.return)&&r.call(e),0):e.next)&&!(r=r.call(e,o[1])).done)return r;switch(e=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,e=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],e=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function dt(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],e=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var e,r,o=i.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(e=o.next()).done;)s.push(e.value)}catch(t){r={error:t}}finally{try{e&&!e.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function vt(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(mt(arguments[n]));return t}function pt(){for(var t=0,n=0,i=arguments.length;n<i;n++)t+=arguments[n].length;var e=Array(t),r=0;for(n=0;n<i;n++)for(var o=arguments[n],s=0,u=o.length;s<u;s++,r++)e[r]=o[s];return e}
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(()=>{var t,n,i;const e=Symbol(),r=Symbol(),o=Symbol(),s=Symbol(),u=Symbol(),a=Symbol(),c=Symbol(),h=Symbol(),f=Symbol(),l=Symbol(),d=Symbol(),m=Symbol(),v=Symbol();class p{constructor(){this[t]=[],this[n]=[],this[i]=new Set}destructor(){this[f](this[o]);this[e]=null,this[o]=null,this[r]=null}get top(){const t=this[e];return t[t.length-1]||null}push(t){t&&t!==this.top&&(this.remove(t),this[a](t),this[e].push(t))}remove(t){const n=this[e].indexOf(t);return-1!==n&&(this[e].splice(n,1),n===this[e].length&&this[a](this.top),!0)}pop(){const t=this.top;return t&&this.remove(t),t}has(t){return-1!==this[e].indexOf(t)}[(t=e,n=o,i=r,a)](t){const n=this[r],i=this[o];if(!t)return this[f](i),n.clear(),void(this[o]=[]);const e=this[l](t);if(e[e.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=e;const s=this[d](t);if(!i.length)return void this[h](e,s,n);let u=i.length-1,a=e.length-1;for(;u>0&&a>0&&i[u]===e[a];)u--,a--;i[u]!==e[a]&&this[c](i[u],e[a]),u>0&&this[f](i.slice(0,u)),a>0&&this[h](e.slice(0,a),s,null)}[c](t,n){const i=t[s];this[m](t)&&!t.inert&&(t.inert=!0,i.add(t)),i.has(n)&&(n.inert=!1,i.delete(n)),n[u]=t[u],n[s]=i,t[u]=void 0,t[s]=void 0}[f](t){for(const n of t){n[u].disconnect(),n[u]=void 0;const t=n[s];for(const n of t)n.inert=!1;n[s]=void 0}}[h](t,n,i){for(const e of t){const t=e.parentNode,r=t.children,o=new Set;for(let t=0;t<r.length;t++){const s=r[t];s===e||!this[m](s)||n&&n.has(s)||(i&&s.inert?i.add(s):(s.inert=!0,o.add(s)))}e[s]=o;const a=new MutationObserver(this[v].bind(this));e[u]=a;let c=t;const h=c;h.cm&&h.host&&(c=h.host),a.observe(c,{childList:!0})}}[v](t){const n=this[o],i=this[r];for(const e of t){const t=e.target.host||e.target,r=t===document.body?n.length:n.indexOf(t),o=n[r-1],u=o[s];for(let t=0;t<e.removedNodes.length;t++){const n=e.removedNodes[t];if(n===o)return console.info("Detected removal of the top Blocking Element."),void this.pop();u.has(n)&&(n.inert=!1,u.delete(n))}for(let t=0;t<e.addedNodes.length;t++){const n=e.addedNodes[t];this[m](n)&&(i&&n.inert?i.add(n):(n.inert=!0,u.add(n)))}}}[m](t){return!1===/^(style|template|script)$/.test(t.localName)}[l](t){const n=[];let i=t;for(;i&&i!==document.body;)if(i.nodeType===Node.ELEMENT_NODE&&n.push(i),i.assignedSlot){for(;i=i.assignedSlot;)n.push(i);i=n.pop()}else i=i.parentNode||i.host;return n}[d](t){const n=t.shadowRoot;if(!n)return null;const i=new Set;let e,r,o;const s=n.querySelectorAll("slot");if(s.length&&s[0].assignedNodes)for(e=0;e<s.length;e++)for(o=s[e].assignedNodes({flatten:!0}),r=0;r<o.length;r++)o[r].nodeType===Node.ELEMENT_NODE&&i.add(o[r]);return i}}document.$blockingElements=new p})(),function(){if("undefined"==typeof window)return;const t=Array.prototype.slice,n=Element.prototype.matches||Element.prototype.msMatchesSelector,i=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(",");class e{constructor(t,n){this._inertManager=n,this._rootElement=t,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}destructor(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(t){this._unmanageNode(t.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}get managedNodes(){return new Set(this._managedNodes)}get hasSavedAriaHidden(){return null!==this._savedAriaHidden}set savedAriaHidden(t){this._savedAriaHidden=t}get savedAriaHidden(){return this._savedAriaHidden}_makeSubtreeUnfocusable(t){o(t,t=>this._visitNode(t));let n=document.activeElement;if(!document.body.contains(t)){let i=t,e=void 0;for(;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){e=i;break}i=i.parentNode}e&&(n=e.activeElement)}t.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}_visitNode(t){if(t.nodeType!==Node.ELEMENT_NODE)return;const e=t;e!==this._rootElement&&e.hasAttribute("inert")&&this._adoptInertRoot(e),(n.call(e,i)||e.hasAttribute("tabindex"))&&this._manageNode(e)}_manageNode(t){const n=this._inertManager.register(t,this);this._managedNodes.add(n)}_unmanageNode(t){const n=this._inertManager.deregister(t,this);n&&this._managedNodes.delete(n)}_unmanageSubtree(t){o(t,t=>this._unmanageNode(t))}_adoptInertRoot(t){let n=this._inertManager.getInertRoot(t);n||(this._inertManager.setInert(t,!0),n=this._inertManager.getInertRoot(t)),n.managedNodes.forEach((function(t){this._manageNode(t.node)}),this)}_onMutation(n,i){n.forEach((function(n){const i=n.target;if("childList"===n.type)t.call(n.addedNodes).forEach((function(t){this._makeSubtreeUnfocusable(t)}),this),t.call(n.removedNodes).forEach((function(t){this._unmanageSubtree(t)}),this);else if("attributes"===n.type)if("tabindex"===n.attributeName)this._manageNode(i);else if(i!==this._rootElement&&"inert"===n.attributeName&&i.hasAttribute("inert")){this._adoptInertRoot(i);const t=this._inertManager.getInertRoot(i);this._managedNodes.forEach((function(n){i.contains(n.node)&&t._manageNode(n.node)}))}}),this)}}class r{constructor(t,n){this._node=t,this._overrodeFocusMethod=!1,this._inertRoots=new Set([n]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}destructor(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){const t=this._node;null!==this._savedTabIndex?t.setAttribute("tabindex",this._savedTabIndex):t.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete t.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}get destroyed(){return this._destroyed}_throwIfDestroyed(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}get hasSavedTabIndex(){return null!==this._savedTabIndex}get node(){return this._throwIfDestroyed(),this._node}set savedTabIndex(t){this._throwIfDestroyed(),this._savedTabIndex=t}get savedTabIndex(){return this._throwIfDestroyed(),this._savedTabIndex}ensureUntabbable(){if(this.node.nodeType!==Node.ELEMENT_NODE)return;const t=this.node;if(n.call(t,i)){if(-1===t.tabIndex&&this.hasSavedTabIndex)return;t.hasAttribute("tabindex")&&(this._savedTabIndex=t.tabIndex),t.setAttribute("tabindex","-1"),t.nodeType===Node.ELEMENT_NODE&&(t.focus=function(){},this._overrodeFocusMethod=!0)}else t.hasAttribute("tabindex")&&(this._savedTabIndex=t.tabIndex,t.removeAttribute("tabindex"))}addInertRoot(t){this._throwIfDestroyed(),this._inertRoots.add(t)}removeInertRoot(t){this._throwIfDestroyed(),this._inertRoots.delete(t),0===this._inertRoots.size&&this.destructor()}}function o(t,n,i){if(t.nodeType==Node.ELEMENT_NODE){const i=t;n&&n(i);const e=i.shadowRoot;if(e)return void o(e,n);if("content"==i.localName){const t=i,e=t.getDistributedNodes?t.getDistributedNodes():[];for(let t=0;t<e.length;t++)o(e[t],n);return}if("slot"==i.localName){const t=i,e=t.assignedNodes?t.assignedNodes({flatten:!0}):[];for(let t=0;t<e.length;t++)o(e[t],n);return}}let e=t.firstChild;for(;null!=e;)o(e,n),e=e.nextSibling}function s(t){if(t.querySelector("style#inert-style, link#inert-style"))return;const n=document.createElement("style");n.setAttribute("id","inert-style"),n.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",t.appendChild(n)}const u=new class{constructor(t){if(!t)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=t,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),s(t.head||t.body||t.documentElement),"loading"===t.readyState?t.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}setInert(t,n){if(n){if(this._inertRoots.has(t))return;const n=new e(t,this);if(t.setAttribute("inert",""),this._inertRoots.set(t,n),!this._document.body.contains(t)){let n=t.parentNode;for(;n;)11===n.nodeType&&s(n),n=n.parentNode}}else{if(!this._inertRoots.has(t))return;this._inertRoots.get(t).destructor(),this._inertRoots.delete(t),t.removeAttribute("inert")}}getInertRoot(t){return this._inertRoots.get(t)}register(t,n){let i=this._managedNodes.get(t);return void 0!==i?i.addInertRoot(n):i=new r(t,n),this._managedNodes.set(t,i),i}deregister(t,n){const i=this._managedNodes.get(t);return i?(i.removeInertRoot(n),i.destroyed&&this._managedNodes.delete(t),i):null}_onDocumentLoaded(){t.call(this._document.querySelectorAll("[inert]")).forEach((function(t){this.setInert(t,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}_watchForInert(i,e){const r=this;i.forEach((function(i){switch(i.type){case"childList":t.call(i.addedNodes).forEach((function(i){if(i.nodeType!==Node.ELEMENT_NODE)return;const e=t.call(i.querySelectorAll("[inert]"));n.call(i,"[inert]")&&e.unshift(i),e.forEach((function(t){this.setInert(t,!0)}),r)}),r);break;case"attributes":if("inert"!==i.attributeName)return;const e=i.target,o=e.hasAttribute("inert");r.setInert(e,o)}}),this)}}(document);Element.prototype.hasOwnProperty("inert")||Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(t){u.setInert(this,t)}})}();
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var gt={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked"},bt={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},wt={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},xt=function(){function t(t){void 0===t&&(t={}),this.adapter_=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),yt=function(t){function n(i){var e=t.call(this,ct(ct({},n.defaultAdapter),i))||this;return e.isOpen_=!1,e.animationFrame_=0,e.animationTimer_=0,e.layoutFrame_=0,e.escapeKeyAction_=bt.CLOSE_ACTION,e.scrimClickAction_=bt.CLOSE_ACTION,e.autoStackButtons_=!0,e.areButtonsStacked_=!1,e}return at(n,t),Object.defineProperty(n,"cssClasses",{get:function(){return gt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return bt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return wt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.adapter_.hasClass(gt.STACKED)&&this.setAutoStackButtons(!1)},n.prototype.destroy=function(){this.isOpen_&&this.close(bt.DESTROY_ACTION),this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_()),this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},n.prototype.open=function(){var t=this;this.isOpen_=!0,this.adapter_.notifyOpening(),this.adapter_.addClass(gt.OPENING),this.runNextAnimationFrame_((function(){t.adapter_.addClass(gt.OPEN),t.adapter_.addBodyClass(gt.SCROLL_LOCK),t.layout(),t.animationTimer_=setTimeout((function(){t.handleAnimationTimerEnd_(),t.adapter_.trapFocus(t.adapter_.getInitialFocusEl()),t.adapter_.notifyOpened()}),wt.DIALOG_ANIMATION_OPEN_TIME_MS)}))},n.prototype.close=function(t){var n=this;void 0===t&&(t=""),this.isOpen_&&(this.isOpen_=!1,this.adapter_.notifyClosing(t),this.adapter_.addClass(gt.CLOSING),this.adapter_.removeClass(gt.OPEN),this.adapter_.removeBodyClass(gt.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){n.adapter_.releaseFocus(),n.handleAnimationTimerEnd_(),n.adapter_.notifyClosed(t)}),wt.DIALOG_ANIMATION_CLOSE_TIME_MS))},n.prototype.isOpen=function(){return this.isOpen_},n.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},n.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction_=t},n.prototype.getScrimClickAction=function(){return this.scrimClickAction_},n.prototype.setScrimClickAction=function(t){this.scrimClickAction_=t},n.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},n.prototype.setAutoStackButtons=function(t){this.autoStackButtons_=t},n.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},n.prototype.handleClick=function(t){if(this.adapter_.eventTargetMatches(t.target,bt.SCRIM_SELECTOR)&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else{var n=this.adapter_.getActionFromEvent(t);n&&this.close(n)}},n.prototype.handleKeydown=function(t){var n="Enter"===t.key||13===t.keyCode;if(n&&!this.adapter_.getActionFromEvent(t)){var i=!this.adapter_.eventTargetMatches(t.target,bt.SUPPRESS_DEFAULT_PRESS_SELECTOR);n&&i&&this.adapter_.clickDefaultButton()}},n.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction_&&this.close(this.escapeKeyAction_)},n.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_(),this.detectScrollableContent_()},n.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter_.removeClass(gt.OPENING),this.adapter_.removeClass(gt.CLOSING)},n.prototype.runNextAnimationFrame_=function(t){var n=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){n.animationFrame_=0,clearTimeout(n.animationTimer_),n.animationTimer_=setTimeout(t,0)}))},n.prototype.detectStackedButtons_=function(){this.adapter_.removeClass(gt.STACKED);var t=this.adapter_.areButtonsStacked();t&&this.adapter_.addClass(gt.STACKED),t!==this.areButtonsStacked_&&(this.adapter_.reverseButtons(),this.areButtonsStacked_=t)},n.prototype.detectScrollableContent_=function(){this.adapter_.removeClass(gt.SCROLLABLE),this.adapter_.isContentScrollable()&&this.adapter_.addClass(gt.SCROLLABLE)},n}(xt);
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function _t(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var n=!1;try{var i={get passive(){return n=!0,!1}},e=function(){};t.document.addEventListener("test",e,i),t.document.removeEventListener("test",e,i)}catch(t){n=!1}return n}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(t)&&{passive:!0}}function Et(t,n){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,n)}
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/function It(t){return{addClass:n=>{t.classList.add(n)},removeClass:n=>{t.classList.remove(n)},hasClass:n=>t.classList.contains(n)}}const Tt=()=>{},At={get passive(){return!1}};document.addEventListener("x",Tt,At),document.removeEventListener("x",Tt);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class kt extends st{createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}const St=t=>(n,i)=>{if(n.constructor._observers){if(!n.constructor.hasOwnProperty("_observers")){const t=n.constructor._observers;n.constructor._observers=new Map,t.forEach((t,i)=>n.constructor._observers.set(i,t))}}else{n.constructor._observers=new Map;const t=n.updated;n.updated=function(n){t.call(this,n),n.forEach((t,n)=>{const i=this.constructor._observers.get(n);void 0!==i&&i.call(this,this[n],t)})}}n.constructor._observers.set(i,t)}
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;class Ot{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const n=(t.getAttribute("class")||"").split(/\s+/);for(const t of n)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(n=>t+=n+" "),this.element.setAttribute("class",t)}}}const Nt=new WeakMap,Rt=m(t=>n=>{if(!(n instanceof I)||n instanceof S||"class"!==n.committer.name||n.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:i}=n,{element:e}=i;let r=Nt.get(n);void 0===r&&(e.setAttribute("class",i.strings.join(" ")),Nt.set(n,r=new Set));const o=e.classList||new Ot(e);r.forEach(n=>{n in t||(o.remove(n),r.delete(n))});for(const n in t){const i=t[n];i!=r.has(n)&&(i?(o.add(n),r.add(n)):(o.remove(n),r.delete(n)))}"function"==typeof o.commit&&o.commit()}),Ct=document.$blockingElements;class Dt extends kt{constructor(){super(...arguments),this.hideActions=!1,this.stacked=!1,this.heading="",this.scrimClickAction="close",this.escapeKeyAction="close",this.open=!1,this.defaultAction="close",this.actionAttribute="dialogAction",this.initialFocusAttribute="dialogInitialFocus",this.mdcFoundationClass=yt,this.boundLayout=null,this.boundHandleClick=null,this.boundHandleKeydown=null,this.boundHandleDocumentKeydown=null}get primaryButton(){let t=this.primarySlot.assignedNodes();t=t.filter(t=>t instanceof HTMLElement);const n=t[0];return n||null}emitNotification(t,n){const i=new CustomEvent(t,{detail:n?{action:n}:{}});this.dispatchEvent(i)}getInitialFocusEl(){const t=`[${this.initialFocusAttribute}]`,n=this.querySelector(t);if(n)return n;const i=this.primarySlot.assignedNodes({flatten:!0}),e=this.searchNodeTreesForAttribute(i,this.initialFocusAttribute);if(e)return e;const r=this.secondarySlot.assignedNodes({flatten:!0}),o=this.searchNodeTreesForAttribute(r,this.initialFocusAttribute);if(o)return o;const s=this.contentSlot.assignedNodes({flatten:!0});return this.searchNodeTreesForAttribute(s,this.initialFocusAttribute)}searchNodeTreesForAttribute(t,n){for(const i of t)if(i instanceof HTMLElement){if(i.hasAttribute(n))return i;{const t=i.querySelector(`[${n}]`);if(t)return t}}return null}createAdapter(){return Object.assign(Object.assign({},It(this.mdcRoot)),{addBodyClass:()=>document.body.style.overflow="hidden",removeBodyClass:()=>document.body.style.overflow="",areButtonsStacked:()=>this.stacked,clickDefaultButton:()=>{const t=this.primaryButton;t&&t.click()},eventTargetMatches:(t,n)=>!!t&&Et(t,n),getActionFromEvent:t=>{if(!t.target)return"";const n=function(t,n){if(t.closest)return t.closest(n);for(var i=t;i;){if(Et(i,n))return i;i=i.parentElement}return null}(t.target,`[${this.actionAttribute}]`);return n&&n.getAttribute(this.actionAttribute)},getInitialFocusEl:()=>this.getInitialFocusEl(),isContentScrollable:()=>{const t=this.contentElement;return!!t&&t.scrollHeight>t.offsetHeight},notifyClosed:t=>this.emitNotification("closed",t),notifyClosing:t=>{this.closingDueToDisconnect||(this.open=!1),this.emitNotification("closing",t)},notifyOpened:()=>this.emitNotification("opened"),notifyOpening:()=>{this.open=!0,this.emitNotification("opening")},reverseButtons:()=>{},releaseFocus:()=>{Ct.remove(this)},trapFocus:t=>{Ct.push(this),t&&t.focus()}})}render(){const t={[gt.STACKED]:this.stacked};let n=j``;this.heading&&(n=j`
        <h2 id="title" class="mdc-dialog__title">${this.heading}</h2>`);const i={"mdc-dialog__actions":!this.hideActions};return j`
    <div class="mdc-dialog ${Rt(t)}"
        role="alertdialog"
        aria-modal="true"
        aria-labelledby="title"
        aria-describedby="content">
      <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface">
          ${n}
          <div id="content" class="mdc-dialog__content">
            <slot id="contentSlot"></slot>
          </div>
          <footer
              id="actions"
              class="${Rt(i)}">
            <span>
              <slot name="secondaryAction"></slot>
            </span>
            <span>
             <slot name="primaryAction"></slot>
            </span>
          </footer>
        </div>
      </div>
      <div class="mdc-dialog__scrim"></div>
    </div>`}firstUpdated(){super.firstUpdated(),this.mdcFoundation.setAutoStackButtons(!0)}connectedCallback(){super.connectedCallback(),this.open&&this.mdcFoundation&&!this.mdcFoundation.isOpen()&&(this.setEventListeners(),this.mdcFoundation.open())}disconnectedCallback(){super.disconnectedCallback(),this.open&&this.mdcFoundation&&(this.removeEventListeners(),this.closingDueToDisconnect=!0,this.mdcFoundation.close(this.currentAction||this.defaultAction),this.closingDueToDisconnect=!1,this.currentAction=void 0,Ct.remove(this))}forceLayout(){this.mdcFoundation.layout()}focus(){const t=this.getInitialFocusEl();t&&t.focus()}blur(){if(!this.shadowRoot)return;const t=this.shadowRoot.activeElement;if(t)t instanceof HTMLElement&&t.blur();else{const t=this.getRootNode(),n=t instanceof Document?t.activeElement:null;n instanceof HTMLElement&&n.blur()}}setEventListeners(){this.boundHandleClick=this.mdcFoundation.handleClick.bind(this.mdcFoundation),this.boundLayout=()=>{this.open&&this.mdcFoundation.layout.bind(this.mdcFoundation)},this.boundHandleKeydown=this.mdcFoundation.handleKeydown.bind(this.mdcFoundation),this.boundHandleDocumentKeydown=this.mdcFoundation.handleDocumentKeydown.bind(this.mdcFoundation),this.mdcRoot.addEventListener("click",this.boundHandleClick),window.addEventListener("resize",this.boundLayout,_t()),window.addEventListener("orientationchange",this.boundLayout,_t()),this.mdcRoot.addEventListener("keydown",this.boundHandleKeydown,_t()),document.addEventListener("keydown",this.boundHandleDocumentKeydown,_t())}removeEventListeners(){this.boundHandleClick&&this.mdcRoot.removeEventListener("click",this.boundHandleClick),this.boundLayout&&(window.removeEventListener("resize",this.boundLayout),window.removeEventListener("orientationchange",this.boundLayout)),this.boundHandleKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleKeydown),this.boundHandleDocumentKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleDocumentKeydown)}close(){this.open=!1}show(){this.open=!0}}ht([Q(".mdc-dialog")],Dt.prototype,"mdcRoot",void 0),ht([Q('slot[name="primaryAction"]')],Dt.prototype,"primarySlot",void 0),ht([Q('slot[name="secondaryAction"]')],Dt.prototype,"secondarySlot",void 0),ht([Q("#contentSlot")],Dt.prototype,"contentSlot",void 0),ht([Q(".mdc-dialog__content")],Dt.prototype,"contentElement",void 0),ht([Q(".mdc-container")],Dt.prototype,"conatinerElement",void 0),ht([Y({type:Boolean})],Dt.prototype,"hideActions",void 0),ht([Y({type:Boolean}),St((function(){this.forceLayout()}))],Dt.prototype,"stacked",void 0),ht([Y({type:String})],Dt.prototype,"heading",void 0),ht([Y({type:String}),St((function(t){this.mdcFoundation.setScrimClickAction(t)}))],Dt.prototype,"scrimClickAction",void 0),ht([Y({type:String}),St((function(t){this.mdcFoundation.setEscapeKeyAction(t)}))],Dt.prototype,"escapeKeyAction",void 0),ht([Y({type:Boolean,reflect:!0}),St((function(t){this.mdcFoundation&&this.isConnected&&(t?(this.setEventListeners(),this.mdcFoundation.open()):(this.removeEventListeners(),this.mdcFoundation.close(this.currentAction||this.defaultAction),this.currentAction=void 0))}))],Dt.prototype,"open",void 0),ht([Y()],Dt.prototype,"defaultAction",void 0),ht([Y()],Dt.prototype,"actionAttribute",void 0),ht([Y()],Dt.prototype,"initialFocusAttribute",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Pt=rt`.mdc-elevation-overlay{position:absolute;border-radius:inherit;opacity:0;pointer-events:none;transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:7}.mdc-dialog .mdc-dialog__surface{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87)}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0,0,0,.12)}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog .mdc-dialog__surface{border-radius:4px}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__title{display:block;margin-top:0;line-height:normal;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);position:relative;flex-shrink:0;box-sizing:border-box;margin:0;padding:0 24px 9px;border-bottom:1px solid transparent}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-dialog[dir=rtl] .mdc-dialog__title,[dir=rtl] .mdc-dialog .mdc-dialog__title{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{padding-bottom:15px}.mdc-dialog__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);flex-grow:1;box-sizing:border-box;margin:0;padding:20px 24px;overflow:auto;-webkit-overflow-scrolling:touch}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid transparent}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-dialog[dir=rtl] .mdc-dialog__button,[dir=rtl] .mdc-dialog .mdc-dialog__button{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:scale(1)}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:scale(1);opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}#actions:not(.mdc-dialog__actions){display:none}.mdc-dialog__surface{box-shadow:var(--mdc-dialog-box-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}@media(min-width: 560px){.mdc-dialog .mdc-dialog__surface{max-width:560px;max-width:var(--mdc-dialog-max-width, 560px)}}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32);background-color:var(--mdc-dialog-scrim-color, rgba(0, 0, 0, 0.32))}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87);color:var(--mdc-dialog-heading-ink-color, rgba(0, 0, 0, 0.87))}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6);color:var(--mdc-dialog-content-ink-color, rgba(0, 0, 0, 0.6))}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0,0,0,.12);border-color:var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12))}.mdc-dialog .mdc-dialog__surface{min-width:280px;min-width:var(--mdc-dialog-min-width, 280px)}.mdc-dialog .mdc-dialog__surface{max-height:var(--mdc-dialog-max-height, calc(100% - 32px));border-radius:4px;border-radius:var(--mdc-dialog-shape-radius, 4px)}#actions ::slotted(*){margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] #actions ::slotted(*),#actions ::slotted(*)[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog[dir=rtl] #actions ::slotted(*),[dir=rtl] .mdc-dialog #actions ::slotted(*){text-align:left}.mdc-dialog--stacked #actions{flex-direction:column-reverse}.mdc-dialog--stacked #actions *:not(:last-child) ::slotted(*){flex-basis:1e-9px;margin-top:12px}`;let Mt=class extends Dt{};Mt.styles=Pt,Mt=ht([H("mwc-dialog")],Mt);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const jt=rt`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;let Lt=class extends st{render(){return j`<slot></slot>`}};Lt.styles=jt,Lt=ht([H("mwc-icon")],Lt);
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Ft={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Ut={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Bt={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var zt=["touchstart","pointerdown","mousedown","keydown"],Vt=["touchend","pointerup","mouseup","contextmenu"],qt=[],Gt=function(t){function n(i){var e=t.call(this,ct(ct({},n.defaultAdapter),i))||this;return e.activationAnimationHasEnded_=!1,e.activationTimer_=0,e.fgDeactivationRemovalTimer_=0,e.fgScale_="0",e.frame_={width:0,height:0},e.initialSize_=0,e.layoutFrame_=0,e.maxRadius_=0,e.unboundedCoords_={left:0,top:0},e.activationState_=e.defaultActivationState_(),e.activationTimerCallback_=function(){e.activationAnimationHasEnded_=!0,e.runDeactivationUXLogicIfReady_()},e.activateHandler_=function(t){return e.activate_(t)},e.deactivateHandler_=function(){return e.deactivate_()},e.focusHandler_=function(){return e.handleFocus()},e.blurHandler_=function(){return e.handleBlur()},e.resizeHandler_=function(){return e.layout()},e}return at(n,t),Object.defineProperty(n,"cssClasses",{get:function(){return Ft},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return Ut},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return Bt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){var t=this,i=this.supportsPressRipple_();if(this.registerRootHandlers_(i),i){var e=n.cssClasses,r=e.ROOT,o=e.UNBOUNDED;requestAnimationFrame((function(){t.adapter_.addClass(r),t.adapter_.isUnbounded()&&(t.adapter_.addClass(o),t.layoutInternal_())}))}},n.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(n.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(n.cssClasses.FG_DEACTIVATION));var i=n.cssClasses,e=i.ROOT,r=i.UNBOUNDED;requestAnimationFrame((function(){t.adapter_.removeClass(e),t.adapter_.removeClass(r),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},n.prototype.activate=function(t){this.activate_(t)},n.prototype.deactivate=function(){this.deactivate_()},n.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},n.prototype.setUnbounded=function(t){var i=n.cssClasses.UNBOUNDED;t?this.adapter_.addClass(i):this.adapter_.removeClass(i)},n.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter_.addClass(n.cssClasses.BG_FOCUSED)}))},n.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter_.removeClass(n.cssClasses.BG_FOCUSED)}))},n.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},n.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},n.prototype.registerRootHandlers_=function(t){var n=this;t&&(zt.forEach((function(t){n.adapter_.registerInteractionHandler(t,n.activateHandler_)})),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},n.prototype.registerDeactivationHandlers_=function(t){var n=this;"keydown"===t.type?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):Vt.forEach((function(t){n.adapter_.registerDocumentInteractionHandler(t,n.deactivateHandler_)}))},n.prototype.deregisterRootHandlers_=function(){var t=this;zt.forEach((function(n){t.adapter_.deregisterInteractionHandler(n,t.activateHandler_)})),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},n.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),Vt.forEach((function(n){t.adapter_.deregisterDocumentInteractionHandler(n,t.deactivateHandler_)}))},n.prototype.removeCssVars_=function(){var t=this,i=n.strings;Object.keys(i).forEach((function(n){0===n.indexOf("VAR_")&&t.adapter_.updateCssVariable(i[n],null)}))},n.prototype.activate_=function(t){var n=this;if(!this.adapter_.isSurfaceDisabled()){var i=this.activationState_;if(!i.isActivated){var e=this.previousActivationEvent_;if(!(e&&void 0!==t&&e.type!==t.type))i.isActivated=!0,i.isProgrammatic=void 0===t,i.activationEvent=t,i.wasActivatedByPointer=!i.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&qt.length>0&&qt.some((function(t){return n.adapter_.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(qt.push(t.target),this.registerDeactivationHandlers_(t)),i.wasElementMadeActive=this.checkElementMadeActive_(t),i.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){qt=[],i.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(i.wasElementMadeActive=n.checkElementMadeActive_(t),i.wasElementMadeActive&&n.animateActivation_()),i.wasElementMadeActive||(n.activationState_=n.defaultActivationState_())})))}}},n.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter_.isSurfaceActive()},n.prototype.animateActivation_=function(){var t=this,i=n.strings,e=i.VAR_FG_TRANSLATE_START,r=i.VAR_FG_TRANSLATE_END,o=n.cssClasses,s=o.FG_DEACTIVATION,u=o.FG_ACTIVATION,a=n.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",h="";if(!this.adapter_.isUnbounded()){var f=this.getFgTranslationCoordinates_(),l=f.startPoint,d=f.endPoint;c=l.x+"px, "+l.y+"px",h=d.x+"px, "+d.y+"px"}this.adapter_.updateCssVariable(e,c),this.adapter_.updateCssVariable(r,h),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(s),this.adapter_.computeBoundingRect(),this.adapter_.addClass(u),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),a)},n.prototype.getFgTranslationCoordinates_=function(){var t,n=this.activationState_,i=n.activationEvent;return{startPoint:t={x:(t=n.wasActivatedByPointer?function(t,n,i){if(!t)return{x:0,y:0};var e,r,o=n.x,s=n.y,u=o+i.left,a=s+i.top;if("touchstart"===t.type){var c=t;e=c.changedTouches[0].pageX-u,r=c.changedTouches[0].pageY-a}else{var h=t;e=h.pageX-u,r=h.pageY-a}return{x:e,y:r}}(i,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},n.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,i=n.cssClasses.FG_DEACTIVATION,e=this.activationState_,r=e.hasDeactivationUXRun,o=e.isActivated;(r||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(i),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter_.removeClass(i)}),Bt.FG_DEACTIVATION_MS))},n.prototype.rmBoundedActivationClasses_=function(){var t=n.cssClasses.FG_ACTIVATION;this.adapter_.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()},n.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),n.numbers.TAP_DELAY_MS)},n.prototype.deactivate_=function(){var t=this,n=this.activationState_;if(n.isActivated){var i=ct({},n);n.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(i)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(i),t.resetActivationState_()})))}},n.prototype.animateDeactivation_=function(t){var n=t.wasActivatedByPointer,i=t.wasElementMadeActive;(n||i)&&this.runDeactivationUXLogicIfReady_()},n.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter_.computeBoundingRect();var i=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?i:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+n.numbers.PADDING;var e=Math.floor(i*n.numbers.INITIAL_ORIGIN_SCALE);this.adapter_.isUnbounded()&&e%2!=0?this.initialSize_=e-1:this.initialSize_=e,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},n.prototype.updateLayoutCssVars_=function(){var t=n.strings,i=t.VAR_FG_SIZE,e=t.VAR_LEFT,r=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter_.updateCssVariable(i,this.initialSize_+"px"),this.adapter_.updateCssVariable(o,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(e,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(r,this.unboundedCoords_.top+"px"))},n}(xt);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const $t=new WeakMap,Wt=m(t=>n=>{if(!(n instanceof I)||n instanceof S||"style"!==n.committer.name||n.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:i}=n,{style:e}=i.element;let r=$t.get(n);void 0===r&&(e.cssText=i.strings.join(" "),$t.set(n,r=new Set)),r.forEach(n=>{n in t||(r.delete(n),-1===n.indexOf("-")?e[n]=null:e.removeProperty(n))});for(const n in t)r.add(n),-1===n.indexOf("-")?e[n]=t[n]:e.setProperty(n,t[n])});class Ht extends kt{constructor(){super(...arguments),this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=Gt}get isActive(){return(this.parentElement||this).matches(":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0}},removeClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(t,n)=>{switch(t){case"--mdc-ripple-fg-scale":this.fgScale=n;break;case"--mdc-ripple-fg-size":this.fgSize=n;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=n;break;case"--mdc-ripple-fg-translate-start":this.translateStart=n;break;case"--mdc-ripple-left":this.leftPos=n;break;case"--mdc-ripple-top":this.topPos=n}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(t){this.waitForFoundation(()=>{this.mdcFoundation.activate(t)})}endPress(){this.waitForFoundation(()=>{this.mdcFoundation.deactivate()})}startFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleFocus()})}endFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleBlur()})}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(t){this.mdcFoundation?t():this.updateComplete.then(t)}render(){const t={"mdc-ripple-upgraded--unbounded":this.unbounded,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,hover:this.hovering,primary:this.primary,accent:this.accent,disabled:this.disabled,activated:this.activated,selected:this.selected};return j`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${Rt(t)}"
          style="${Wt({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}}ht([Q(".mdc-ripple-surface")],Ht.prototype,"mdcRoot",void 0),ht([Y({type:Boolean})],Ht.prototype,"primary",void 0),ht([Y({type:Boolean})],Ht.prototype,"accent",void 0),ht([Y({type:Boolean})],Ht.prototype,"unbounded",void 0),ht([Y({type:Boolean})],Ht.prototype,"disabled",void 0),ht([Y({type:Boolean})],Ht.prototype,"activated",void 0),ht([Y({type:Boolean})],Ht.prototype,"selected",void 0),ht([K()],Ht.prototype,"hovering",void 0),ht([K()],Ht.prototype,"bgFocused",void 0),ht([K()],Ht.prototype,"fgActivation",void 0),ht([K()],Ht.prototype,"fgDeactivation",void 0),ht([K()],Ht.prototype,"fgScale",void 0),ht([K()],Ht.prototype,"fgSize",void 0),ht([K()],Ht.prototype,"translateStart",void 0),ht([K()],Ht.prototype,"translateEnd",void 0),ht([K()],Ht.prototype,"leftPos",void 0),ht([K()],Ht.prototype,"topPos",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Xt=rt`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none}.primary{--mdc-ripple-color: var(--mdc-theme-primary, #6200ee)}.accent{--mdc-ripple-color: var(--mdc-theme-secondary, #018786)}.mdc-ripple-surface{top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative;outline:none;overflow:hidden;--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface.hover::before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface.activated::before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface.activated.hover::before{opacity:.16;opacity:calc(var(--mdc-ripple-hover-opacity, 0.04) + var(--mdc-ripple-activated-opacity, 0.12))}.mdc-ripple-surface.activated.mdc-ripple-upgraded--background-focused::before{opacity:.24;opacity:calc(var(--mdc-ripple-focus-opacity, 0.12) + var(--mdc-ripple-activated-opacity, 0.12))}.mdc-ripple-surface.activated{--mdc-ripple-press-opacity: calc(var(--mdc-ripple-press-opacity, 0.12) + 0.12)}.mdc-ripple-surface.selected::before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface.selected.hover::before{opacity:.12;opacity:calc(var(--mdc-ripple-hover-opacity, 0.04) + var(--mdc-ripple-selected-opacity, 0.08))}.mdc-ripple-surface.selected.mdc-ripple-upgraded--background-focused::before{opacity:.2;opacity:calc(var(--mdc-ripple-focus-opacity, 0.12) + var(--mdc-ripple-selected-opacity, 0.08))}.mdc-ripple-surface.selected{--mdc-ripple-press-opacity: calc(var(--mdc-ripple-press-opacity, 0.12) + 0.08)}.mdc-ripple-surface.disabled{--mdc-ripple-color: transparent}`;let Yt=class extends Ht{};Yt.styles=Xt,Yt=ht([H("mwc-ripple")],Yt);
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class Kt{constructor(t){this.startPress=n=>{t().then(t=>{t&&t.startPress(n)})},this.endPress=()=>{t().then(t=>{t&&t.endPress()})},this.startFocus=()=>{t().then(t=>{t&&t.startFocus()})},this.endFocus=()=>{t().then(t=>{t&&t.endFocus()})},this.startHover=()=>{t().then(t=>{t&&t.startHover()})},this.endHover=()=>{t().then(t=>{t&&t.endHover()})}}}class Qt extends st{constructor(){super(...arguments),this.raised=!1,this.unelevated=!1,this.outlined=!1,this.dense=!1,this.disabled=!1,this.trailingIcon=!1,this.fullwidth=!1,this.icon="",this.label="",this.shouldRenderRipple=!1,this.rippleHandlers=new Kt(()=>(this.shouldRenderRipple=!0,this.ripple))}renderRipple(){const t=this.raised||this.unelevated;return j`${this.shouldRenderRipple?j`<mwc-ripple .primary="${!t}" .disabled="${this.disabled}"></mwc-ripple>`:""}`}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}focus(){const t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}blur(){const t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}render(){const t={"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense};return j`
      <button
          id="button"
          class="mdc-button ${Rt(t)}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}"
          @focus="${this.handleRippleFocus}"
          @blur="${this.handleRippleBlur}"
          @mousedown="${this.handleRippleActivate}"
          @mouseup="${this.handleRippleDeactivate}"
          @mouseenter="${this.handleRippleMouseEnter}"
          @mouseleave="${this.handleRippleMouseLeave}"
          @touchstart="${this.handleRippleActivate}"
          @touchend="${this.handleRippleDeactivate}"
          @touchcancel="${this.handleRippleDeactivate}">
        ${this.renderRipple()}
        <span class="leading-icon">
          <slot name="icon">
            ${this.icon&&!this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
        <span class="mdc-button__label">${this.label}</span>
        <slot></slot>
        <span class="trailing-icon">
          <slot name="trailingIcon">
            ${this.icon&&this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
      </button>`}renderIcon(){return j`
    <mwc-icon class="mdc-button__icon">
      ${this.icon}
    </mwc-icon>`}handleRippleActivate(t){this.rippleHandlers.startPress(t)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}var Jt;ht([Y({type:Boolean})],Qt.prototype,"raised",void 0),ht([Y({type:Boolean})],Qt.prototype,"unelevated",void 0),ht([Y({type:Boolean})],Qt.prototype,"outlined",void 0),ht([Y({type:Boolean})],Qt.prototype,"dense",void 0),ht([Y({type:Boolean,reflect:!0})],Qt.prototype,"disabled",void 0),ht([Y({type:Boolean,attribute:"trailingicon"})],Qt.prototype,"trailingIcon",void 0),ht([Y({type:Boolean,reflect:!0})],Qt.prototype,"fullwidth",void 0),ht([Y({type:String})],Qt.prototype,"icon",void 0),ht([Y({type:String})],Qt.prototype,"label",void 0),ht([Q("#button")],Qt.prototype,"buttonElement",void 0),ht([(Jt="mwc-ripple",(t,n)=>{const i={async get(){return await this.updateComplete,this.renderRoot.querySelector(Jt)},enumerable:!0,configurable:!0};return void 0!==n?J(i,t,n):Z(i,t)})],Qt.prototype,"ripple",void 0),ht([K()],Qt.prototype,"shouldRenderRipple",void 0),ht([tt({passive:!0})],Qt.prototype,"handleRippleActivate",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Zt=rt`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;opacity:0;pointer-events:none;transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);padding:0 8px 0 8px;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;border-radius:4px}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__ripple{border-radius:4px}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:disabled{background-color:transparent}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;height:48px;left:0;transform:translateY(-50%)}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0,0,0,.38)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0,0,0,.12)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0,0,0,.38)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{padding:0 15px 0 15px;border-width:1px;border-style:solid}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0,0,0,.12)}.mdc-button--outlined:disabled{border-color:rgba(0,0,0,.12)}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{height:36px}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon,.leading-icon ::slotted(*),.leading-icon .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl],[dir=rtl] .leading-icon ::slotted(*),.leading-icon ::slotted(*)[dir=rtl],[dir=rtl] .leading-icon .mdc-button__icon,.leading-icon .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}.mdc-button--raised{box-shadow:var(--mdc-button-raised-box-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:active{box-shadow:var(--mdc-button-raised-box-shadow-active, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-button--raised:disabled{box-shadow:var(--mdc-button-raised-box-shadow-disabled, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}:host{display:inline-flex;outline:none;vertical-align:top}:host([disabled]){pointer-events:none}:host([fullwidth]){width:100%}.mdc-button{flex:auto;overflow:hidden;padding:0 var(--mdc-button-horizontal-padding, 8px) 0 var(--mdc-button-horizontal-padding, 8px);border-radius:var(--mdc-shape-small, 4px)}.mdc-button.mdc-button--raised,.mdc-button.mdc-button--unelevated{padding:0 var(--mdc-button-horizontal-padding, 16px) 0 var(--mdc-button-horizontal-padding, 16px)}.mdc-button.mdc-button--raised mwc-ripple,.mdc-button.mdc-button--unelevated mwc-ripple{--mdc-ripple-color: var(--mdc-theme-on-primary, #fff);--mdc-ripple-hover-opacity: .08;--mdc-ripple-press-opacity: .24;--mdc-ripple-focus-opacity: .24}.mdc-button.mdc-button--outlined{padding:0 calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px)) 0 calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px));border-width:var(--mdc-button-outline-width, 1px);border-color:var(--mdc-button-outline-color, var(--mdc-theme-primary, #6200ee))}.mdc-button.mdc-button--outlined mwc-ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button.mdc-button--dense{height:28px;margin-top:0;margin-bottom:0}.mdc-button.mdc-button--dense .mdc-button__touch{display:none}:host([disabled]) .mdc-button.mdc-button--raised,:host([disabled]) .mdc-button.mdc-button--unelevated{background-color:var(--mdc-button-disabled-fill-color, rgba(0, 0, 0, 0.12));color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button:not(.mdc-button--raised):not(.mdc-button--unelevated){color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button.mdc-button--outlined{border-color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38));border-color:var(--mdc-button-disabled-outline-color, var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38)))}`;let tn=class extends Qt{};tn.styles=Zt,tn=ht([H("mwc-button")],tn);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var nn={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},en={NOTCH_ELEMENT_PADDING:8},rn={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},on=function(t){function n(i){return t.call(this,ct(ct({},n.defaultAdapter),i))||this}return at(n,t),Object.defineProperty(n,"strings",{get:function(){return nn},enumerable:!0,configurable:!0}),Object.defineProperty(n,"cssClasses",{get:function(){return rn},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return en},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),n.prototype.notch=function(t){var i=n.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=en.NOTCH_ELEMENT_PADDING),this.adapter_.setNotchWidthProperty(t),this.adapter_.addClass(i)},n.prototype.closeNotch=function(){var t=n.cssClasses.OUTLINE_NOTCHED;this.adapter_.removeClass(t),this.adapter_.removeNotchWidthProperty()},n}(xt);class sn extends kt{constructor(){super(...arguments),this.mdcFoundationClass=on,this.width=0,this.open=!1,this.lastOpen=this.open}createAdapter(){return{addClass:t=>this.mdcRoot.classList.add(t),removeClass:t=>this.mdcRoot.classList.remove(t),setNotchWidthProperty:t=>this.notchElement.style.setProperty("width",`${t}px`),removeNotchWidthProperty:()=>this.notchElement.style.removeProperty("width")}}openOrClose(t,n){this.mdcFoundation&&(t&&void 0!==n?this.mdcFoundation.notch(n):this.mdcFoundation.closeNotch())}render(){return this.openOrClose(this.open,this.width),j`
      <span class="mdc-notched-outline">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <slot></slot>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>`}}ht([Q(".mdc-notched-outline")],sn.prototype,"mdcRoot",void 0),ht([Y({type:Number})],sn.prototype,"width",void 0),ht([Y({type:Boolean,reflect:!0})],sn.prototype,"open",void 0),ht([Q(".mdc-notched-outline__notch")],sn.prototype,"notchElement",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const un=rt`.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / .75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{padding:0}:host{display:block;position:absolute;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] :host,:host[dir=rtl]{text-align:right}::slotted(.mdc-floating-label){display:inline-block;position:relative;top:17px;bottom:auto;max-width:100%}::slotted(.mdc-floating-label--float-above){text-overflow:clip}.mdc-notched-outline--upgraded ::slotted(.mdc-floating-label--float-above){max-width:calc(100% / .75)}.mdc-notched-outline__leading{width:12px;width:var(--mdc-notched-outline-leading-width, 12px);border-radius:4px 0 0 4px;border-radius:var(--mdc-notched-outline-leading-border-radius, 4px 0 0 4px)}.mdc-notched-outline__trailing{border-radius:0 4px 4px 0;border-radius:var(--mdc-notched-outline-trailing-border-radius, 0 4px 4px 0)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-color:var(--mdc-notched-outline-border-color, var(--mdc-theme-primary, #6200ee));border-width:1px;border-width:var(--mdc-notched-outline-stroke-width, 1px)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0;padding-top:var(--mdc-notched-outline-notch-offset, 0)}`;let an=class extends sn{};an.styles=un,an=ht([H("mwc-notched-outline")],an);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class cn extends kt{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(t){this.formElement&&this.formElement.setAttribute("aria-label",t)}firstUpdated(){super.firstUpdated(),this.mdcRoot.addEventListener("change",t=>{this.dispatchEvent(new Event("change",t))})}}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var hn={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},fn=function(t){function n(i){var e=t.call(this,ct(ct({},n.defaultAdapter),i))||this;return e.shakeAnimationEndHandler_=function(){return e.handleShakeAnimationEnd_()},e}return at(n,t),Object.defineProperty(n,"cssClasses",{get:function(){return hn},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.adapter_.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},n.prototype.destroy=function(){this.adapter_.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},n.prototype.getWidth=function(){return this.adapter_.getWidth()},n.prototype.shake=function(t){var i=n.cssClasses.LABEL_SHAKE;t?this.adapter_.addClass(i):this.adapter_.removeClass(i)},n.prototype.float=function(t){var i=n.cssClasses,e=i.LABEL_FLOAT_ABOVE,r=i.LABEL_SHAKE;t?this.adapter_.addClass(e):(this.adapter_.removeClass(e),this.adapter_.removeClass(r))},n.prototype.handleShakeAnimationEnd_=function(){var t=n.cssClasses.LABEL_SHAKE;this.adapter_.removeClass(t)},n}(xt);
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const ln=new WeakMap,dn=m(t=>n=>{const i=ln.get(n);if(i){if(i.label!==t){const t=n.committer.element,i=new Event("labelchange");t.dispatchEvent(i)}}else{const i=n.committer.element;i.classList.add("mdc-floating-label");const e=(t=>({addClass:n=>t.classList.add(n),removeClass:n=>t.classList.remove(n),getWidth:()=>t.scrollWidth,registerInteractionHandler:(n,i)=>{t.addEventListener(n,i)},deregisterInteractionHandler:(n,i)=>{t.removeEventListener(n,i)}}))(i),r=new fn(e);r.init(),n.setValue(r),ln.set(n,{label:t,foundation:r})}});
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var mn={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},vn=function(t){function n(i){var e=t.call(this,ct(ct({},n.defaultAdapter),i))||this;return e.transitionEndHandler_=function(t){return e.handleTransitionEnd(t)},e}return at(n,t),Object.defineProperty(n,"cssClasses",{get:function(){return mn},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.adapter_.registerEventHandler("transitionend",this.transitionEndHandler_)},n.prototype.destroy=function(){this.adapter_.deregisterEventHandler("transitionend",this.transitionEndHandler_)},n.prototype.activate=function(){this.adapter_.removeClass(mn.LINE_RIPPLE_DEACTIVATING),this.adapter_.addClass(mn.LINE_RIPPLE_ACTIVE)},n.prototype.setRippleCenter=function(t){this.adapter_.setStyle("transform-origin",t+"px center")},n.prototype.deactivate=function(){this.adapter_.addClass(mn.LINE_RIPPLE_DEACTIVATING)},n.prototype.handleTransitionEnd=function(t){var n=this.adapter_.hasClass(mn.LINE_RIPPLE_DEACTIVATING);"opacity"===t.propertyName&&n&&(this.adapter_.removeClass(mn.LINE_RIPPLE_ACTIVE),this.adapter_.removeClass(mn.LINE_RIPPLE_DEACTIVATING))},n}(xt);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const pn=new WeakMap,gn=m(()=>t=>{if(!pn.get(t)){const n=t.committer.element;n.classList.add("mdc-line-ripple");const i=(t=>({addClass:n=>t.classList.add(n),removeClass:n=>t.classList.remove(n),hasClass:n=>t.classList.contains(n),setStyle:(n,i)=>t.style.setProperty(n,i),registerEventHandler:(n,i)=>{t.addEventListener(n,i)},deregisterEventHandler:(n,i)=>{t.removeEventListener(n,i)}}))(n),e=new vn(i);e.init(),t.setValue(e),pn.set(t,e)}});
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var bn={ARIA_CONTROLS:"aria-controls",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},wn={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",FULLWIDTH:"mdc-text-field--fullwidth",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},xn={LABEL_SCALE:.75},yn=["pattern","min","max","required","step","minlength","maxlength"],_n=["color","date","datetime-local","month","range","time","week"],En=["mousedown","touchstart"],In=["click","keydown"],Tn=function(t){function n(i,e){void 0===e&&(e={});var r=t.call(this,ct(ct({},n.defaultAdapter),i))||this;return r.isFocused_=!1,r.receivedUserInput_=!1,r.isValid_=!0,r.useNativeValidation_=!0,r.helperText_=e.helperText,r.characterCounter_=e.characterCounter,r.leadingIcon_=e.leadingIcon,r.trailingIcon_=e.trailingIcon,r.inputFocusHandler_=function(){return r.activateFocus()},r.inputBlurHandler_=function(){return r.deactivateFocus()},r.inputInputHandler_=function(){return r.handleInput()},r.setPointerXOffset_=function(t){return r.setTransformOrigin(t)},r.textFieldInteractionHandler_=function(){return r.handleTextFieldInteraction()},r.validationAttributeChangeHandler_=function(t){return r.handleValidationAttributeChange(t)},r}return at(n,t),Object.defineProperty(n,"cssClasses",{get:function(){return wn},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return bn},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return xn},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldAlwaysFloat_",{get:function(){var t=this.getNativeInput_().type;return _n.indexOf(t)>=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){var t=this;this.adapter_.isFocused()?this.inputFocusHandler_():this.adapter_.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter_.floatLabel(!0),this.styleFloating_(!0)),this.adapter_.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter_.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter_.registerInputInteractionHandler("input",this.inputInputHandler_),En.forEach((function(n){t.adapter_.registerInputInteractionHandler(n,t.setPointerXOffset_)})),In.forEach((function(n){t.adapter_.registerTextFieldInteractionHandler(n,t.textFieldInteractionHandler_)})),this.validationObserver_=this.adapter_.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},n.prototype.destroy=function(){var t=this;this.adapter_.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter_.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter_.deregisterInputInteractionHandler("input",this.inputInputHandler_),En.forEach((function(n){t.adapter_.deregisterInputInteractionHandler(n,t.setPointerXOffset_)})),In.forEach((function(n){t.adapter_.deregisterTextFieldInteractionHandler(n,t.textFieldInteractionHandler_)})),this.adapter_.deregisterValidationAttributeChangeHandler(this.validationObserver_)},n.prototype.handleTextFieldInteraction=function(){var t=this.adapter_.getNativeInput();t&&t.disabled||(this.receivedUserInput_=!0)},n.prototype.handleValidationAttributeChange=function(t){var n=this;t.some((function(t){return yn.indexOf(t)>-1&&(n.styleValidity_(!0),!0)})),t.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},n.prototype.notchOutline=function(t){if(this.adapter_.hasOutline())if(t){var n=this.adapter_.getLabelWidth()*xn.LABEL_SCALE;this.adapter_.notchOutline(n)}else this.adapter_.closeOutline()},n.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter_.activateLineRipple(),this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake)),this.helperText_&&this.helperText_.showToScreenReader()},n.prototype.setTransformOrigin=function(t){var n=t.touches,i=n?n[0]:t,e=i.target.getBoundingClientRect(),r=i.clientX-e.left;this.adapter_.setLineRippleTransformOrigin(r)},n.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},n.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},n.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter_.deactivateLineRipple();var t=this.isValid();this.styleValidity_(t),this.styleFocused_(this.isFocused_),this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},n.prototype.getValue=function(){return this.getNativeInput_().value},n.prototype.setValue=function(t){this.getValue()!==t&&(this.getNativeInput_().value=t),this.setCharacterCounter_(t.length);var n=this.isValid();this.styleValidity_(n),this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake))},n.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},n.prototype.setValid=function(t){this.isValid_=t,this.styleValidity_(t);var n=!t&&!this.isFocused_&&!!this.getValue();this.adapter_.hasLabel()&&this.adapter_.shakeLabel(n)},n.prototype.setUseNativeValidation=function(t){this.useNativeValidation_=t},n.prototype.isDisabled=function(){return this.getNativeInput_().disabled},n.prototype.setDisabled=function(t){this.getNativeInput_().disabled=t,this.styleDisabled_(t)},n.prototype.setHelperTextContent=function(t){this.helperText_&&this.helperText_.setContent(t)},n.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(t)},n.prototype.setLeadingIconContent=function(t){this.leadingIcon_&&this.leadingIcon_.setContent(t)},n.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(t)},n.prototype.setTrailingIconContent=function(t){this.trailingIcon_&&this.trailingIcon_.setContent(t)},n.prototype.setCharacterCounter_=function(t){if(this.characterCounter_){var n=this.getNativeInput_().maxLength;if(-1===n)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(t,n)}},n.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},n.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},n.prototype.styleValidity_=function(t){var i=n.cssClasses.INVALID;t?this.adapter_.removeClass(i):this.adapter_.addClass(i),this.helperText_&&this.helperText_.setValidity(t)},n.prototype.styleFocused_=function(t){var i=n.cssClasses.FOCUSED;t?this.adapter_.addClass(i):this.adapter_.removeClass(i)},n.prototype.styleDisabled_=function(t){var i=n.cssClasses,e=i.DISABLED,r=i.INVALID;t?(this.adapter_.addClass(e),this.adapter_.removeClass(r)):this.adapter_.removeClass(e),this.leadingIcon_&&this.leadingIcon_.setDisabled(t),this.trailingIcon_&&this.trailingIcon_.setDisabled(t)},n.prototype.styleFloating_=function(t){var i=n.cssClasses.LABEL_FLOATING;t?this.adapter_.addClass(i):this.adapter_.removeClass(i)},n.prototype.getNativeInput_=function(){return(this.adapter_?this.adapter_.getNativeInput():null)||{disabled:!1,maxLength:-1,type:"input",validity:{badInput:!1,valid:!0},value:""}},n}(xt);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const An=new WeakMap,kn=m(t=>n=>{const i=An.get(n);if(void 0===t&&n instanceof I){if(void 0!==i||!An.has(n)){const t=n.committer.name;n.committer.element.removeAttribute(t)}}else t!==i&&n.setValue(t);An.set(n,t)}),Sn=m(t=>n=>{let i;if(n instanceof N||n instanceof T)throw new Error("The `live` directive is not allowed on text or event bindings");if(n instanceof A)On(n.strings),i=n.element.hasAttribute(n.name),n.value=i;else{const{element:e,name:r,strings:o}=n.committer;if(On(o),n instanceof S){if(i=e[r],i===t)return}else n instanceof I&&(i=e.getAttribute(r));if(i===String(t))return}n.setValue(t)}),On=t=>{if(2!==t.length||""!==t[0]||""!==t[1])throw new Error("`live` bindings can only contain a single expression")},Nn=["touchstart","touchmove","scroll","mousewheel"],Rn=(t={})=>{const n={};for(const i in t)n[i]=t[i];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},n)};class Cn extends cn{constructor(){super(...arguments),this.mdcFoundationClass=Tn,this.value="",this.type="text",this.placeholder="",this.label="",this.icon="",this.iconTrailing="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.fullWidth=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.min="",this.max="",this.step=null,this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.readOnly=!1,this.outlineOpen=!1,this.outlineWidth=0,this.isUiValid=!0,this._validity=Rn(),this._outlineUpdateComplete=null,this.validityTransform=null}get validity(){return this._checkValidity(this.value),this._validity}get willValidate(){return this.formElement.willValidate}get selectionStart(){return this.formElement.selectionStart}get selectionEnd(){return this.formElement.selectionEnd}get shouldRenderHelperText(){return!!this.helper||!!this.validationMessage||this.charCounterVisible}get charCounterVisible(){return this.charCounter&&-1!==this.maxLength}focus(){const t=new CustomEvent("focus");this.formElement.dispatchEvent(t),this.formElement.focus()}blur(){const t=new CustomEvent("blur");this.formElement.dispatchEvent(t),this.formElement.blur()}select(){this.formElement.select()}setSelectionRange(t,n,i){this.formElement.setSelectionRange(t,n,i)}render(){const t={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--fullwidth":this.fullWidth,"mdc-text-field--with-leading-icon":this.icon,"mdc-text-field--with-trailing-icon":this.iconTrailing,"mdc-text-field--end-aligned":this.endAligned},n=this.outlined?"":j`<div class="mdc-text-field__ripple"></div>`;return j`
      <label class="mdc-text-field ${Rt(t)}">
        ${n}
        ${this.icon?this.renderIcon(this.icon):""}
        ${this.prefix?this.renderAffix(this.prefix):""}
        ${this.renderInput()}
        ${this.suffix?this.renderAffix(this.suffix,!0):""}
        ${this.iconTrailing?this.renderIcon(this.iconTrailing,!0):""}
        ${this.outlined?this.renderOutlined():this.renderLabelText()}
      </label>
      ${this.renderHelperText(this.renderCharCounter())}
    `}updated(t){t.has("value")&&void 0!==t.get("value")&&this.mdcFoundation.setValue(this.value)}renderInput(){const t=-1===this.minLength?void 0:this.minLength,n=-1===this.maxLength?void 0:this.maxLength;return j`
      <input
          aria-labelledby="label"
          class="mdc-text-field__input"
          type="${this.type}"
          .value="${Sn(this.value)}"
          ?disabled="${this.disabled}"
          placeholder="${this.placeholder}"
          ?required="${this.required}"
          ?readonly="${this.readOnly}"
          minlength="${kn(t)}"
          maxlength="${kn(n)}"
          pattern="${kn(this.pattern?this.pattern:void 0)}"
          min="${kn(""===this.min?void 0:this.min)}"
          max="${kn(""===this.max?void 0:this.max)}"
          step="${kn(null===this.step?void 0:this.step)}"
          size="${kn(null===this.size?void 0:this.size)}"
          inputmode="${kn(this.inputMode)}"
          @input="${this.handleInputChange}"
          @blur="${this.onInputBlur}">`}renderAffix(t,n=!1){return j`<span class="mdc-text-field__affix ${Rt({"mdc-text-field__affix--prefix":!n,"mdc-text-field__affix--suffix":n})}">
        ${t}</span>`}renderIcon(t,n=!1){return j`<i class="material-icons mdc-text-field__icon ${Rt({"mdc-text-field__icon--leading":!n,"mdc-text-field__icon--trailing":n})}">${t}</i>`}renderOutlined(){let t="";return this.label&&(t=j`
        <span
            .floatingLabelFoundation=${dn(this.label)}
            @labelchange=${this.onLabelChange}
            id="label">
          ${this.label}
        </span>
      `),j`
      <mwc-notched-outline
          .width=${this.outlineWidth}
          .open=${this.outlineOpen}
          class="mdc-notched-outline">
        ${t}
      </mwc-notched-outline>`}renderLabelText(){let t="";return this.label&&!this.fullWidth&&(t=j`
      <span
          .floatingLabelFoundation=${dn(this.label)}
          id="label">
        ${this.label}
      </span>`),j`
      ${t}
      <span .lineRippleFoundation=${gn()}></span>
    `}renderHelperText(t){if(!this.shouldRenderHelperText)return;const n=this.validationMessage&&!this.isUiValid,i={"mdc-text-field-helper-text--persistent":this.helperPersistent,"mdc-text-field-helper-text--validation-msg":n};return j`
      <div class="mdc-text-field-helper-line">
        <div class="mdc-text-field-helper-text ${Rt(i)}">${n?this.validationMessage:this.helper}</div>
        ${t}
      </div>
    `}renderCharCounter(){if(!this.charCounterVisible)return;const t=Math.min(this.value.length,this.maxLength);return j`<span class="mdc-text-field-character-counter">${t} / ${this.maxLength}</span>`}onInputBlur(){this.reportValidity()}checkValidity(){const t=this._checkValidity(this.value);if(!t){const t=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(t)}return t}reportValidity(){const t=this.checkValidity();return this.mdcFoundation.setValid(t),this.isUiValid=t,t}_checkValidity(t){const n=this.formElement.validity;let i=Rn(n);if(this.validityTransform){const n=this.validityTransform(t,i);i=Object.assign(Object.assign({},i),n),this.mdcFoundation.setUseNativeValidation(!1)}else this.mdcFoundation.setUseNativeValidation(!0);return this._validity=i,this._validity.valid}setCustomValidity(t){this.validationMessage=t,this.formElement.setCustomValidity(t)}handleInputChange(){this.value=this.formElement.value,this.autoValidate&&this.reportValidity()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init()}createAdapter(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods())}getRootAdapterMethods(){return Object.assign({registerTextFieldInteractionHandler:(t,n)=>this.addEventListener(t,n),deregisterTextFieldInteractionHandler:(t,n)=>this.removeEventListener(t,n),registerValidationAttributeChangeHandler:t=>{const n=new MutationObserver(n=>{t((t=>t.map(t=>t.attributeName).filter(t=>t))(n))});return n.observe(this.formElement,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:t=>t.disconnect()},It(this.mdcRoot))}getInputAdapterMethods(){return{getNativeInput:()=>this.formElement,isFocused:()=>!!this.shadowRoot&&this.shadowRoot.activeElement===this.formElement,registerInputInteractionHandler:(t,n)=>this.formElement.addEventListener(t,n,{passive:t in Nn}),deregisterInputInteractionHandler:(t,n)=>this.formElement.removeEventListener(t,n)}}getLabelAdapterMethods(){return{floatLabel:t=>this.labelElement&&this.labelElement.floatingLabelFoundation.float(t),getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,hasLabel:()=>Boolean(this.labelElement),shakeLabel:t=>this.labelElement&&this.labelElement.floatingLabelFoundation.shake(t)}}getLineRippleAdapterMethods(){return{activateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},setLineRippleTransformOrigin:t=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(t)}}}async _getUpdateComplete(){await super._getUpdateComplete(),await this._outlineUpdateComplete}async firstUpdated(){const t=this.outlineElement;t&&(this._outlineUpdateComplete=t.updateComplete,await this._outlineUpdateComplete),super.firstUpdated(),this.validateOnInitialRender&&this.reportValidity()}getOutlineAdapterMethods(){return{closeOutline:()=>this.outlineElement&&(this.outlineOpen=!1),hasOutline:()=>Boolean(this.outlineElement),notchOutline:t=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=t,this.outlineOpen=!0)}}}async onLabelChange(){this.label&&await this.layout()}async layout(){if(await this.updateComplete,this.labelElement&&this.outlineElement){const t=this.labelElement.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=t)}}}ht([Q(".mdc-text-field")],Cn.prototype,"mdcRoot",void 0),ht([Q("input")],Cn.prototype,"formElement",void 0),ht([Q(".mdc-floating-label")],Cn.prototype,"labelElement",void 0),ht([Q(".mdc-line-ripple")],Cn.prototype,"lineRippleElement",void 0),ht([Q("mwc-notched-outline")],Cn.prototype,"outlineElement",void 0),ht([Q(".mdc-notched-outline__notch")],Cn.prototype,"notchElement",void 0),ht([Y({type:String})],Cn.prototype,"value",void 0),ht([Y({type:String})],Cn.prototype,"type",void 0),ht([Y({type:String})],Cn.prototype,"placeholder",void 0),ht([Y({type:String})],Cn.prototype,"label",void 0),ht([Y({type:String})],Cn.prototype,"icon",void 0),ht([Y({type:String})],Cn.prototype,"iconTrailing",void 0),ht([Y({type:Boolean,reflect:!0})],Cn.prototype,"disabled",void 0),ht([Y({type:Boolean})],Cn.prototype,"required",void 0),ht([Y({type:Number})],Cn.prototype,"minLength",void 0),ht([Y({type:Number})],Cn.prototype,"maxLength",void 0),ht([Y({type:Boolean,reflect:!0})],Cn.prototype,"outlined",void 0),ht([Y({type:Boolean,reflect:!0})],Cn.prototype,"fullWidth",void 0),ht([Y({type:String})],Cn.prototype,"helper",void 0),ht([Y({type:Boolean})],Cn.prototype,"validateOnInitialRender",void 0),ht([Y({type:String})],Cn.prototype,"validationMessage",void 0),ht([Y({type:Boolean})],Cn.prototype,"autoValidate",void 0),ht([Y({type:String})],Cn.prototype,"pattern",void 0),ht([Y({type:Number})],Cn.prototype,"min",void 0),ht([Y({type:Number})],Cn.prototype,"max",void 0),ht([Y({type:Number})],Cn.prototype,"step",void 0),ht([Y({type:Number})],Cn.prototype,"size",void 0),ht([Y({type:Boolean})],Cn.prototype,"helperPersistent",void 0),ht([Y({type:Boolean})],Cn.prototype,"charCounter",void 0),ht([Y({type:Boolean})],Cn.prototype,"endAligned",void 0),ht([Y({type:String})],Cn.prototype,"prefix",void 0),ht([Y({type:String})],Cn.prototype,"suffix",void 0),ht([Y({type:String})],Cn.prototype,"inputMode",void 0),ht([Y({type:Boolean})],Cn.prototype,"readOnly",void 0),ht([Y({type:Boolean})],Cn.prototype,"outlineOpen",void 0),ht([Y({type:Number})],Cn.prototype,"outlineWidth",void 0),ht([Y({type:Boolean})],Cn.prototype,"isUiValid",void 0),ht([tt({passive:!0})],Cn.prototype,"handleInputChange",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Dn=rt`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / .75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{padding:0}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:12px;margin-right:12px}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-radius:4px 4px 0 0;padding:0 16px;display:inline-flex;align-items:baseline;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0,0,0,.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field.mdc-text-field--with-leading-icon,.mdc-text-field.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field.mdc-text-field--with-trailing-icon,.mdc-text-field.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}[dir=rtl] .mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon,.mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:0}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input:-webkit-autofill{z-index:auto !important}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--fullwidth .mdc-text-field__input::placeholder,.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--fullwidth .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field__input:-webkit-autofill+.mdc-floating-label{transform:translateY(-50%) scale(0.75);cursor:auto}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0,0,0,.87)}.mdc-text-field--filled:hover .mdc-text-field__ripple::before{opacity:.04}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:.12}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-radius:4px 0 0 4px}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-radius:0 4px 4px 0}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-radius:0 4px 4px 0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-radius:4px 0 0 4px}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--textarea{flex-direction:column;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:18px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;margin-left:0;margin-right:1px;padding:0 16px;line-height:1.5rem}[dir=rtl] .mdc-text-field--textarea .mdc-text-field__input,.mdc-text-field--textarea .mdc-text-field__input[dir=rtl]{margin-left:1px;margin-right:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field--fullwidth{padding:0;width:100%}.mdc-text-field--fullwidth:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--fullwidth.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea){display:flex}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__input{height:100%}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-floating-label{display:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea)::before{display:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__ripple::before,.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__ripple::after{content:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea):not(.mdc-text-field--disabled){background-color:transparent}.mdc-text-field--fullwidth.mdc-text-field--textarea .mdc-text-field__input{resize:vertical}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field__input:required~.mdc-floating-label::after,.mdc-text-field__input:required~.mdc-notched-outline .mdc-floating-label::after{margin-left:1px;content:"*"}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0,0,0,.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-flex;flex-direction:column;outline:none}:host([fullwidth]){display:flex}.mdc-text-field{width:100%;border-radius:4px 4px 0 0;border-radius:var(--mdc-text-field-filled-border-radius, 4px 4px 0 0)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42);border-bottom-color:var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42))}.mdc-text-field:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.87);border-bottom-color:var(--mdc-text-field-hover-line-color, rgba(0, 0, 0, 0.87))}.mdc-text-field.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.06);border-bottom-color:var(--mdc-text-field-disabled-line-color, rgba(0, 0, 0, 0.06))}.mdc-text-field.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-idle-border-color, rgba(0, 0, 0, 0.38))}:host(:not([disabled]):hover) :not(.mdc-text-field--invalid):not(.mdc-text-field--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-hover-border-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-character-counter,:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid .mdc-text-field__icon{color:var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-text-field__input:required~.mdc-floating-label::after,:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-text-field__input:required~.mdc-notched-outline .mdc-floating-label::after{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input{color:var(--mdc-text-field-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg),:host(:not([disabled])) .mdc-text-field-helper-line:not(.mdc-text-field--invalid) .mdc-text-field-character-counter{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-text-field.mdc-text-field--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-disabled-border-color, rgba(0, 0, 0, 0.06))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field .mdc-text-field__input,:host([disabled]) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-helper-text,:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-character-counter{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}`
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let Pn=class extends Cn{};Pn.styles=Dn,Pn=ht([H("mwc-textfield")],Pn);
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class Mn extends Cn{constructor(){super(...arguments),this.rows=2,this.cols=20}get shouldRenderHelperText(){return!!this.helper||!!this.validationMessage}render(){const t={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--fullwidth":this.fullWidth,"mdc-text-field--end-aligned":this.endAligned,"mdc-text-field--with-internal-counter":this.charCounterVisible},n=this.outlined?"":j`<div class="mdc-text-field__ripple"></div>`;return j`
      <label class="mdc-text-field mdc-text-field--textarea ${Rt(t)}">
        ${n}
        ${this.renderInput()}
        ${this.renderCharCounter()}
        ${this.outlined?this.renderOutlined():this.renderLabelText()}
      </label>
      ${this.renderHelperText()}
    `}renderInput(){const t=-1===this.maxLength?void 0:this.maxLength;return j`
      <textarea
          aria-labelledby="label"
          class="mdc-text-field__input"
          .value="${this.value}"
          rows="${this.rows}"
          cols="${this.cols}"
          ?disabled="${this.disabled}"
          placeholder="${this.placeholder}"
          ?required="${this.required}"
          ?readonly="${this.readOnly}"
          maxlength="${kn(t)}"
          @input="${this.handleInputChange}"
          @blur="${this.onInputBlur}">
      </textarea>`}}ht([Q("textarea")],Mn.prototype,"formElement",void 0),ht([Y({type:Number})],Mn.prototype,"rows",void 0),ht([Y({type:Number})],Mn.prototype,"cols",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const jn=rt`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / .75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{padding:0}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:12px;margin-right:12px}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-radius:4px 4px 0 0;padding:0 16px;display:inline-flex;align-items:baseline;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0,0,0,.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field.mdc-text-field--with-leading-icon,.mdc-text-field.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field.mdc-text-field--with-trailing-icon,.mdc-text-field.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}[dir=rtl] .mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon,.mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:0}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input:-webkit-autofill{z-index:auto !important}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--fullwidth .mdc-text-field__input::placeholder,.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--fullwidth .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field__input:-webkit-autofill+.mdc-floating-label{transform:translateY(-50%) scale(0.75);cursor:auto}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0,0,0,.87)}.mdc-text-field--filled:hover .mdc-text-field__ripple::before{opacity:.04}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:.12}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-radius:4px 0 0 4px}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-radius:0 4px 4px 0}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-radius:0 4px 4px 0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-radius:4px 0 0 4px}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--textarea{flex-direction:column;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:18px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;margin-left:0;margin-right:1px;padding:0 16px;line-height:1.5rem}[dir=rtl] .mdc-text-field--textarea .mdc-text-field__input,.mdc-text-field--textarea .mdc-text-field__input[dir=rtl]{margin-left:1px;margin-right:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field--fullwidth{padding:0;width:100%}.mdc-text-field--fullwidth:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--fullwidth.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea){display:flex}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__input{height:100%}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-floating-label{display:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea)::before{display:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__ripple::before,.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__ripple::after{content:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea):not(.mdc-text-field--disabled){background-color:transparent}.mdc-text-field--fullwidth.mdc-text-field--textarea .mdc-text-field__input{resize:vertical}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field__input:required~.mdc-floating-label::after,.mdc-text-field__input:required~.mdc-notched-outline .mdc-floating-label::after{margin-left:1px;content:"*"}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0,0,0,.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-flex;flex-direction:column;outline:none}:host([fullwidth]){display:flex}.mdc-text-field{width:100%;border-radius:4px 4px 0 0;border-radius:var(--mdc-text-field-filled-border-radius, 4px 4px 0 0)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42);border-bottom-color:var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42))}.mdc-text-field:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.87);border-bottom-color:var(--mdc-text-field-hover-line-color, rgba(0, 0, 0, 0.87))}.mdc-text-field.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.06);border-bottom-color:var(--mdc-text-field-disabled-line-color, rgba(0, 0, 0, 0.06))}.mdc-text-field.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-idle-border-color, rgba(0, 0, 0, 0.38))}:host(:not([disabled]):hover) :not(.mdc-text-field--invalid):not(.mdc-text-field--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-hover-border-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-character-counter,:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid .mdc-text-field__icon{color:var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-text-field__input:required~.mdc-floating-label::after,:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-text-field__input:required~.mdc-notched-outline .mdc-floating-label::after{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input{color:var(--mdc-text-field-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg),:host(:not([disabled])) .mdc-text-field-helper-line:not(.mdc-text-field--invalid) .mdc-text-field-character-counter{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-text-field.mdc-text-field--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-disabled-border-color, rgba(0, 0, 0, 0.06))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field .mdc-text-field__input,:host([disabled]) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-helper-text,:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-character-counter{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}.mdc-text-field.mdc-text-field--filled{overflow:hidden}.mdc-text-field.mdc-text-field--filled::before{display:none}.mdc-text-field.mdc-text-field--filled .mdc-text-field__input{height:auto;margin-top:23px;margin-bottom:9px}.mdc-text-field.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:15px}.mdc-text-field.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field.mdc-text-field--filled .mdc-floating-label.mdc-floating-label--float-above{transform:translateY(-50%) scale(0.75);font-size:initial}.mdc-text-field.mdc-text-field--filled .mdc-floating-label{top:18px;left:16px}.mdc-text-field{height:100%}.mdc-text-field__input{resize:none}`
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let Ln=class extends Mn{};Ln.styles=jn,Ln=ht([H("mwc-textarea")],Ln);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fn=!1,Un="${JSCORE_VERSION}",Bn=function(t,n){if(!t)throw zn(n)},zn=function(t){return new Error("Firebase Database ("+Un+") INTERNAL ASSERT FAILED: "+t)},Vn=function(t){for(var n=[],i=0,e=0;e<t.length;e++){var r=t.charCodeAt(e);r<128?n[i++]=r:r<2048?(n[i++]=r>>6|192,n[i++]=63&r|128):55296==(64512&r)&&e+1<t.length&&56320==(64512&t.charCodeAt(e+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++e)),n[i++]=r>>18|240,n[i++]=r>>12&63|128,n[i++]=r>>6&63|128,n[i++]=63&r|128):(n[i++]=r>>12|224,n[i++]=r>>6&63|128,n[i++]=63&r|128)}return n},qn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,e=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,u=s?t[r+1]:0,a=r+2<t.length,c=a?t[r+2]:0,h=o>>2,f=(3&o)<<4|u>>4,l=(15&u)<<2|c>>6,d=63&c;a||(d=64,s||(l=64)),e.push(i[h],i[f],i[l],i[d])}return e.join("")},encodeString:function(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(Vn(t),n)},decodeString:function(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):function(t){for(var n=[],i=0,e=0;i<t.length;){var r=t[i++];if(r<128)n[e++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[i++];n[e++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[i++]))<<12|(63&(u=t[i++]))<<6|63&t[i++])-65536;n[e++]=String.fromCharCode(55296+(s>>10)),n[e++]=String.fromCharCode(56320+(1023&s))}else{o=t[i++];var u=t[i++];n[e++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&u)}}return n.join("")}(this.decodeStringToByteArray(t,n))},decodeStringToByteArray:function(t,n){this.init_();for(var i=n?this.charToByteMapWebSafe_:this.charToByteMap_,e=[],r=0;r<t.length;){var o=i[t.charAt(r++)],s=r<t.length?i[t.charAt(r)]:0,u=++r<t.length?i[t.charAt(r)]:64,a=++r<t.length?i[t.charAt(r)]:64;if(++r,null==o||null==s||null==u||null==a)throw Error();var c=o<<2|s>>4;if(e.push(c),64!==u){var h=s<<4&240|u>>2;if(e.push(h),64!==a){var f=u<<6&192|a;e.push(f)}}}return e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gn=function(t){try{return qn.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $n(t){return Wn(void 0,t)}function Wn(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(var i in n)n.hasOwnProperty(i)&&(t[i]=Wn(t[i],n[i]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))}return t.prototype.wrapCallback=function(t){var n=this;return function(i,e){i?n.reject(i):n.resolve(e),"function"==typeof t&&(n.promise.catch((function(){})),1===t.length?t(i):t(i,e))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Yn(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function Kn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function Qn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Jn(){return!0===Fn}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(t){function n(i,e){var r=t.call(this,e)||this;return r.code=i,r.name="FirebaseError",Object.setPrototypeOf(r,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,ti.prototype.create),r}return at(n,t),n}(Error),ti=function(){function t(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return t.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var e=n[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?ni(o,e):"Error",u=this.serviceName+": "+s+" ("+r+").",a=new Zn(r,u),c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in a&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),a[f]=e[f])}return a},t}();function ni(t,n){return t.replace(ii,(function(t,i){var e=n[i];return null!=e?e.toString():"<"+i+"?>"}))}var ii=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){return JSON.parse(t)}function ri(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi=function(t){var n={},i={},e={},r="";try{var o=t.split(".");n=ei(Gn(o[0])||""),i=ei(Gn(o[1])||""),r=o[2],e=i.d||{},delete i.d}catch(t){}return{header:n,claims:i,data:e,signature:r}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function si(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function ui(t,n){return Object.prototype.hasOwnProperty.call(t,n)?t[n]:void 0}function ai(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function ci(t,n,i){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=n.call(i,t[r],r,t));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hi=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,n){n||(n=0);var i=this.W_;if("string"==typeof t)for(var e=0;e<16;e++)i[e]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(e=0;e<16;e++)i[e]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(e=16;e<80;e++){var r=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=4294967295&(r<<1|r>>>31)}var o,s,u=this.chain_[0],a=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(e=0;e<80;e++){e<40?e<20?(o=h^a&(c^h),s=1518500249):(o=a^c^h,s=1859775393):e<60?(o=a&c|h&(a|c),s=2400959708):(o=a^c^h,s=3395469782);r=(u<<5|u>>>27)+o+f+s+i[e]&4294967295;f=h,h=c,c=4294967295&(a<<30|a>>>2),a=u,u=r}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,n){if(null!=t){void 0===n&&(n=t.length);for(var i=n-this.blockSize,e=0,r=this.buf_,o=this.inbuf_;e<n;){if(0===o)for(;e<=i;)this.compress_(t,e),e+=this.blockSize;if("string"==typeof t){for(;e<n;)if(r[o]=t.charCodeAt(e),++e,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;e<n;)if(r[o]=t[e],++e,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}},t.prototype.digest=function(){var t=[],n=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);var e=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[e]=this.chain_[i]>>r&255,++e;return t},t}();function fi(t,n){var i=new li(t,n);return i.subscribe.bind(i)}var li=function(){function t(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(i)})).catch((function(t){i.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(n){n.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(n){n.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,n,i){var e,r=this;if(void 0===t&&void 0===n&&void 0===i)throw new Error("Missing Observer.");void 0===(e=function(t,n){if("object"!=typeof t||null===t)return!1;for(var i=0,e=n;i<e.length;i++){var r=e[i];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:i}).next&&(e.next=di),void 0===e.error&&(e.error=di),void 0===e.complete&&(e.complete=di);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?e.error(r.finalError):e.complete()}catch(t){}})),this.observers.push(e),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},t.prototype.sendOne=function(t,n){var i=this;this.task.then((function(){if(void 0!==i.observers&&void 0!==i.observers[t])try{n(i.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){n.observers=void 0,n.onNoObservers=void 0})))},t}();function di(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi=function(t,n,i,e){var r;if(e<n?r="at least "+n:e>i&&(r=0===i?"none":"no more than "+i),r)throw new Error(t+" failed: Was called with "+e+(1===e?" argument.":" arguments.")+" Expects "+r+".")};function vi(t,n,i){var e="";switch(n){case 1:e=i?"first":"First";break;case 2:e=i?"second":"Second";break;case 3:e=i?"third":"Third";break;case 4:e=i?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=t+" failed: ";return r+=e+" argument "}function pi(t,n,i,e){if((!e||i)&&"function"!=typeof i)throw new Error(vi(t,n,e)+"must be a valid function.")}function gi(t,n,i,e){if((!e||i)&&("object"!=typeof i||null===i))throw new Error(vi(t,n,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi=function(t){for(var n=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?n++:e<2048?n+=2:e>=55296&&e<=56319?(n+=4,i++):n+=3}return n},wi=function(){function t(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),xi=function(){function t(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new Hn;this.instancesDeferred.set(n,i);try{var e=this.getOrInitializeService(n);e&&i.resolve(e)}catch(t){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(t){var n=ct({identifier:"[DEFAULT]",optional:!1},t),i=n.identifier,e=n.optional,r=this.normalizeInstanceIdentifier(i);try{var o=this.getOrInitializeService(r);if(!o){if(e)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(e)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var e=dt(this.instancesDeferred.entries()),r=e.next();!r.done;r=e.next()){var o=mt(r.value,2),s=o[0],u=o[1],a=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(t){}}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return n.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var yi,_i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new xi(t,this);return this.providers.set(t,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ei(){for(var t=0,n=0,i=arguments.length;n<i;n++)t+=arguments[n].length;var e=Array(t),r=0;for(n=0;n<i;n++)for(var o=arguments[n],s=0,u=o.length;s<u;s++,r++)e[r]=o[s];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii,Ti=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Ii||(Ii={}));var Ai,ki={debug:Ii.DEBUG,verbose:Ii.VERBOSE,info:Ii.INFO,warn:Ii.WARN,error:Ii.ERROR,silent:Ii.SILENT},Si=Ii.INFO,Oi=((yi={})[Ii.DEBUG]="log",yi[Ii.VERBOSE]="log",yi[Ii.INFO]="info",yi[Ii.WARN]="warn",yi[Ii.ERROR]="error",yi),Ni=function(t,n){for(var i=[],e=2;e<arguments.length;e++)i[e-2]=arguments[e];if(!(n<t.logLevel)){var r=(new Date).toISOString(),o=Oi[n];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+n+")");console[o].apply(console,Ei(["["+r+"]  "+t.name+":"],i))}},Ri=function(){function t(t){this.name=t,this._logLevel=Si,this._logHandler=Ni,this._userLogHandler=null,Ti.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ii))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,Ii.DEBUG],t)),this._logHandler.apply(this,Ei([this,Ii.DEBUG],t))},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,Ii.VERBOSE],t)),this._logHandler.apply(this,Ei([this,Ii.VERBOSE],t))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,Ii.INFO],t)),this._logHandler.apply(this,Ei([this,Ii.INFO],t))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,Ii.WARN],t)),this._logHandler.apply(this,Ei([this,Ii.WARN],t))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,Ii.ERROR],t)),this._logHandler.apply(this,Ei([this,Ii.ERROR],t))},t}();function Ci(t){var n="string"==typeof t?ki[t]:t;Ti.forEach((function(t){t.logLevel=n}))}var Di,Pi=((Ai={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ai["bad-app-name"]="Illegal App name: '{$appName}",Ai["duplicate-app"]="Firebase App named '{$appName}' already exists",Ai["app-deleted"]="Firebase App named '{$appName}' already deleted",Ai["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ai["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ai),Mi=new ti("app","Firebase",Pi),ji=((Di={})["@firebase/app"]="fire-core",Di["@firebase/analytics"]="fire-analytics",Di["@firebase/auth"]="fire-auth",Di["@firebase/database"]="fire-rtdb",Di["@firebase/functions"]="fire-fn",Di["@firebase/installations"]="fire-iid",Di["@firebase/messaging"]="fire-fcm",Di["@firebase/performance"]="fire-perf",Di["@firebase/remote-config"]="fire-rc",Di["@firebase/storage"]="fire-gcs",Di["@firebase/firestore"]="fire-fst",Di["fire-js"]="fire-js",Di["firebase-wrapper"]="fire-js-all",Di),Li=new Ri("@firebase/app"),Fi=function(){function t(t,n,i){var e,r,o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=$n(t),this.container=new _i(n.name),this._addComponent(new wi("app",(function(){return o}),"PUBLIC"));try{for(var s=dt(this.firebase_.INTERNAL.components.values()),u=s.next();!u.done;u=s.next()){var a=u.value;this._addComponent(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(n){t.checkDestroyed_(),n()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,n){return void 0===n&&(n="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(t,n){void 0===n&&(n="[DEFAULT]"),this.container.getProvider(t).clearInstance(n)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Li.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Mi.create("app-deleted",{appName:this.name_})},t}();Fi.prototype.name&&Fi.prototype.options||Fi.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ui(t){var n={},i=new Map,e={hm:!0,initializeApp:function(i,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(si(n,s))throw Mi.create("duplicate-app",{appName:s});var u=new t(i,o,e);return n[s]=u,u},app:r,registerVersion:function(t,n,i){var e,r=null!==(e=ji[t])&&void 0!==e?e:t;i&&(r+="-"+i);var s=r.match(/\s|\//),u=n.match(/\s|\//);if(s||u){var a=['Unable to register library "'+r+'" with version "'+n+'":'];return s&&a.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&u&&a.push("and"),u&&a.push('version name "'+n+'" contains illegal characters (whitespace or "/")'),void Li.warn(a.join(" "))}o(new wi(r+"-version",(function(){return{library:r,version:n}}),"VERSION"))},setLogLevel:Ci,onLog:function(t,n){if(null!==t&&"function"!=typeof t)throw Mi.create("invalid-log-argument",{appName:name});!function(t,n){for(var i=function(i){var e=null;n&&n.level&&(e=ki[n.level]),i.userLogHandler=null===t?null:function(n,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");i>=(null!=e?e:n.logLevel)&&t({level:Ii[i].toLowerCase(),message:s,args:r,type:n.name})}},e=0,r=Ti;e<r.length;e++){i(r[e])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,n)},apps:null,SDK_VERSION:"7.14.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete n[t]},components:i,useAsService:function(t,n){if("serverAuth"===n)return null;return n}}};function r(t){if(!si(n,t=t||"[DEFAULT]"))throw Mi.create("no-app",{appName:t});return n[t]}function o(o){var s,u,a=o.name;if(i.has(a))return Li.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?e[a]:null;if(i.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw Mi.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Wn(c,o.serviceProps),e[a]=c,t.prototype[a]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this._getService.bind(this,a);return i.apply(this,o.multipleInstances?t:[])}}try{for(var h=dt(Object.keys(n)),f=h.next();!f.done;f=h.next()){var l=f.value;n[l]._addComponent(o)}}catch(t){s={error:t}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?e[a]:null}return e.default=e,Object.defineProperty(e,"apps",{get:function(){return Object.keys(n).map((function(t){return n[t]}))}}),r.App=t,e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=function t(){var n=Ui(Fi);return n.INTERNAL=ct(ct({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Wn(n,t)},createSubscribe:fi,ErrorFactory:ti,deepExtend:Wn}),n}(),zi=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var n=t.getComponent();return"VERSION"===(null==n?void 0:n.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var n=t.getImmediate();return n.library+"/"+n.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Li.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Vi=self.firebase.SDK_VERSION;Vi&&Vi.indexOf("LITE")>=0&&Li.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var qi=Bi.initializeApp;Bi.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Kn()&&Li.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),qi.apply(void 0,t)};var Gi=Bi;!function(t,n){t.INTERNAL.registerComponent(new wi("platform-logger",(function(t){return new zi(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.4",n),t.registerVersion("fire-js","")}(Gi),function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,n,i){t!=Array.prototype&&t!=Object.prototype&&(t[n]=i.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var n=0;n<t.length;++n){var i=t[n];if(i&&i.Math==Math)return i}return globalThis}(this);function e(t){var n=0;return function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}}}function r(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}!function(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function n(t){this.b=0,this.c=void 0,this.a=[];var n=this.f();try{t(n.resolve,n.reject)}catch(t){n.reject(t)}}function e(){this.a=null}function o(t){return t instanceof n?t:new n((function(n){n(t)}))}if(t)return t;e.prototype.b=function(t){if(null==this.a){this.a=[];var n=this;this.c((function(){n.g()}))}this.a.push(t)};var s=i.setTimeout;e.prototype.c=function(t){s(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var n=0;n<t.length;++n){var i=t[n];t[n]=null;try{i()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c((function(){throw t}))},n.prototype.f=function(){function t(t){return function(e){i||(i=!0,t.call(n,e))}}var n=this,i=!1;return{resolve:t(this.m),reject:t(this.g)}},n.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof n)this.s(t);else{t:switch(typeof t){case"object":var i=null!=t;break t;case"function":i=!0;break t;default:i=!1}i?this.u(t):this.h(t)}},n.prototype.u=function(t){var n=void 0;try{n=t.then}catch(t){return void this.g(t)}"function"==typeof n?this.w(n,t):this.h(t)},n.prototype.g=function(t){this.i(2,t)},n.prototype.h=function(t){this.i(1,t)},n.prototype.i=function(t,n){if(0!=this.b)throw Error("Cannot settle("+t+", "+n+"): Promise already settled in state"+this.b);this.b=t,this.c=n,this.l()},n.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)u.b(this.a[t]);this.a=null}};var u=new e;return n.prototype.s=function(t){var n=this.f();t.Oa(n.resolve,n.reject)},n.prototype.w=function(t,n){var i=this.f();try{t.call(n,i.resolve,i.reject)}catch(t){i.reject(t)}},n.prototype.then=function(t,i){function e(t,n){return"function"==typeof t?function(n){try{r(t(n))}catch(t){o(t)}}:n}var r,o,s=new n((function(t,n){r=t,o=n}));return this.Oa(e(t,r),e(i,o)),s},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.Oa=function(t,n){function i(){switch(e.b){case 1:t(e.c);break;case 2:n(e.c);break;default:throw Error("Unexpected state: "+e.b)}}var e=this;null==this.a?u.b(i):this.a.push(i)},n.resolve=o,n.reject=function(t){return new n((function(n,i){i(t)}))},n.race=function(t){return new n((function(n,i){for(var e=r(t),s=e.next();!s.done;s=e.next())o(s.value).Oa(n,i)}))},n.all=function(t){var i=r(t),e=i.next();return e.done?o([]):new n((function(t,n){function r(n){return function(i){s[n]=i,0==--u&&t(s)}}var s=[],u=0;do{s.push(void 0),u++,o(e.value).Oa(r(s.length-1),n),e=i.next()}while(!e.done)}))},n}));var o=o||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,a=null;function c(){}function h(t){var n=typeof t;if("object"==n){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return n;var i=Object.prototype.toString.call(t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==n&&void 0===t.call)return"object";return n}function f(t){var n=h(t);return"array"==n||"object"==n&&"number"==typeof t.length}function l(t){return"function"==h(t)}function d(t){var n=typeof t;return"object"==n&&null!=t||"function"==n}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function p(t,n,i){return t.call.apply(t.bind,arguments)}function g(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function b(t,n,i){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:g).apply(null,arguments)}function w(t,n){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var x=Date.now||function(){return+new Date};function y(t,n){function i(){}i.prototype=n.prototype,t.Za=n.prototype,t.prototype=new i,t.prototype.constructor=t}function _(t,n,i){this.code=T+t,this.message=n||A[t]||"",this.a=i||null}function E(t){var n=t&&t.code;return n?new _(n.substring(T.length),t.message,t.serverResponse):null}y(_,Error),_.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},_.prototype.toJSON=function(){return this.v()};var I,T="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function S(t){for(var n in k)if(k[n].id===t)return{firebaseEndpoint:(t=k[n]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var n=Error().stack;n&&(this.stack=n)}t&&(this.message=String(t))}function R(t,n){for(var i="",e=(t=t.split("%s")).length-1,r=0;r<e;r++)i+=t[r]+(r<n.length?n[r]:"%s");N.call(this,i+t[e])}function C(t,n){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,n){this.c=t,this.f=n,this.b=0,this.a=null}function P(t,n){t.f(n),100>t.b&&(t.b++,n.next=t.a,t.a=n)}function M(){this.b=this.a=null}I=S("__EID__")?"__EID__":void 0,y(N,Error),N.prototype.name="CustomError",y(R,N),R.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new D((function(){return new F}),(function(t){t.reset()}));function L(){var t=pn,n=null;return t.a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),n}function F(){this.next=this.b=this.a=null}M.prototype.add=function(t,n){var i=j.get();i.set(t,n),this.b?this.b.next=i:this.a=i,this.b=i},F.prototype.set=function(t,n){this.a=t,this.b=n,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,n){return Array.prototype.indexOf.call(t,n,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===n)return i;return-1},B=Array.prototype.forEach?function(t,n,i){Array.prototype.forEach.call(t,n,i)}:function(t,n,i){for(var e=t.length,r="string"==typeof t?t.split(""):t,o=0;o<e;o++)o in r&&n.call(i,r[o],o,t)};var z=Array.prototype.filter?function(t,n){return Array.prototype.filter.call(t,n,void 0)}:function(t,n){for(var i=t.length,e=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<i;s++)if(s in o){var u=o[s];n.call(void 0,u,s,t)&&(e[r++]=u)}return e},V=Array.prototype.map?function(t,n){return Array.prototype.map.call(t,n,void 0)}:function(t,n){for(var i=t.length,e=Array(i),r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&(e[o]=n.call(void 0,r[o],o,t));return e},q=Array.prototype.some?function(t,n){return Array.prototype.some.call(t,n,void 0)}:function(t,n){for(var i=t.length,e="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in e&&n.call(void 0,e[r],r,t))return!0;return!1};function G(t,n){return 0<=U(t,n)}function $(t,n){var i;return(i=0<=(n=U(t,n)))&&Array.prototype.splice.call(t,n,1),i}function W(t,n){!function(t,n){for(var i="string"==typeof t?t.split(""):t,e=t.length-1;0<=e;--e)e in i&&n.call(void 0,i[e],e,t)}(t,(function(i,e){n.call(void 0,i,e,t)&&1==Array.prototype.splice.call(t,e,1).length&&0}))}function H(t){return Array.prototype.concat.apply([],arguments)}function X(t){var n=t.length;if(0<n){for(var i=Array(n),e=0;e<n;e++)i[e]=t[e];return i}return[]}var Y,K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,J=/</g,Z=/>/g,tt=/"/g,nt=/'/g,it=/\x00/g,et=/[\x00&<>"']/;function rt(t,n){return-1!=t.indexOf(n)}function ot(t,n){return t<n?-1:t>n?1:0}t:{var st=s.navigator;if(st){var ut=st.userAgent;if(ut){Y=ut;break t}}Y=""}function at(t){return rt(Y,t)}function ct(t,n){for(var i in t)n.call(void 0,t[i],i,t)}function ht(t){for(var n in t)return!1;return!0}function ft(t){var n,i={};for(n in t)i[n]=t[n];return i}var lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,n){for(var i,e,r=1;r<arguments.length;r++){for(i in e=arguments[r])t[i]=e[i];for(var o=0;o<lt.length;o++)i=lt[o],Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}}function mt(t,n){t:{try{var i=t&&t.ownerDocument,e=i&&(i.defaultView||i.parentWindow);if((e=e||s).Element&&e.Location){var r=e;break t}}catch(t){}r=null}if(r&&void 0!==r[n]&&(!t||!(t instanceof r[n])&&(t instanceof r.Location||t instanceof r.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;C("Argument is not a %s (or a non-Element, non-Location mock); got: %s",n,o)}}function vt(t,n){this.a=t===bt&&n||"",this.b=gt}function pt(t){return t instanceof vt&&t.constructor===vt&&t.b===gt?t.a:(C("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ra=!0,vt.prototype.qa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt={},bt={},wt=new vt(bt,"");function xt(t,n){this.a=t===At&&n||"",this.b=Tt}function yt(t){return t instanceof xt&&t.constructor===xt&&t.b===Tt?t.a:(C("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function _t(t,n){var i=pt(t);if(!It.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return t=i.replace(Et,(function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof vt?pt(t):encodeURIComponent(String(t))})),new xt(At,t)}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},At={};function kt(t,n){this.a=t===Ct&&n||"",this.b=Rt}function St(t){return t instanceof kt&&t.constructor===kt&&t.b===Rt?t.a:(C("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof kt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new kt(Ct,t))}var Rt={},Ct={};function Dt(){this.a="",this.b=Mt}function Pt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Mt?t.a:(C("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function jt(t){var n=new Dt;return n.a=t,n}jt("<!DOCTYPE html>");var Lt=jt("");function Ft(t,n){for(var i=t.split("%s"),e="",r=Array.prototype.slice.call(arguments,1);r.length&&1<i.length;)e+=i.shift()+r.shift();return e+i.join("%s")}function Ut(t){return et.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Z,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}jt("<br>"),Bt[" "]=c;var zt,Vt,qt=at("Opera"),Gt=at("Trident")||at("MSIE"),$t=at("Edge"),Wt=$t||Gt,Ht=at("Gecko")&&!(rt(Y.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Xt=rt(Y.toLowerCase(),"webkit")&&!at("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Kt="",Qt=(Vt=Y,Ht?/rv:([^\);]+)(\)|;)/.exec(Vt):$t?/Edge\/([\d\.]+)/.exec(Vt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Vt):Xt?/WebKit\/(\S+)/.exec(Vt):qt?/(?:Version)[ \/]?(\S+)/.exec(Vt):void 0);if(Qt&&(Kt=Qt?Qt[1]:""),Gt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Kt)){zt=String(Jt);break t}}zt=Kt}var Zt,tn={};function nn(t){return function(t,n){var i=tn;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=n(t)}(t,(function(){for(var n=0,i=K(String(zt)).split("."),e=K(String(t)).split("."),r=Math.max(i.length,e.length),o=0;0==n&&o<r;o++){var s=i[o]||"",u=e[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=ot(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||ot(0==s[2].length,0==u[2].length)||ot(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n}))}Zt=s.document&&Gt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Vt){}var en=!Gt||9<=Number(Zt);function rn(t){var n=document;return"string"==typeof t?n.getElementById(t):t}function on(t,n){ct(n,(function(n,i){n&&"object"==typeof n&&n.ra&&(n=n.qa()),"style"==i?t.style.cssText=n:"class"==i?t.className=n:"for"==i?t.htmlFor=n:an.hasOwnProperty(i)?t.setAttribute(an[i],n):0==i.lastIndexOf("aria-",0)||0==i.lastIndexOf("data-",0)?t.setAttribute(i,n):t[i]=n}))}var sn,un,an={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function cn(t,n,i){function e(i){i&&n.appendChild("string"==typeof i?t.createTextNode(i):i)}for(var r=2;r<i.length;r++){var o=i[r];!f(o)||d(o)&&0<o.nodeType?e(o):B(fn(o)?X(o):o,e)}}function hn(t,n){return n=String(n),"application/xhtml+xml"===t.contentType&&(n=n.toLowerCase()),t.createElement(n)}function fn(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(l(t))return"function"==typeof t.item}return!1}function ln(t){s.setTimeout((function(){throw t}),0)}function dn(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")&&(t=function(){var t=hn(document,"IFRAME");t.style.display="none",function(t){var n=new xt(At,pt(wt));mt(t,"HTMLIFrameElement"),t.src=yt(n).toString()}(t),document.documentElement.appendChild(t);var n=t.contentWindow;(t=n.document).open(),t.write(Pt(Lt)),t.close();var i="callImmediate"+Math.random(),e="file:"==n.location.protocol?"*":n.location.protocol+"//"+n.location.host;t=b((function(t){"*"!=e&&t.origin!=e||t.data!=i||this.port1.onmessage()}),this),n.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(i,e)}}}),void 0!==t&&!at("Trident")&&!at("MSIE")){var n=new t,i={},e=i;return n.port1.onmessage=function(){if(void 0!==i.next){var t=(i=i.next).Db;i.Db=null,t()}},function(t){e.next={Db:t},e=e.next,n.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}function mn(t,n){un||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);un=function(){t.then(gn)}}else un=function(){var t=gn;!l(s.setImmediate)||s.Window&&s.Window.prototype&&!at("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(sn||(sn=dn()),sn(t)):s.setImmediate(t)}}(),vn||(un(),vn=!0),pn.add(t,n)}var vn=!1,pn=new M;function gn(){for(var t;t=L();){try{t.a.call(t.b)}catch(t){ln(t)}P(j,t)}vn=!1}function bn(t,n){if(this.a=wn,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var i=this;t.call(n,(function(t){Rn(i,xn,t)}),(function(t){if(!(t instanceof Fn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Rn(i,yn,t)}))}catch(t){Rn(this,yn,t)}}var wn=0,xn=2,yn=3;function _n(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_n.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var En=new D((function(){return new _n}),(function(t){t.reset()}));function In(t,n,i){var e=En.get();return e.g=t,e.b=n,e.f=i,e}function Tn(t){if(t instanceof bn)return t;var n=new bn(c);return Rn(n,xn,t),n}function An(t){return new bn((function(n,i){i(t)}))}function kn(t,n,i){Cn(t,n,i,null)||mn(w(n,t))}function Sn(t){return new bn((function(n){var i=t.length,e=[];if(i)for(var r=function(t,r,o){i--,e[t]=r?{Mb:!0,value:o}:{Mb:!1,reason:o},0==i&&n(e)},o=0;o<t.length;o++)kn(t[o],w(r,o,!0),w(r,o,!1));else n(e)}))}function On(t,n){t.b||t.a!=xn&&t.a!=yn||Dn(t),t.f?t.f.next=n:t.b=n,t.f=n}function Nn(t,n,i,e){var r=In(null,null,null);return r.a=new bn((function(t,o){r.g=n?function(i){try{var r=n.call(e,i);t(r)}catch(t){o(t)}}:t,r.b=i?function(n){try{var r=i.call(e,n);void 0===r&&n instanceof Fn?o(n):t(r)}catch(t){o(t)}}:o})),r.a.c=t,On(t,r),r.a}function Rn(t,n,i){t.a==wn&&(t===i&&(n=yn,i=new TypeError("Promise cannot resolve to itself")),t.a=1,Cn(i,t.Yc,t.Zc,t)||(t.i=i,t.a=n,t.c=null,Dn(t),n!=yn||i instanceof Fn||function(t,n){t.g=!0,mn((function(){t.g&&Ln.call(null,n)}))}(t,i)))}function Cn(t,n,i,e){if(t instanceof bn)return On(t,In(n||c,i||null,e)),!0;if(O(t))return t.then(n,i,e),!0;if(d(t))try{var r=t.then;if(l(r))return function(t,n,i,e,r){function o(t){s||(s=!0,e.call(r,t))}var s=!1;try{n.call(t,(function(t){s||(s=!0,i.call(r,t))}),o)}catch(t){o(t)}}(t,r,n,i,e),!0}catch(t){return i.call(e,t),!0}return!1}function Dn(t){t.h||(t.h=!0,mn(t.ec,t))}function Pn(t){var n=null;return t.b&&(n=t.b,t.b=n.next,n.next=null),t.b||(t.f=null),n}function Mn(t,n,i,e){if(i==yn&&n.b&&!n.c)for(;t&&t.g;t=t.c)t.g=!1;if(n.a)n.a.c=null,jn(n,i,e);else try{n.c?n.g.call(n.f):jn(n,i,e)}catch(t){Ln.call(null,t)}P(En,n)}function jn(t,n,i){n==xn?t.g.call(t.f,i):t.b&&t.b.call(t.f,i)}bn.prototype.then=function(t,n,i){return Nn(this,l(t)?t:null,l(n)?n:null,i)},bn.prototype.$goog_Thenable=!0,(t=bn.prototype).ma=function(t,n){return(t=In(t,t,n)).c=!0,On(this,t),this},t.o=function(t,n){return Nn(this,null,t,n)},t.cancel=function(t){if(this.a==wn){var n=new Fn(t);mn((function(){!function t(n,i){if(n.a==wn)if(n.c){var e=n.c;if(e.b){for(var r=0,o=null,s=null,u=e.b;u&&(u.c||(r++,u.a==n&&(o=u),!(o&&1<r)));u=u.next)o||(s=u);o&&(e.a==wn&&1==r?t(e,i):(s?((r=s).next==e.f&&(e.f=r),r.next=r.next.next):Pn(e),Mn(e,o,yn,i)))}n.c=null}else Rn(n,yn,i)}(this,n)}),this)}},t.Yc=function(t){this.a=wn,Rn(this,xn,t)},t.Zc=function(t){this.a=wn,Rn(this,yn,t)},t.ec=function(){for(var t;t=Pn(this);)Mn(this,t,this.a,this.i);this.h=!1};var Ln=ln;function Fn(t){N.call(this,t)}function Un(){this.wa=this.wa,this.na=this.na}y(Fn,N),Fn.prototype.name="cancel";function Bn(t){if(!t.wa&&(t.wa=!0,t.Ba(),0))(function(t){Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)})(t)}Un.prototype.wa=!1,Un.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var zn=Object.freeze||function(t){return t},Vn=!Gt||9<=Number(Zt),qn=Gt&&!nn("9"),Gn=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,n),s.removeEventListener("test",c,n)}catch(t){}return t}();function $n(t,n){this.type=t,this.b=this.target=n,this.defaultPrevented=!1}function Wn(t,n){if($n.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var i=this.type=t.type,e=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=n,n=t.relatedTarget){if(Ht){t:{try{Bt(n.nodeName);var r=!0;break t}catch(t){}r=!1}r||(n=null)}}else"mouseover"==i?n=t.fromElement:"mouseout"==i&&(n=t.toElement);this.relatedTarget=n,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Hn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$n.prototype.preventDefault=function(){this.defaultPrevented=!0},y(Wn,$n);var Hn=zn({2:"touch",3:"pen",4:"mouse"});Wn.prototype.preventDefault=function(){Wn.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,qn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Wn.prototype.f=function(){return this.a};var Xn="closure_listenable_"+(1e6*Math.random()|0),Yn=0;function Kn(t,n,i,e,r){this.listener=t,this.proxy=null,this.src=n,this.type=i,this.capture=!!e,this.Ta=r,this.key=++Yn,this.ua=this.Na=!1}function Qn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Jn(t){this.src=t,this.a={},this.b=0}function Zn(t,n){var i=n.type;i in t.a&&$(t.a[i],n)&&(Qn(n),0==t.a[i].length&&(delete t.a[i],t.b--))}function ti(t,n,i,e){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ua&&o.listener==n&&o.capture==!!i&&o.Ta==e)return r}return-1}Jn.prototype.add=function(t,n,i,e,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ti(t,n,e,r);return-1<s?(n=t[s],i||(n.Na=!1)):((n=new Kn(n,this.src,o,!!e,r)).Na=i,t.push(n)),n};var ni="closure_lm_"+(1e6*Math.random()|0),ii={};function ei(t,n,i,e,r){if(e&&e.once)oi(t,n,i,e,r);else if(Array.isArray(n))for(var o=0;o<n.length;o++)ei(t,n[o],i,e,r);else i=mi(i),t&&t[Xn]?pi(t,n,i,d(e)?!!e.capture:!!e,r):ri(t,n,i,!1,e,r)}function ri(t,n,i,e,r,o){if(!n)throw Error("Invalid event type");var s=d(r)?!!r.capture:!!r,u=li(t);if(u||(t[ni]=u=new Jn(t)),!(i=u.add(n,i,e,s,o)).proxy)if(e=function(){var t=fi,n=Vn?function(i){return t.call(n.src,n.listener,i)}:function(i){if(!(i=t.call(n.src,n.listener,i)))return i};return n}(),i.proxy=e,e.src=t,e.listener=i,t.addEventListener)Gn||(r=s),void 0===r&&(r=!1),t.addEventListener(n.toString(),e,r);else if(t.attachEvent)t.attachEvent(ai(n.toString()),e);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(e)}}function oi(t,n,i,e,r){if(Array.isArray(n))for(var o=0;o<n.length;o++)oi(t,n[o],i,e,r);else i=mi(i),t&&t[Xn]?gi(t,n,i,d(e)?!!e.capture:!!e,r):ri(t,n,i,!0,e,r)}function si(t,n,i,e,r){if(Array.isArray(n))for(var o=0;o<n.length;o++)si(t,n[o],i,e,r);else e=d(e)?!!e.capture:!!e,i=mi(i),t&&t[Xn]?(t=t.u,(n=String(n).toString())in t.a&&(-1<(i=ti(o=t.a[n],i,e,r))&&(Qn(o[i]),Array.prototype.splice.call(o,i,1),0==o.length&&(delete t.a[n],t.b--)))):t&&(t=li(t))&&(n=t.a[n.toString()],t=-1,n&&(t=ti(n,i,e,r)),(i=-1<t?n[t]:null)&&ui(i))}function ui(t){if("number"!=typeof t&&t&&!t.ua){var n=t.src;if(n&&n[Xn])Zn(n.u,t);else{var i=t.type,e=t.proxy;n.removeEventListener?n.removeEventListener(i,e,t.capture):n.detachEvent?n.detachEvent(ai(i),e):n.addListener&&n.removeListener&&n.removeListener(e),(i=li(n))?(Zn(i,t),0==i.b&&(i.src=null,n[ni]=null)):Qn(t)}}}function ai(t){return t in ii?ii[t]:ii[t]="on"+t}function ci(t,n,i,e){var r=!0;if((t=li(t))&&(n=t.a[n.toString()]))for(n=n.concat(),t=0;t<n.length;t++){var o=n[t];o&&o.capture==i&&!o.ua&&(o=hi(o,e),r=r&&!1!==o)}return r}function hi(t,n){var i=t.listener,e=t.Ta||t.src;return t.Na&&ui(t),i.call(e,n)}function fi(t,n){if(t.ua)return!0;if(!Vn){if(!n)t:{n=["window","event"];for(var i=s,e=0;e<n.length;e++)if(null==(i=i[n[e]])){n=null;break t}n=i}if(n=new Wn(e=n,this),i=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var r=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){r=!0}(r||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],r=n.b;r;r=r.parentNode)e.push(r);for(t=t.type,r=e.length-1;0<=r;r--){n.b=e[r];var o=ci(e[r],t,!0,n);i=i&&o}for(r=0;r<e.length;r++)n.b=e[r],o=ci(e[r],t,!1,n),i=i&&o}return i}return hi(t,new Wn(n,this))}function li(t){return(t=t[ni])instanceof Jn?t:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(t){return l(t)?t:(t[di]||(t[di]=function(n){return t.handleEvent(n)}),t[di])}function vi(){Un.call(this),this.u=new Jn(this),this.Yb=this,this.eb=null}function pi(t,n,i,e,r){t.u.add(String(n),i,!1,e,r)}function gi(t,n,i,e,r){t.u.add(String(n),i,!0,e,r)}function bi(t,n,i,e){if(!(n=t.u.a[String(n)]))return!0;n=n.concat();for(var r=!0,o=0;o<n.length;++o){var s=n[o];if(s&&!s.ua&&s.capture==i){var u=s.listener,a=s.Ta||s.src;s.Na&&Zn(t.u,s),r=!1!==u.call(a,e)&&r}}return r&&!e.defaultPrevented}function wi(t,n,i){if(l(t))i&&(t=b(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(n)?-1:s.setTimeout(t,n||0)}function xi(t){var n=null;return new bn((function(i,e){-1==(n=wi((function(){i(void 0)}),t))&&e(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(n),t}))}function yi(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var n=[],i=t.length,e=0;e<i;e++)n.push(t[e]);return n}for(e in n=[],i=0,t)n[i++]=t[e];return n}function _i(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var n=[];t=t.length;for(var i=0;i<t;i++)n.push(i);return n}for(var e in n=[],i=0,t)n[i++]=e;return n}}function Ei(t,n){this.b={},this.a=[],this.c=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var e=0;e<i;e+=2)this.set(arguments[e],arguments[e+1])}else if(t)if(t instanceof Ei)for(i=t.X(),e=0;e<i.length;e++)this.set(i[e],t.get(i[e]));else for(e in t)this.set(e,t[e])}function Ii(t){if(t.c!=t.a.length){for(var n=0,i=0;n<t.a.length;){var e=t.a[n];Ti(t.b,e)&&(t.a[i++]=e),n++}t.a.length=i}if(t.c!=t.a.length){var r={};for(i=n=0;n<t.a.length;)Ti(r,e=t.a[n])||(t.a[i++]=e,r[e]=1),n++;t.a.length=i}}function Ti(t,n){return Object.prototype.hasOwnProperty.call(t,n)}y(vi,Un),vi.prototype[Xn]=!0,vi.prototype.addEventListener=function(t,n,i,e){ei(this,t,n,i,e)},vi.prototype.removeEventListener=function(t,n,i,e){si(this,t,n,i,e)},vi.prototype.dispatchEvent=function(t){var n,i=this.eb;if(i)for(n=[];i;i=i.eb)n.push(i);i=this.Yb;var e=t.type||t;if("string"==typeof t)t=new $n(t,i);else if(t instanceof $n)t.target=t.target||i;else{var r=t;dt(t=new $n(e,i),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.b=n[o];r=bi(s,e,!0,t)&&r}if(r=bi(s=t.b=i,e,!0,t)&&r,r=bi(s,e,!1,t)&&r,n)for(o=0;o<n.length;o++)r=bi(s=t.b=n[o],e,!1,t)&&r;return r},vi.prototype.Ba=function(){if(vi.Za.Ba.call(this),this.u){var t,n=this.u;for(t in n.a){for(var i=n.a[t],e=0;e<i.length;e++)Qn(i[e]);delete n.a[t],n.b--}}this.eb=null},(t=Ei.prototype).V=function(){Ii(this);for(var t=[],n=0;n<this.a.length;n++)t.push(this.b[this.a[n]]);return t},t.X=function(){return Ii(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,n){return Ti(this.b,t)?this.b[t]:n},t.set=function(t,n){Ti(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=n},t.forEach=function(t,n){for(var i=this.X(),e=0;e<i.length;e++){var r=i[e],o=this.get(r);t.call(n,o,r,this)}};var Ai=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ki(t,n){var i;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof ki?(this.h=void 0!==n?n:t.h,Si(this,t.f),this.i=t.i,this.b=t.b,Oi(this,t.l),this.c=t.c,Ni(this,Ki(t.a)),this.g=t.g):t&&(i=String(t).match(Ai))?(this.h=!!n,Si(this,i[1]||"",!0),this.i=Mi(i[2]||""),this.b=Mi(i[3]||"",!0),Oi(this,i[4]),this.c=Mi(i[5]||"",!0),Ni(this,i[6]||"",!0),this.g=Mi(i[7]||"")):(this.h=!!n,this.a=new qi(null,this.h))}function Si(t,n,i){t.f=i?Mi(n,!0):n,t.f&&(t.f=t.f.replace(/:$/,""))}function Oi(t,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);t.l=n}else t.l=null}function Ni(t,n,i){n instanceof qi?(t.a=n,function(t,n){n&&!t.f&&($i(t),t.c=null,t.a.forEach((function(t,n){var i=n.toLowerCase();n!=i&&(Hi(this,n),Yi(this,i,t))}),t)),t.f=n}(t.a,t.h)):(i||(n=ji(n,zi)),t.a=new qi(n,t.h))}function Ri(t,n,i){t.a.set(n,i)}function Ci(t,n){return t.a.get(n)}function Di(t){return t instanceof ki?new ki(t):new ki(t,void 0)}function Pi(t,n){var i=new ki(null,void 0);return Si(i,"https"),t&&(i.b=t),n&&(i.c=n),i}function Mi(t,n){return t?n?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ji(t,n,i){return"string"==typeof t?(t=encodeURI(t).replace(n,Li),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Li(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ki.prototype.toString=function(){var t=[],n=this.f;n&&t.push(ji(n,Fi,!0),":");var i=this.b;return(i||"file"==n)&&(t.push("//"),(n=this.i)&&t.push(ji(n,Fi,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.l)&&t.push(":",String(i))),(i=this.c)&&(this.b&&"/"!=i.charAt(0)&&t.push("/"),t.push(ji(i,"/"==i.charAt(0)?Bi:Ui,!0))),(i=this.a.toString())&&t.push("?",i),(i=this.g)&&t.push("#",ji(i,Vi)),t.join("")},ki.prototype.resolve=function(t){var n=new ki(this),i=!!t.f;i?Si(n,t.f):i=!!t.i,i?n.i=t.i:i=!!t.b,i?n.b=t.b:i=null!=t.l;var e=t.c;if(i)Oi(n,t.l);else if(i=!!t.c){if("/"!=e.charAt(0))if(this.b&&!this.c)e="/"+e;else{var r=n.c.lastIndexOf("/");-1!=r&&(e=n.c.substr(0,r+1)+e)}if(".."==(r=e)||"."==r)e="";else if(rt(r,"./")||rt(r,"/.")){e=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var u=r[s++];"."==u?e&&s==r.length&&o.push(""):".."==u?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),e&&s==r.length&&o.push("")):(o.push(u),e=!0)}e=o.join("/")}else e=r}return i?n.c=e:i=""!==t.a.toString(),i?Ni(n,Ki(t.a)):i=!!t.g,i&&(n.g=t.g),n};var Fi=/[#\/\?@]/g,Ui=/[#\?:]/g,Bi=/[#\?]/g,zi=/[#\?@]/g,Vi=/#/g;function qi(t,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function $i(t){t.a||(t.a=new Ei,t.b=0,t.c&&function(t,n){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var e=t[i].indexOf("="),r=null;if(0<=e){var o=t[i].substring(0,e);r=t[i].substring(e+1)}else o=t[i];n(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(n,i){t.add(decodeURIComponent(n.replace(/\+/g," ")),i)})))}function Wi(t){var n=_i(t);if(void 0===n)throw Error("Keys are undefined");var i=new qi(null,void 0);t=yi(t);for(var e=0;e<n.length;e++){var r=n[e],o=t[e];Array.isArray(o)?Yi(i,r,o):i.add(r,o)}return i}function Hi(t,n){$i(t),n=Qi(t,n),Ti(t.a.b,n)&&(t.c=null,t.b-=t.a.get(n).length,Ti((t=t.a).b,n)&&(delete t.b[n],t.c--,t.a.length>2*t.c&&Ii(t)))}function Xi(t,n){return $i(t),n=Qi(t,n),Ti(t.a.b,n)}function Yi(t,n,i){Hi(t,n),0<i.length&&(t.c=null,t.a.set(Qi(t,n),X(i)),t.b+=i.length)}function Ki(t){var n=new qi;return n.c=t.c,t.a&&(n.a=new Ei(t.a),n.b=t.b),n}function Qi(t,n){return n=String(n),t.f&&(n=n.toLowerCase()),n}function Ji(t){var n=[];return function t(n,i,e){if(null==i)e.push("null");else{if("object"==typeof i){if(Array.isArray(i)){var r=i;i=r.length,e.push("[");for(var o="",s=0;s<i;s++)e.push(o),t(n,r[s],e),o=",";return void e.push("]")}if(!(i instanceof String||i instanceof Number||i instanceof Boolean)){for(r in e.push("{"),o="",i)Object.prototype.hasOwnProperty.call(i,r)&&("function"!=typeof(s=i[r])&&(e.push(o),ie(r,e),e.push(":"),t(n,s,e),o=","));return void e.push("}")}i=i.valueOf()}switch(typeof i){case"string":ie(i,e);break;case"number":e.push(isFinite(i)&&!isNaN(i)?String(i):"null");break;case"boolean":e.push(String(i));break;case"function":e.push("null");break;default:throw Error("Unknown type: "+typeof i)}}}(new Zi,t,n),n.join("")}function Zi(){}(t=qi.prototype).add=function(t,n){$i(this),this.c=null,t=Qi(this,t);var i=this.a.get(t);return i||this.a.set(t,i=[]),i.push(n),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,n){$i(this),this.a.forEach((function(i,e){B(i,(function(i){t.call(n,i,e,this)}),this)}),this)},t.X=function(){$i(this);for(var t=this.a.V(),n=this.a.X(),i=[],e=0;e<n.length;e++)for(var r=t[e],o=0;o<r.length;o++)i.push(n[e]);return i},t.V=function(t){$i(this);var n=[];if("string"==typeof t)Xi(this,t)&&(n=H(n,this.a.get(Qi(this,t))));else{t=this.a.V();for(var i=0;i<t.length;i++)n=H(n,t[i])}return n},t.set=function(t,n){return $i(this),this.c=null,Xi(this,t=Qi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[n]),this.b+=1,this},t.get=function(t,n){return t&&0<(t=this.V(t)).length?String(t[0]):n},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],n=this.a.X(),i=0;i<n.length;i++){var e=n[i],r=encodeURIComponent(String(e));e=this.V(e);for(var o=0;o<e.length;o++){var s=r;""!==e[o]&&(s+="="+encodeURIComponent(String(e[o]))),t.push(s)}}return this.c=t.join("&")};var te={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ne=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ie(t,n){n.push('"',t.replace(ne,(function(t){var n=te[t];return n||(n="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),te[t]=n),n})),'"')}function ee(){var t=_e();return Gt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function re(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function oe(t,n){n=n||s.window;var i="about:blank";t&&(i=St(Nt(t))),n.location.href=i}function se(t){return!!((t=(t||_e()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ue(t){t=t||s.window;try{t.close()}catch(t){}}function ae(t,n,i){var e=Math.floor(1e9*Math.random()).toString();n=n||500,i=i||600;var r=(window.screen.availHeight-i)/2,o=(window.screen.availWidth-n)/2;for(s in n={width:n,height:i,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},i=_e().toLowerCase(),e&&(n.target=e,rt(i,"crios/")&&(n.target="_blank")),we(_e())==ge&&(t=t||"http://localhost",n.scrollbars=!0),i=t||"",(t=n)||(t={}),e=window,n=i instanceof kt?i:Nt(void 0!==i.href?i.href:String(i)),i=t.target||i.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&e.navigator&&e.navigator.standalone&&i&&"_self"!=i?(mt(s=hn(document,"A"),"HTMLAnchorElement"),n instanceof kt||n instanceof kt||(n="object"==typeof n&&n.ra?n.qa():String(n),Ot.test(n)||(n="about:invalid#zClosurez"),n=new kt(Ct,n)),s.href=St(n),s.setAttribute("target",i),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=e.open("",i,s),t=St(n),s&&(Wt&&rt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">'),e=s.document)&&(e.write(Pt(t)),e.close())):(s=e.open(St(n),i,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var ce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^[^@]+@[^@]+$/;function fe(){var t=null;return new bn((function(n){"complete"==s.document.readyState?n():(t=function(){n()},oi(window,"load",t))})).o((function(n){throw si(window,"load",t),n}))}function le(t){return t=t||_e(),!("file:"!==ke()&&"ionic:"!==ke()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function de(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function me(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function ve(){return Gi.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Gi.INTERNAL.hasOwnProperty("node")?"Node":me()?"Worker":"Browser"}function pe(){var t=ve();return"ReactNative"===t||"Node"===t}var ge="Firefox",be="Chrome";function we(t){var n=t.toLowerCase();return rt(n,"opera/")||rt(n,"opr/")||rt(n,"opios/")?"Opera":rt(n,"iemobile")?"IEMobile":rt(n,"msie")||rt(n,"trident/")?"IE":rt(n,"edge/")?"Edge":rt(n,"firefox/")?ge:rt(n,"silk/")?"Silk":rt(n,"blackberry")?"Blackberry":rt(n,"webos")?"Webos":!rt(n,"safari/")||rt(n,"chrome/")||rt(n,"crios/")||rt(n,"android")?!rt(n,"chrome/")&&!rt(n,"crios/")||rt(n,"edge/")?rt(n,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":be:"Safari"}var xe={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function ye(t,n){n=n||[];var i,e=[],r={};for(i in xe)r[xe[i]]=!0;for(i=0;i<n.length;i++)void 0!==r[n[i]]&&(delete r[n[i]],e.push(n[i]));return e.sort(),(n=e).length||(n=["FirebaseCore-web"]),"Browser"===(e=ve())?e=we(r=_e()):"Worker"===e&&(e=we(r=_e())+"-"+e),e+"/JsCore/"+t+"/"+n.join(",")}function _e(){return s.navigator&&s.navigator.userAgent||""}function Ee(t,n){t=t.split("."),n=n||s;for(var i=0;i<t.length&&"object"==typeof n&&null!=n;i++)n=n[t[i]];return i!=t.length&&(n=void 0),n}function Ie(){try{var t=s.localStorage,n=Ce();if(t)return t.setItem(n,"1"),t.removeItem(n),!ee()||!!s.indexedDB}catch(t){return me()&&!!s.indexedDB}return!1}function Te(){return(Ae()||"chrome-extension:"===ke()||le())&&!pe()&&Ie()&&!me()}function Ae(){return"http:"===ke()||"https:"===ke()}function ke(){return s.location&&s.location.protocol||null}function Se(t){return!se(t=t||_e())&&we(t)!=ge}function Oe(t){return void 0===t?null:Ji(t)}function Ne(t){var n,i={};for(n in t)t.hasOwnProperty(n)&&null!==t[n]&&void 0!==t[n]&&(i[n]=t[n]);return i}function Re(t){if(null!==t)return JSON.parse(t)}function Ce(t){return t||Math.floor(1e9*Math.random()).toString()}function De(t){return"Safari"!=we(t=t||_e())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Pe(){var t=s.fm;if(t&&t.H)for(var n in t.H)if(t.H[n].r=t.H[n].r||[],t.H[n].L=t.H[n].L||[],t.H[n].r=t.H[n].L.concat(),t.CP)for(var i=0;i<t.CP.length;i++)t.CP[i]=null}function Me(t,n){if(t>n)throw Error("Short delay should be less than long delay!");this.a=t,this.c=n,t=_e(),n=ve(),this.b=se(t)||"ReactNative"===n}function je(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Le(t){try{var n=new Date(parseInt(t,10));if(!isNaN(n.getTime())&&!/[^0-9]/.test(t))return n.toUTCString()}catch(t){}return null}function Fe(){return!(!Ee("fireauth.oauthhelper",s)&&!Ee("fireauth.iframe",s))}Me.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ae()&&"chrome-extension:"!==ke()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ue,Be={};function ze(t){Be[t]||(Be[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ve={};Object.defineProperty(Ve,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ve,"abcd",{configurable:!0,enumerable:!0,value:2}),Ue=2==Ve.abcd}catch(Vt){Ue=!1}function qe(t,n,i){Ue?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,value:i}):t[n]=i}function Ge(t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&qe(t,i,n[i])}function $e(t){var n={};return Ge(n,t),n}function We(t){var n=t;if("object"==typeof t&&null!=t)for(var i in n="length"in t?[]:{},t)qe(n,i,We(t[i]));return n}function He(t){var n=t&&(t[Je]?"phone":null);if(!(n&&t&&t[Qe]))throw new _("internal-error","Internal assert: invalid MultiFactorInfo object");qe(this,"uid",t[Qe]),qe(this,"displayName",t[Ye]||null);var i=null;t[Ke]&&(i=new Date(t[Ke]).toUTCString()),qe(this,"enrollmentTime",i),qe(this,"factorId",n)}function Xe(t){try{var n=new Ze(t)}catch(t){n=null}return n}He.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ye="displayName",Ke="enrolledAt",Qe="mfaEnrollmentId",Je="phoneInfo";function Ze(t){He.call(this,t),qe(this,"phoneNumber",t[Je])}function tr(t){var n={},i=t[rr],e=t[sr],r=t[ur];if(t=Xe(t[or]),!r||r!=ir&&r!=er&&!i||r==er&&!e||r==nr&&!t)throw Error("Invalid checkActionCode response!");r==er?(n[cr]=i||null,n[fr]=i||null,n[ar]=e):(n[cr]=e||null,n[fr]=e||null,n[ar]=i||null),n[hr]=t||null,qe(this,dr,r),qe(this,lr,We(n))}y(Ze,He),Ze.prototype.v=function(){var t=Ze.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var nr="REVERT_SECOND_FACTOR_ADDITION",ir="EMAIL_SIGNIN",er="VERIFY_AND_CHANGE_EMAIL",rr="email",or="mfaInfo",sr="newEmail",ur="requestType",ar="email",cr="fromEmail",hr="multiFactorInfo",fr="previousEmail",lr="data",dr="operation";function mr(t){var n=Ci(t=Di(t),vr)||null,i=Ci(t,pr)||null,e=Ci(t,wr)||null;if(e=e&&yr[e]||null,!n||!i||!e)throw new _("argument-error",vr+", "+pr+"and "+wr+" are required in a valid action code URL.");Ge(this,{apiKey:n,operation:e,code:i,continueUrl:Ci(t,gr)||null,languageCode:Ci(t,br)||null,tenantId:Ci(t,xr)||null})}var vr="apiKey",pr="oobCode",gr="continueUrl",br="languageCode",wr="mode",xr="tenantId",yr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:nr,signIn:ir,verifyAndChangeEmail:er,verifyEmail:"VERIFY_EMAIL"};function _r(t){try{return new mr(t)}catch(t){return null}}function Er(t){var n=t[Sr];if(void 0===n)throw new _("missing-continue-uri");if("string"!=typeof n||"string"==typeof n&&!n.length)throw new _("invalid-continue-uri");this.h=n,this.b=this.a=null,this.g=!1;var i=t[Ir];if(i&&"object"==typeof i){n=i[Rr];var e=i[Or];if(i=i[Nr],"string"==typeof n&&n.length){if(this.a=n,void 0!==e&&"boolean"!=typeof e)throw new _("argument-error",Or+" property must be a boolean when specified.");if(this.g=!!e,void 0!==i&&("string"!=typeof i||"string"==typeof i&&!i.length))throw new _("argument-error",Nr+" property must be a non empty string when specified.");this.b=i||null}else{if(void 0!==n)throw new _("argument-error",Rr+" property must be a non empty string when specified.");if(void 0!==e||void 0!==i)throw new _("missing-android-pkg-name")}}else if(void 0!==i)throw new _("argument-error",Ir+" property must be a non null object when specified.");if(this.f=null,(n=t[kr])&&"object"==typeof n){if("string"==typeof(n=n[Cr])&&n.length)this.f=n;else if(void 0!==n)throw new _("argument-error",Cr+" property must be a non empty string when specified.")}else if(void 0!==n)throw new _("argument-error",kr+" property must be a non null object when specified.");if(void 0!==(n=t[Ar])&&"boolean"!=typeof n)throw new _("argument-error",Ar+" property must be a boolean when specified.");if(this.c=!!n,void 0!==(t=t[Tr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new _("argument-error",Tr+" property must be a non empty string when specified.");this.i=t||null}var Ir="android",Tr="dynamicLinkDomain",Ar="handleCodeInApp",kr="iOS",Sr="url",Or="installApp",Nr="minimumVersion",Rr="packageName",Cr="bundleId";function Dr(t){var n={};for(var i in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[i]&&delete n[i];return n}var Pr=null;function Mr(t){var n="";return function(t,n){function i(n){for(;e<t.length;){var i=t.charAt(e++),r=Pr[i];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(i))throw Error("Unknown base64 encoding at char: "+i)}return n}!function(){if(!Pr){Pr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),n=["+/=","+/","-_=","-_.","-_"],i=0;5>i;i++)for(var e=t.concat(n[i].split("")),r=0;r<e.length;r++){var o=e[r];void 0===Pr[o]&&(Pr[o]=r)}}}();for(var e=0;;){var r=i(-1),o=i(0),s=i(64),u=i(64);if(64===u&&-1===r)break;n(r<<2|o>>4),64!=s&&(n(o<<4&240|s>>2),64!=u&&n(s<<6&192|u))}}(t,(function(t){n+=String.fromCharCode(t)})),n}function jr(t){var n=Fr(t);if(!(n&&n.sub&&n.iss&&n.aud&&n.exp))throw Error("Invalid JWT");this.g=t,this.c=n.exp,this.h=n.sub,this.a=n.provider_id||n.firebase&&n.firebase.sign_in_provider||null,this.f=n.firebase&&n.firebase.tenant||null,this.b=!!n.is_anonymous||"anonymous"==this.a}function Lr(t){try{return new jr(t)}catch(t){return null}}function Fr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var n=(4-(t=t[1]).length%4)%4,i=0;i<n;i++)t+=".";try{return JSON.parse(Mr(t))}catch(t){}return null}jr.prototype.S=function(){return this.f},jr.prototype.i=function(){return this.b},jr.prototype.toString=function(){return this.g};var Ur="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Br=["client_id","response_type","scope","redirect_uri","state"],zr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Br},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Br},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Br},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Ur},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Vr(t){for(var n in zr)if(zr[n].ea==t)return zr[n];return null}function qr(t){var n={};n["facebook.com"]=Xr,n["google.com"]=Kr,n["github.com"]=Yr,n["twitter.com"]=Qr;var i=t&&t[$r];try{if(i)return n[i]?new n[i](t):new Hr(t);if(void 0!==t[Gr])return new Wr(t)}catch(t){}return null}var Gr="idToken",$r="providerId";function Wr(t){var n=t[$r];if(!n&&t[Gr]){var i=Lr(t[Gr]);i&&i.a&&(n=i.a)}if(!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),i=!1,void 0!==t.isNewUser?i=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(i=!0),qe(this,"providerId",n),qe(this,"isNewUser",i)}function Hr(t){Wr.call(this,t),qe(this,"profile",We((t=Re(t.rawUserInfo||"{}"))||{}))}function Xr(t){if(Hr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yr(t){if(Hr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qe(this,"username",this.profile&&this.profile.login||null)}function Kr(t){if(Hr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qr(t){if(Hr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qe(this,"username",t.screenName||null)}function Jr(t){var n=Di(t),i=Ci(n,"link"),e=Ci(Di(i),"link");return n=Ci(n,"deep_link_id"),Ci(Di(n),"link")||n||e||i||t}function Zr(t,n){if(!t&&!n)throw new _("internal-error","Internal assert: no raw session string available");if(t&&n)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=n||null,this.type=this.a?to:no}y(Hr,Wr),y(Xr,Hr),y(Yr,Hr),y(Kr,Hr),y(Qr,Hr);var to="enroll",no="signin";function io(){}function eo(t,n){return t.then((function(t){if(t[$s]){var i=Lr(t[$s]);if(!i||n!=i.h)throw new _("user-mismatch");return t}throw new _("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new _("user-mismatch"):t}))}function ro(t,n){if(!n)throw new _("internal-error","failed to construct a credential");this.a=n,qe(this,"providerId",t),qe(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function so(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(t){}return null}function uo(t,n,i){if(this.a=null,n.idToken||n.accessToken)n.idToken&&qe(this,"idToken",n.idToken),n.accessToken&&qe(this,"accessToken",n.accessToken),n.nonce&&!n.pendingToken&&qe(this,"nonce",n.nonce),n.pendingToken&&(this.a=n.pendingToken);else{if(!n.oauthToken||!n.oauthTokenSecret)throw new _("internal-error","failed to construct a credential");qe(this,"accessToken",n.oauthToken),qe(this,"secret",n.oauthTokenSecret)}qe(this,"providerId",t),qe(this,"signInMethod",i)}function ao(t){var n={};return t.idToken&&(n.id_token=t.idToken),t.accessToken&&(n.access_token=t.accessToken),t.secret&&(n.oauth_token_secret=t.secret),n.providerId=t.providerId,t.nonce&&!t.a&&(n.nonce=t.nonce),n={postBody:Wi(n).toString(),requestUri:"http://localhost"},t.a&&(delete n.postBody,n.pendingToken=t.a),n}function co(t){if(t&&t.providerId&&t.signInMethod){var n={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new uo(t.providerId,n,t.signInMethod)}catch(t){}}return null}function ho(t,n){this.Oc=n||[],Ge(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Vr(t)||{}).Ha||null,this.kb=null}function fo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,t,[])}function lo(t){ho.call(this,t,Br),this.a=[]}function mo(){lo.call(this,"facebook.com")}function vo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var n=t;return d(t)&&(n=t.accessToken),(new mo).credential({accessToken:n})}function po(){lo.call(this,"github.com")}function go(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var n=t;return d(t)&&(n=t.accessToken),(new po).credential({accessToken:n})}function bo(){lo.call(this,"google.com"),this.Aa("profile")}function wo(t,n){var i=t;return d(t)&&(i=t.idToken,n=t.accessToken),(new bo).credential({idToken:i,accessToken:n})}function xo(){ho.call(this,"twitter.com",Ur)}function yo(t,n){var i=t;if(d(i)||(i={oauthToken:t,oauthTokenSecret:n}),!i.oauthToken||!i.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",i,"twitter.com")}function _o(t,n,i){this.a=t,this.f=n,qe(this,"providerId","password"),qe(this,"signInMethod",i===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new _o(t.email,t.password,t.signInMethod):null}function Io(){Ge(this,{providerId:"password",isOAuthProvider:!1})}function To(t,n){if(!(n=Ao(n)))throw new _("argument-error","Invalid email link!");return new _o(t,n.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=_r(t=Jr(t)))&&t.operation===ir?t:null}function ko(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new _("internal-error");this.a=t,qe(this,"providerId","phone"),this.ea="phone",qe(this,"signInMethod","phone")}function So(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var n={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(i){t[i]&&(n[i]=t[i])})),new ko(n)}return null}function Oo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function No(t){try{this.a=t||Gi.auth()}catch(t){throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ge(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,n){if(!t)throw new _("missing-verification-id");if(!n)throw new _("missing-verification-code");return new ko({bb:t,ab:n})}function Co(t){if(t.temporaryProof&&t.phoneNumber)return new ko({Ja:t.temporaryProof,da:t.phoneNumber});var n=t&&t.providerId;if(!n||"password"===n)return null;var i=t&&t.oauthAccessToken,e=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(n){case"google.com":return wo(o,i);case"facebook.com":return vo(i);case"github.com":return go(i);case"twitter.com":return yo(i,e);default:return i||e||o||s?s?0==n.indexOf("saml.")?new ro(n,s):new uo(n,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},n):new lo(n).credential({idToken:o,accessToken:i,rawNonce:r}):null}}catch(t){return null}}function Do(t){if(!t.isOAuthProvider)throw new _("invalid-oauth-provider")}function Po(t,n,i,e,r,o,s){if(this.c=t,this.b=n||null,this.g=i||null,this.f=e||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new _("invalid-auth-event");if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}function Mo(t){return(t=t||{}).type?new Po(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function jo(){this.b=null,this.a=[]}Zr.prototype.Fa=function(){return this.a?Tn(this.a):Tn(this.b)},Zr.prototype.v=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ia=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.v=function(){},ro.prototype.ia=function(t){return fu(t,oo(this))},ro.prototype.b=function(t,n){var i=oo(this);return i.idToken=n,lu(t,i)},ro.prototype.c=function(t,n){return eo(du(t,oo(this)),n)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ia=function(t){return fu(t,ao(this))},uo.prototype.b=function(t,n){var i=ao(this);return i.idToken=n,lu(t,i)},uo.prototype.c=function(t,n){return eo(du(t,ao(this)),n)},uo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ho.prototype.Ia=function(t){return this.Fb=ft(t),this},y(fo,ho),y(lo,ho),lo.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},lo.prototype.Nb=function(){return X(this.a)},lo.prototype.credential=function(t,n){var i;if(!(i=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:n||null}).idToken&&!i.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,i,this.providerId)},y(mo,lo),qe(mo,"PROVIDER_ID","facebook.com"),qe(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),y(po,lo),qe(po,"PROVIDER_ID","github.com"),qe(po,"GITHUB_SIGN_IN_METHOD","github.com"),y(bo,lo),qe(bo,"PROVIDER_ID","google.com"),qe(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),y(xo,ho),qe(xo,"PROVIDER_ID","twitter.com"),qe(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ia=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Xu(t,yu,{email:this.a,oobCode:this.f}):Xu(t,qu,{email:this.a,password:this.f})},_o.prototype.b=function(t,n){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Xu(t,_u,{idToken:n,email:this.a,oobCode:this.f}):Xu(t,Mu,{idToken:n,email:this.a,password:this.f})},_o.prototype.c=function(t,n){return eo(this.ia(t),n)},_o.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ge(Io,{PROVIDER_ID:"password"}),Ge(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ge(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ko.prototype.ia=function(t){return t.cb(Oo(this))},ko.prototype.b=function(t,n){var i=Oo(this);return i.idToken=n,Xu(t,$u,i)},ko.prototype.c=function(t,n){var i=Oo(this);return i.operation="REAUTH",eo(t=Xu(t,Wu,i),n)},ko.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},No.prototype.cb=function(t,n){var i=this.a.b;return Tn(n.verify()).then((function(e){if("string"!=typeof e)throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":var r=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(r&&r.type==to?r.Fa().then((function(t){return function(t,n){return Xu(t,Lu,n).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(i,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:e}})})):r&&r.type==no?r.Fa().then((function(n){return function(t,n){return Xu(t,Fu,n).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(i,{mfaPendingCredential:n,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}})})):function(t,n){return Xu(t,Du,n)}(i,{phoneNumber:o,recaptchaToken:e})).then((function(t){return"function"==typeof n.reset&&n.reset(),t}),(function(t){throw"function"==typeof n.reset&&n.reset(),t}));default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ge(No,{PROVIDER_ID:"phone"}),Ge(No,{PHONE_SIGN_IN_METHOD:"phone"}),Po.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Po.prototype.S=function(){return this.h},Po.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Fo=null;function Uo(t){var n="unauthorized-domain",i=void 0,e=Di(t);t=e.b,"chrome-extension"==(e=e.f)?i=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==e||"https"==e?i=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):n="operation-not-supported-in-this-environment",_.call(this,n,i)}function Bo(t,n,i){_.call(this,t,i),(t=n||{}).Gb&&qe(this,"email",t.Gb),t.da&&qe(this,"phoneNumber",t.da),t.credential&&qe(this,"credential",t.credential),t.Wb&&qe(this,"tenantId",t.Wb)}function zo(t){if(t.code){var n=t.code||"";0==n.indexOf(T)&&(n=n.substring(T.length));var i={credential:Co(t),Wb:t.tenantId};if(t.email)i.Gb=t.email;else if(t.phoneNumber)i.da=t.phoneNumber;else if(!i.credential)return new _(n,t.message||void 0);return new Bo(n,i,t.message)}return null}function Vo(){}function qo(t){return t.c||(t.c=t.b())}function Go(){}function $o(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var n=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],i=0;i<n.length;i++){var e=n[i];try{return new ActiveXObject(e),t.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Ho(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Xo(t,n){t.readyState=n,t.onreadystatechange&&t.onreadystatechange()}function Yo(t,n,i){this.reset(t,n,i,void 0,void 0)}function Ko(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,n){this.name=t,this.value=n}y(Uo,_),y(Bo,_),Bo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var n=this.credential&&this.credential.v();return n&&dt(t,n),t},Bo.prototype.toJSON=function(){return this.v()},Vo.prototype.c=null,y(Go,Vo),Go.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},Lo=new Go,y(Wo,Vo),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ho;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Ho.prototype).open=function(t,n,i){if(null!=i&&!i)throw Error("Only async requests are supported.");this.a.open(t,n)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(t,n,i,e,r){delete this.a},Qo.prototype.toString=function(){return this.name};var Jo=new Qo("SEVERE",1e3),Zo=new Qo("WARNING",900),ts=new Qo("CONFIG",700),ns=new Qo("FINE",500);Ko.prototype.log=function(t,n,i){if(t.value>=function t(n){return n.c?n.c:n.a?t(n.a):(C("Root logger has no level set."),null)}(this).value)for(l(n)&&(n=n()),t=new Yo(t,String(n),this.f),i&&(t.a=i),i=this;i;)i=i.a};var is={},es=null;function rs(t){var n;if(es||(es=new Ko(""),is[""]=es,es.c=ts),!(n=is[t])){n=new Ko(t);var i=t.lastIndexOf("."),e=t.substr(i+1);(i=rs(t.substr(0,i))).b||(i.b={}),i.b[e]=n,n.a=i,is[t]=n}return n}function os(t,n){t&&t.log(ns,n,void 0)}function ss(t){this.f=t}function us(t){vi.call(this),this.s=t,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=rs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}y(ss,Vo),ss.prototype.a=function(){return new us(this.f)},ss.prototype.b=function(t){return function(){return t}}({}),y(us,vi);var as=0;function cs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function hs(t,n){n&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ls(t){vi.call(this),this.headers=new Ei,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ds,this.w=this.R=!1}(t=us.prototype).open=function(t,n){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=n,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var n={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(n.body=t),this.s.fetch(new Request(this.g,n)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this,!1)),this.readyState=as},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var n=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});n&&(this.response=this.responseText+=n),t.done?hs(this,!0):fs(this),3==this.readyState&&cs(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,hs(this,!0))},t.qc=function(t){this.a&&(this.response=t,hs(this,!0))},t.Sa=function(t){var n=this.h;n&&n.log(Zo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hs(this,!0)},t.setRequestHeader=function(t,n){this.i.append(t,n)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var n=this.b.entries(),i=n.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=n.next();return t.join("\r\n")},y(ls,vi);var ds="";ls.prototype.b=rs("goog.net.XhrIo");var ms=/^https?$/i,vs=["POST","PUT"];function ps(t,n,i,e,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+n);i=i?i.toUpperCase():"GET",t.l=n,t.h="",t.P=i,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Lo.a(),t.B=t.D?qo(t.D):qo(Lo),t.a.onreadystatechange=b(t.Sb,t);try{os(t.b,Ts(t,"Opening Xhr")),t.O=!0,t.a.open(i,String(n),!0),t.O=!1}catch(n){return os(t.b,Ts(t,"Error opening Xhr: "+n.message)),void bs(t,n)}n=e||"";var o=new Ei(t.headers);r&&function(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(f(t)||"string"==typeof t)B(t,n,void 0);else for(var i=_i(t),e=yi(t),r=e.length,o=0;o<r;o++)n.call(void 0,e[o],i&&i[o],t)}(r,(function(t,n){o.set(n,t)})),r=function(t){t:{for(var n=gs,i=t.length,e="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in e&&n.call(void 0,e[r],r,t)){n=r;break t}n=-1}return 0>n?null:"string"==typeof t?t.charAt(n):t[n]}(o.X()),e=s.FormData&&n instanceof s.FormData,!G(vs,i)||r||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,n){this.a.setRequestHeader(n,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_s(t),0<t.g&&(t.w=function(t){return Gt&&nn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),os(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=wi(t.Ka,t.g,t)),os(t.b,Ts(t,"Sending request")),t.i=!0,t.a.send(n),t.i=!1}catch(n){os(t.b,Ts(t,"Send error: "+n.message)),bs(t,n)}}function gs(t){return"content-type"==t.toLowerCase()}function bs(t,n){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=n,ws(t),ys(t)}function ws(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xs(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Es(t)&&2==Is(t))os(t.b,Ts(t,"Local request error detected and ignored"));else if(t.i&&4==Es(t))wi(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Es(t)){os(t.b,Ts(t,"Request complete")),t.c=!1;try{var n,i=Is(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(n=e)){var r;if(r=0===i){var u=String(t.l).match(Ai)[1]||null;if(!u&&s.self&&s.self.location){var a=s.self.location.protocol;u=a.substr(0,a.length-1)}r=!ms.test(u?u.toLowerCase():"")}n=r}if(n)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Es(t)?t.a.statusText:""}catch(n){os(t.b,"Can not get status: "+n.message),c=""}t.h=c+" ["+Is(t)+"]",ws(t)}}finally{ys(t)}}}function ys(t,n){if(t.a){_s(t);var i=t.a,e=t.B[0]?c:null;t.a=null,t.B=null,n||t.dispatchEvent("ready");try{i.onreadystatechange=e}catch(n){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+n.message,void 0)}}}function _s(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Es(t){return t.a?t.a.readyState:0}function Is(t){try{return 2<Es(t)?t.a.status:-1}catch(t){return-1}}function Ts(t,n){return n+" ["+t.P+" "+t.l+" "+Is(t)+"]"}function As(t){var n=Ls;this.g=[],this.w=n,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function ks(t,n,i){t.a=!0,t.c=i,t.f=!n,Rs(t)}function Ss(t){if(t.a){if(!t.u)throw new Cs(t);t.u=!1}}function Os(t,n,i,e){t.g.push([n,i,e]),t.a&&Rs(t)}function Ns(t){return q(t.g,(function(t){return l(t[1])}))}function Rs(t){if(t.h&&t.a&&Ns(t)){var n=t.h,i=Ms[n];i&&(s.clearTimeout(i.a),delete Ms[n]),t.h=0}t.b&&(t.b.l--,delete t.b),n=t.c;for(var e=i=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],u=r[1];if(r=r[2],o=t.f?u:o)try{var a=o.call(r||t.s,n);void 0!==a&&(t.f=t.f&&(a==n||a instanceof Error),t.c=n=a),(O(n)||"function"==typeof s.Promise&&n instanceof s.Promise)&&(e=!0,t.i=!0)}catch(e){n=e,t.f=!0,Ns(t)||(i=!0)}}t.c=n,e&&(a=b(t.m,t,!0),e=b(t.m,t,!1),n instanceof As?(Os(n,a,e),n.B=!0):n.then(a,e)),i&&(n=new Ps(n),Ms[n.a]=n,t.h=n.a)}function Cs(){N.call(this)}function Ds(){N.call(this)}function Ps(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ls.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,Ts(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(os(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ys(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ys(this,!0)),ls.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?xs(this):this.Hc())},t.Hc=function(){xs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ds:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return os(this.b,"Can not get response: "+t.message),null}},As.prototype.cancel=function(t){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var n=this.b;delete this.b,t?n.cancel(t):(n.l--,0>=n.l&&n.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ds(this),Ss(this),ks(this,!1,t))}},As.prototype.m=function(t,n){this.i=!1,ks(this,t,n)},As.prototype.then=function(t,n,i){var e,r,o=new bn((function(t,n){e=t,r=n}));return Os(this,e,(function(t){t instanceof Ds?o.cancel():r(t)})),o.then(t,n,i)},As.prototype.$goog_Thenable=!0,y(Cs,N),Cs.prototype.message="Deferred has already fired",Cs.prototype.name="AlreadyCalledError",y(Ds,N),Ds.prototype.message="Deferred was canceled",Ds.prototype.name="CanceledError",Ps.prototype.c=function(){throw delete Ms[this.a],this.b};var Ms={};function js(t){var n,i=document,e=yt(t).toString(),r=hn(document,"SCRIPT"),o={Tb:r,Ka:void 0},c=new As(o);return n=window.setTimeout((function(){Fs(r,!0);var t=new zs(Bs,"Timeout reached for loading script "+e);Ss(c),ks(c,!1,t)}),5e3),o.Ka=n,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Fs(r,!1,n),Ss(c),ks(c,!0,null))},r.onerror=function(){Fs(r,!0,n);var t=new zs(Us,"Error while loading script "+e);Ss(c),ks(c,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),on(r,o),function(t,n){mt(t,"HTMLScriptElement"),t.src=yt(n),null===a&&(a=(n=(n=s.document).querySelector&&n.querySelector("script[nonce]"))&&(n=n.nonce||n.getAttribute("nonce"))&&u.test(n)?n:""),(n=a)&&t.setAttribute("nonce",n)}(r,t),function(t){var n;return(n=(t||document).getElementsByTagName("HEAD"))&&0!=n.length?n[0]:t.documentElement}(i).appendChild(r),c}function Ls(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ka)}}function Fs(t,n,i){null!=i&&s.clearTimeout(i),t.onload=c,t.onerror=c,t.onreadystatechange=c,n&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Us=0,Bs=1;function zs(t,n){var i="Jsloader error (code #"+t+")";n&&(i+=": "+n),N.call(this,i),this.code=t}function Vs(t){this.f=t}function qs(t,n,i){if(this.c=t,t=n||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ws,this.g=ft(t.secureTokenHeaders||Hs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Xs,this.a=ft(t.firebaseHeaders||Ys),i&&(this.a["X-Client-Version"]=i,this.g["X-Client-Version"]=i),i="Node"==ve(),!(i=s.XMLHttpRequest||i&&Gi.INTERNAL.node&&Gi.INTERNAL.node.XMLHttpRequest)&&!me())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,me()?this.f=new ss(self):pe()?this.f=new Vs(i):this.f=new Wo,this.b=null}y(zs,N),y(Vs,Vo),Vs.prototype.a=function(){return new this.f},Vs.prototype.b=function(){return{}};var Gs,$s="idToken",Ws=new Me(3e4,6e4),Hs={"Content-Type":"application/x-www-form-urlencoded"},Xs=new Me(3e4,6e4),Ys={"Content-Type":"application/json"};function Ks(t,n){n?t.a["X-Firebase-Locale"]=n:delete t.a["X-Firebase-Locale"]}function Qs(t,n){n?(t.a["X-Client-Version"]=n,t.g["X-Client-Version"]=n):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Js(t,n,i,e,r,o,u){(function(){var t=_e();return!((t=we(t)!=be?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Gt||!Zt||9<Zt)})()||me()?t=b(t.w,t):(Gs||(Gs=new bn((function(t,n){!function(t,n){if(((window.gapi||{}).client||{}).request)t();else{s[tu]=function(){((window.gapi||{}).client||{}).request?t():n(Error("CORS_UNSUPPORTED"))},function(t,n){Os(t,null,n,void 0)}(js(_t(Zs,{onload:tu})),(function(){n(Error("CORS_UNSUPPORTED"))}))}}(t,n)}))),t=b(t.s,t)),t(n,i,e,r,o,u)}qs.prototype.S=function(){return this.b},qs.prototype.w=function(t,n,i,e,r,o){if(me()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new ls(this.f);if(o){u.g=Math.max(0,o);var a=setTimeout((function(){u.dispatchEvent("timeout")}),o)}pi(u,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(n){return os(t.b,"Can not get responseText: "+n.message),""}}(this))||null}catch(n){t=null}n&&n(t)})),gi(u,"ready",(function(){a&&clearTimeout(a),Bn(this)})),gi(u,"timeout",(function(){a&&clearTimeout(a),Bn(this),n&&n(null)})),ps(u,t,i,e,r)};var Zs=new vt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),tu="__fcb"+Math.floor(1e6*Math.random()).toString();function nu(t,n,i,e,r,o,s){var u=Di(n+i);Ri(u,"key",t.c),s&&Ri(u,"cb",x().toString());var a="GET"==e;if(a)for(var c in r)r.hasOwnProperty(c)&&Ri(u,c,r[c]);return new bn((function(n,i){Js(t,u.toString(),(function(t){t?t.error?i(Ku(t,o||{})):n(t):i(new _("network-request-failed"))}),e,a?void 0:Ji(Ne(r)),t.a,t.i.get())}))}function iu(t){if("string"!=typeof(t=t.email)||!he.test(t))throw new _("invalid-email")}function eu(t){"email"in t&&iu(t)}function ru(t){if(!t[$s]){if(t.mfaPendingCredential)throw new _("multi-factor-auth-required",null,ft(t));throw new _("internal-error")}}function ou(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _("internal-error")}else{if(!t.sessionInfo)throw new _("missing-verification-id");if(!t.code)throw new _("missing-verification-code")}}qs.prototype.s=function(t,n,i,e,r){var o=this;Gs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:i,body:e,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),n&&n(t)}})})).o((function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qs.prototype.vb=function(){return Xu(this,ju,{})},qs.prototype.xb=function(t,n){return Xu(this,Pu,{idToken:t,email:n})},qs.prototype.yb=function(t,n){return Xu(this,Mu,{idToken:t,password:n})};var su={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function uu(t){if(!t.phoneVerificationInfo)throw new _("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new _("missing-verification-code")}function au(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new _("internal-error")}function cu(t,n){return n.oauthIdToken&&n.providerId&&0==n.providerId.indexOf("oidc.")&&!n.pendingToken&&(t.sessionId?n.nonce=t.sessionId:t.postBody&&(Xi(t=new qi(t.postBody),"nonce")&&(n.nonce=t.get("nonce")))),n}function hu(t){var n=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",n=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",n=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",n=zo(t)):t.errorMessage&&(n=Yu(t.errorMessage)),n)throw n;ru(t)}function fu(t,n){return n.returnIdpCredential=!0,Xu(t,Uu,n)}function lu(t,n){return n.returnIdpCredential=!0,Xu(t,zu,n)}function du(t,n){return n.returnIdpCredential=!0,n.autoCreate=!1,Xu(t,Bu,n)}function mu(t){if(!t.oobCode)throw new _("invalid-action-code")}(t=qs.prototype).zb=function(t,n){var i={idToken:t},e=[];return ct(su,(function(t,r){var o=n[r];null===o?e.push(t):r in n&&(i[r]=o)})),e.length&&(i.deleteAttribute=e),Xu(this,Pu,i)},t.rb=function(t,n){return dt(t={requestType:"PASSWORD_RESET",email:t},n),Xu(this,Ou,t)},t.sb=function(t,n){return dt(t={requestType:"EMAIL_SIGNIN",email:t},n),Xu(this,Au,t)},t.qb=function(t,n){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},n),Xu(this,ku,t)},t.Ab=function(t,n,i){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:n},i),Xu(this,Su,t)},t.cb=function(t){return Xu(this,Gu,t)},t.jb=function(t,n){return Xu(this,Cu,{oobCode:t,newPassword:n})},t.Pa=function(t){return Xu(this,pu,{oobCode:t})},t.fb=function(t){return Xu(this,vu,{oobCode:t})};var vu={endpoint:"setAccountInfo",A:mu,Y:"email",C:!0},pu={endpoint:"resetPassword",A:mu,G:function(t){var n=t.requestType;if(!n||!t.email&&"EMAIL_SIGNIN"!=n&&"VERIFY_AND_CHANGE_EMAIL"!=n)throw new _("internal-error")},C:!0},gu={endpoint:"signupNewUser",A:function(t){if(iu(t),!t.password)throw new _("weak-password")},G:ru,U:!0,C:!0},bu={endpoint:"createAuthUri",C:!0},wu={endpoint:"deleteAccount",M:["idToken"]},xu={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=h(t.deleteProvider))throw new _("internal-error")}},yu={endpoint:"emailLinkSignin",M:["email","oobCode"],A:iu,G:ru,U:!0,C:!0},_u={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:iu,G:ru,U:!0},Eu={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:uu,G:ru,C:!0,La:!0},Iu={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:uu,G:ru,C:!0,La:!0},Tu={endpoint:"getAccountInfo"},Au={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _("internal-error");iu(t)},Y:"email",C:!0},ku={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _("internal-error")},Y:"email",C:!0},Su={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new _("internal-error")},Y:"email",C:!0},Ou={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _("internal-error");iu(t)},Y:"email",C:!0},Nu={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ru={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new _("internal-error")}},Cu={endpoint:"resetPassword",A:mu,Y:"email",C:!0},Du={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Pu={endpoint:"setAccountInfo",M:["idToken"],A:eu,U:!0},Mu={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(eu(t),!t.password)throw new _("weak-password")},G:ru,U:!0},ju={endpoint:"signupNewUser",G:ru,U:!0,C:!0},Lu={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new _("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new _("internal-error")},C:!0,La:!0},Fu={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new _("internal-error")},C:!0,La:!0},Uu={endpoint:"verifyAssertion",A:au,Wa:cu,G:hu,U:!0,C:!0},Bu={endpoint:"verifyAssertion",A:au,Wa:cu,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _("user-not-found");if(t.errorMessage)throw Yu(t.errorMessage);ru(t)},U:!0,C:!0},zu={endpoint:"verifyAssertion",A:function(t){if(au(t),!t.idToken)throw new _("internal-error")},Wa:cu,G:hu,U:!0},Vu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new _("invalid-custom-token")},G:ru,U:!0,C:!0},qu={endpoint:"verifyPassword",A:function(t){if(iu(t),!t.password)throw new _("wrong-password")},G:ru,U:!0,C:!0},Gu={endpoint:"verifyPhoneNumber",A:ou,G:ru,C:!0},$u={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new _("internal-error");ou(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);ru(t)}},Wu={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ou,G:ru,C:!0},Hu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$s]^!!t.refreshToken)throw new _("internal-error")},C:!0,La:!0};function Xu(t,n,i){if(!function(t,n){if(!n||!n.length)return!0;if(!t)return!1;for(var i=0;i<n.length;i++){var e=t[n[i]];if(null==e||""===e)return!1}return!0}(i,n.M))return An(new _("internal-error"));var e,r=!!n.La,o=n.Rb||"POST";return Tn(i).then(n.A).then((function(){return n.U&&(i.returnSecureToken=!0),n.C&&t.b&&void 0===i.tenantId&&(i.tenantId=t.b),nu(t,r?t.l:t.h,n.endpoint,o,i,n.Eb,n.hb||!1)})).then((function(t){return e=t,n.Wa?n.Wa(i,e):e})).then(n.G).then((function(){if(!n.Y)return e;if(!(n.Y in e))throw new _("internal-error");return e[n.Y]}))}function Yu(t){return Ku({error:{errors:[{message:t}],code:400,message:t}})}function Ku(t,n){var i=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(i=e[i]?new _(e[i]):null)return i;for(var r in i=t.error&&t.error.message||"",dt(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},n||{}),n=(n=i.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<n.length?n[1]:void 0,e)if(0===i.indexOf(r))return new _(e[r],n);return!n&&t&&(n=Oe(t)),new _("internal-error",n)}function Qu(t){this.b=t,this.a=null,this.nb=function(t){return(na||(na=new bn((function(t,n){function i(){Pe(),Ee("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Pe(),n(Error("Network Error"))},timeout:Zu.get()})}if(Ee("gapi.iframes.Iframe"))t();else if(Ee("gapi.load"))i();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[e]=function(){Ee("gapi.load")?i():n(Error("Network Error"))},Tn(js(e=_t(Ju,{onload:e}))).o((function(){n(Error("Network Error"))}))}})).o((function(t){throw na=null,t})))).then((function(){return new bn((function(n,i){Ee("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ee("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function r(){clearTimeout(o),n()}t.a=e,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){i(Error("Network Error"))}),ta.get());e.ping(r).then(r,(function(){i(Error("Network Error"))}))}))}))}))}(this)}var Ju=new vt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Zu=new Me(3e4,6e4),ta=new Me(5e3,15e3),na=null;function ia(t,n,i){this.i=t,this.g=n,this.h=i,this.f=null,this.a=Pi(this.i,"/__/auth/iframe"),Ri(this.a,"apiKey",this.g),Ri(this.a,"appName",this.h),this.b=null,this.c=[]}function ea(t,n,i,e,r){this.s=t,this.m=n,this.c=i,this.u=e,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function ra(t){try{return Gi.app(t).auth().Ea()}catch(t){return[]}}function oa(t,n,i,e,r){this.u=t,this.f=n,this.b=i,this.c=e||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function sa(t){var n=re();return function(t){return Xu(t,Nu,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var i=Di(n),e=i.f;i=i.b;for(var r=0;r<t.length;r++){var o=t[r],s=i,u=e;if(0==o.indexOf("chrome-extension://")?s=Di(o).b==s&&"chrome-extension"==u:"http"!=u&&"https"!=u?s=!1:ce.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Uo(re())}))}function ua(t){return t.l||(t.l=fe().then((function(){if(!t.s){var n=t.c,i=t.h,e=ra(t.b),r=new ia(t.u,t.f,t.b);r.f=n,r.b=i,r.c=X(e||[]),t.s=r.toString()}t.i=new Qu(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,n){t.nb.then((function(){t.a.register("authEvent",n,Ee("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(n){var i={};if(n&&n.authEvent){var e=!1;for(n=Mo(n.authEvent),i=0;i<t.g.length;i++)e=t.g[i](n)||e;return(i={}).status=e?"ACK":"ERROR",Tn(i)}return i.status="ERROR",Tn(i)}))}(t)}))),t.l}function aa(t){return t.m||(t.w=t.c?ye(t.c,ra(t.b)):null,t.m=new qs(t.f,S(t.h),t.w)),t.m}function ca(t,n,i,e,r,o,s,u,a,c,h){return(t=new ea(t,n,i,e,r)).l=o,t.g=s,t.i=u,t.b=ft(a||null),t.f=c,t.ub(h).toString()}function ha(t){if(this.a=t||Gi.INTERNAL.reactNative&&Gi.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fa(t){this.b=t,this.a={},this.f=b(this.c,this)}ia.prototype.toString=function(){return this.f?Ri(this.a,"v",this.f):Hi(this.a.a,"v"),this.b?Ri(this.a,"eid",this.b):Hi(this.a.a,"eid"),this.c.length?Ri(this.a,"fw",this.c.join(",")):Hi(this.a.a,"fw"),this.a.toString()},ea.prototype.ub=function(t){return this.h=t,this},ea.prototype.toString=function(){var t=Pi(this.s,"/__/auth/handler");if(Ri(t,"apiKey",this.m),Ri(t,"appName",this.c),Ri(t,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var i=Gi.app(this.c).auth().ja()}catch(t){i=null}for(var e in n.kb=i,Ri(t,"providerId",this.a.providerId),i=Ne((n=this.a).Fb))i[e]=i[e].toString();e=n.Oc,i=ft(i);for(var r=0;r<e.length;r++){var o=e[r];o in i&&delete i[o]}n.lb&&n.kb&&!i[n.lb]&&(i[n.lb]=n.kb),ht(i)||Ri(t,"customParameters",Oe(i))}if("function"==typeof this.a.Nb&&((n=this.a.Nb()).length&&Ri(t,"scopes",n.join(","))),this.l?Ri(t,"redirectUrl",this.l):Hi(t.a,"redirectUrl"),this.g?Ri(t,"eventId",this.g):Hi(t.a,"eventId"),this.i?Ri(t,"v",this.i):Hi(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ci(t,s)&&Ri(t,s,this.b[s]);return this.h?Ri(t,"tid",this.h):Hi(t.a,"tid"),this.f?Ri(t,"eid",this.f):Hi(t.a,"eid"),(s=ra(this.c)).length&&Ri(t,"fw",s.join(",")),t.toString()},(t=oa.prototype).Lb=function(t,n,i){var e=new _("popup-closed-by-user"),r=new _("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var n={type:"webStorageSupport"};return ua(t).then((function(){return function(t,n){return t.nb.then((function(){return new bn((function(i){t.a.send(n.type,n,i,Ee("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,n)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(i){i||(t&&ue(t),n(r),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new bn((function(n){return function i(){xi(2e3).then((function(){if(t&&!t.closed)return i();n()}))}()}))}(t)})).then((function(){if(!s)return xi(i).then((function(){n(e)}))}))},t.Ub=function(){var t=_e();return!Se(t)&&!De(t)},t.Qb=function(){return!1},t.Jb=function(t,n,i,e,r,o,s,u){if(!t)return An(new _("popup-blocked"));if(s&&!Se())return this.ka().o((function(n){ue(t),r(n)})),e(),Tn();this.a||(this.a=sa(aa(this)));var a=this;return this.a.then((function(){var n=a.ka().o((function(n){throw ue(t),r(n),n}));return e(),n})).then((function(){(Do(i),s)||oe(ca(a.u,a.f,a.b,n,i,null,o,a.c,void 0,a.h,u),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t}))},t.Kb=function(t,n,i,e){this.a||(this.a=sa(aa(this)));var r=this;return this.a.then((function(){Do(n),oe(ca(r.u,r.f,r.b,t,n,re(),i,r.c,void 0,r.h,e))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ka=function(){var t=this;return ua(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new _("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){W(this.g,(function(n){return n==t}))},(t=ha.prototype).get=function(t){return Tn(this.a.getItem(t)).then((function(t){return t&&Re(t)}))},t.set=function(t,n){return Tn(this.a.setItem(t,Oe(n)))},t.T=function(t){return Tn(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var la,da=[];function ma(t,n,i){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[n]&&(t.a[n]=[]),t.a[n].push(i)}function va(t){this.a=t}function pa(t){this.c=t,this.b=!1,this.a=[]}function ga(t,n,i,e){var r,o,s,u,a=i||{},c=null;if(t.b)return An(Error("connection_unavailable"));var h=e?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bn((function(i,e){f?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){e(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),u=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(u),void 0!==t.data.response?i(t.data.response):e(Error("unknown_error"))):(clearTimeout(s),clearTimeout(u),e(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:n,eventId:r,data:a},[f.port2])):e(Error("connection_unavailable"))})).then((function(n){return ba(t,c),n})).o((function(n){throw ba(t,c),n}))}function ba(t,n){if(n){var i=n.messageChannel,e=n.onMessage;i&&(i.port1.removeEventListener("message",e),i.port1.close()),W(t.a,(function(t){return t==n}))}}function wa(){if(!_a())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;me()&&self?(this.l=function(){var t=me()?self:null;if(B(da,(function(i){i.b==t&&(n=i)})),!n){var n=new fa(t);da.push(n)}return n}(),ma(this.l,"keyChanged",(function(n,i){return ka(t).then((function(n){return 0<n.length&&B(t.a,(function(t){t(n)})),{keyProcessed:G(n,i.key)}}))})),ma(this.l,"ping",(function(){return Tn(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Tn().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Tn(null)}().then((function(n){(t.h=n)&&(t.g=new pa(new va(n)),ga(t.g,"ping",null,!0).then((function(n){n[0].fulfilled&&G(n[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function xa(t){return new bn((function(n,i){var e=t.u.open("firebaseLocalStorageDb",1);e.onerror=function(t){try{t.preventDefault()}catch(t){}i(Error(t.target.error))},e.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){i(t)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(e):function(t){return new bn((function(n,i){var e=t.u.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){n()},e.onerror=function(t){i(Error(t.target.error))}}))}(t).then((function(){return xa(t)})).then((function(t){n(t)})).o((function(t){i(t)}))}}))}function ya(t){return t.m||(t.m=xa(t)),t.m}function _a(){try{return!!s.indexedDB}catch(t){return!1}}function Ea(t){return t.objectStore("firebaseLocalStorage")}function Ia(t,n){return t.transaction(["firebaseLocalStorage"],n?"readwrite":"readonly")}function Ta(t){return new bn((function(n,i){t.onsuccess=function(t){t&&t.target?n(t.target.result):n()},t.onerror=function(t){i(t.target.error)}}))}function Aa(t,n){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ga(t.g,"keyChanged",{key:n},t.s).then((function(){})).o((function(){})):Tn()}function ka(t){return ya(t).then((function(t){var n=Ea(Ia(t,!1));return n.getAll?Ta(n.getAll()):new bn((function(t,i){var e=[],r=n.openCursor();r.onsuccess=function(n){(n=n.target.result)?(e.push(n.value),n.continue()):t(e)},r.onerror=function(t){i(t.target.error)}}))})).then((function(n){var i={},e=[];if(0==t.b){for(e=0;e<n.length;e++)i[n[e].fbase_key]=n[e].value;e=function t(n,i){var e,r=[];for(e in n)e in i?typeof n[e]!=typeof i[e]?r.push(e):"object"==typeof n[e]&&null!=n[e]&&null!=i[e]?0<t(n[e],i[e]).length&&r.push(e):n[e]!==i[e]&&r.push(e):r.push(e);for(e in i)e in n||r.push(e);return r}(t.c,i),t.c=i}return e}))}function Sa(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Oa(t){var n=this,i=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Tn().then((function(){if(_a()){var t=Ce(),e="__sak"+t;return la||(la=new wa),(i=la).set(e,t).then((function(){return i.get(e)})).then((function(n){if(n!==t)throw Error("indexedDB not supported!");return i.T(e)})).then((function(){return i})).o((function(){return n.c}))}return n.c})).then((function(t){return n.type=t.type,t.ba((function(t){B(n.a,(function(n){n(t)}))})),t}))}function Na(){this.a={},this.type="inMemory"}function Ra(){if(!function(){var t="Node"==ve();if(!(t=Ca()||t&&Gi.INTERNAL.node&&Gi.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ve())throw new _("internal-error","The LocalStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Ca()||Gi.INTERNAL.node.localStorage,this.type="localStorage"}function Ca(){try{var t=s.localStorage,n=Ce();return t&&(t.setItem(n,"1"),t.removeItem(n)),t}catch(t){return null}}function Da(){this.type="nullStorage"}function Pa(){if(!function(){var t="Node"==ve();if(!(t=Ma()||t&&Gi.INTERNAL.node&&Gi.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ve())throw new _("internal-error","The SessionStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Ma()||Gi.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ma(){try{var t=s.sessionStorage,n=Ce();return t&&(t.setItem(n,"1"),t.removeItem(n)),t}catch(t){return null}}function ja(){var t={};t.Browser=Ua,t.Node=Ba,t.ReactNative=za,t.Worker=Va,this.a=t[ve()]}fa.prototype.c=function(t){var n=t.data.eventType,i=t.data.eventId,e=this.a[n];if(e&&0<e.length){t.ports[0].postMessage({status:"ack",eventId:i,eventType:n,response:null});var r=[];B(e,(function(n){r.push(Tn().then((function(){return n(t.origin,t.data.data)})))})),Sn(r).then((function(e){var r=[];B(e,(function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(r,(function(t){for(var n in t)void 0===t[n]&&delete t[n]})),t.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:r})}))}},va.prototype.postMessage=function(t,n){this.a.postMessage(t,n)},pa.prototype.close=function(){for(;0<this.a.length;)ba(this,this.a[0]);this.b=!0},(t=wa.prototype).set=function(t,n){var i,e=!1,r=this;return ya(this).then((function(n){return Ta((n=Ea(Ia(i=n,!0))).get(t))})).then((function(o){var s=Ea(Ia(i,!0));return o?(o.value=n,Ta(s.put(o))):(r.b++,e=!0,(o={}).fbase_key=t,o.value=n,Ta(s.add(o)))})).then((function(){return r.c[t]=n,Aa(r,t)})).ma((function(){e&&r.b--}))},t.get=function(t){return ya(this).then((function(n){return Ta(Ea(Ia(n,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var n=!1,i=this;return ya(this).then((function(e){return n=!0,i.b++,Ta(Ea(Ia(e,!0)).delete(t))})).then((function(){return delete i.c[t],Aa(i,t)})).ma((function(){n&&i.b--}))},t.ba=function(t){0==this.a.length&&function(t){Sa(t),function n(){t.f=setTimeout((function(){t.i=ka(t).then((function(n){0<n.length&&B(t.a,(function(t){t(n)}))})).then((function(){n()})).o((function(t){"STOP_EVENT"!=t.message&&n()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){W(this.a,(function(n){return n==t})),0==this.a.length&&Sa(this)},(t=Oa.prototype).get=function(t){return this.b.then((function(n){return n.get(t)}))},t.set=function(t,n){return this.b.then((function(i){return i.set(t,n)}))},t.T=function(t){return this.b.then((function(n){return n.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){W(this.a,(function(n){return n==t}))},(t=Na.prototype).get=function(t){return Tn(this.a[t])},t.set=function(t,n){return this.a[t]=n,Tn()},t.T=function(t){return delete this.a[t],Tn()},t.ba=function(){},t.ha=function(){},(t=Ra.prototype).get=function(t){var n=this;return Tn().then((function(){return Re(n.a.getItem(t))}))},t.set=function(t,n){var i=this;return Tn().then((function(){var e=Oe(n);null===e?i.T(t):i.a.setItem(t,e)}))},t.T=function(t){var n=this;return Tn().then((function(){n.a.removeItem(t)}))},t.ba=function(t){s.window&&ei(s.window,"storage",t)},t.ha=function(t){s.window&&si(s.window,"storage",t)},(t=Da.prototype).get=function(){return Tn(null)},t.set=function(){return Tn()},t.T=function(){return Tn()},t.ba=function(){},t.ha=function(){},(t=Pa.prototype).get=function(t){var n=this;return Tn().then((function(){return Re(n.a.getItem(t))}))},t.set=function(t,n){var i=this;return Tn().then((function(){var e=Oe(n);null===e?i.T(t):i.a.setItem(t,e)}))},t.T=function(t){var n=this;return Tn().then((function(){n.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var La,Fa,Ua={F:Ra,$a:Pa},Ba={F:Ra,$a:Pa},za={F:ha,$a:Da},Va={F:Ra,$a:Da},qa={od:"local",NONE:"none",qd:"session"};function Ga(){var t=!(De(_e())||!de()),n=Se(),i=Ie();this.m=t,this.h=n,this.l=i,this.a={},La||(La=new ja),t=La;try{this.g=!ee()&&Fe()||!s.indexedDB?new t.a.F:new Oa(me()?new Na:new t.a.F)}catch(t){this.g=new Na,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Na}this.u=new Na,this.f=b(this.Vb,this),this.b={}}function $a(){return Fa||(Fa=new Ga),Fa}function Wa(t,n){switch(n){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ha(t,n){return"firebase:"+t.name+(n?":"+n:"")}function Xa(t,n,i){return i=Ha(n,i),"local"==n.F&&(t.b[i]=null),Wa(t,n.F).T(i)}function Ya(t){t.c&&(clearInterval(t.c),t.c=null)}function Ka(t){this.a=t,this.b=$a()}(t=Ga.prototype).get=function(t,n){return Wa(this,t.F).get(Ha(t,n))},t.set=function(t,n,i){var e=Ha(t,i),r=this,o=Wa(this,t.F);return o.set(e,n).then((function(){return o.get(e)})).then((function(n){"local"==t.F&&(r.b[e]=n)}))},t.addListener=function(t,n,i){t=Ha(t,n),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(Wa(this,"local").ba(this.f),this.h||(ee()||!Fe())&&s.indexedDB||!this.l||function(t){Ya(t),t.c=setInterval((function(){for(var n in t.a){var i=s.localStorage.getItem(n),e=t.b[n];i!=e&&(t.b[n]=i,i=new Wn({type:"storage",key:n,target:window,oldValue:e,newValue:i,a:!0}),t.Vb(i))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(i)},t.removeListener=function(t,n,i){t=Ha(t,n),this.a[t]&&(W(this.a[t],(function(t){return t==i})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Wa(this,"local").ha(this.f),Ya(this))},t.Vb=function(t){if(t&&t.f){var n=t.a.key;if(null==n)for(var i in this.a){var e=this.b[i];void 0===e&&(e=null);var r=s.localStorage.getItem(i);r!==e&&(this.b[i]=r,this.ib(i))}else if(0==n.indexOf("firebase:")&&this.a[n]){if(void 0!==t.a.a?Wa(this,"local").ha(this.f):Ya(this),this.m)if(i=s.localStorage.getItem(n),(e=t.a.newValue)!==i)null!==e?s.localStorage.setItem(n,e):s.localStorage.removeItem(n);else if(this.b[n]===e&&void 0===t.a.a)return;var o=this;i=function(){void 0===t.a.a&&o.b[n]===s.localStorage.getItem(n)||(o.b[n]=s.localStorage.getItem(n),o.ib(n))},Gt&&Zt&&10==Zt&&s.localStorage.getItem(n)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(i,10):i()}}else B(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var Qa,Ja={name:"authEvent",F:"local"};function Za(){this.a=$a()}function tc(t,n){this.b=nc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=n,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Qa&&(Qa=s.Int32Array?new Int32Array(ac):ac),this.reset()}y(tc,(function(){this.b=-1}));for(var nc=64,ic=nc-1,ec=[],rc=0;rc<ic;rc++)ec[rc]=0;var oc=H(128,ec);function sc(t){for(var n=t.f,i=t.l,e=0,r=0;r<n.length;)i[e++]=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3],r=4*e;for(n=16;64>n;n++){r=0|i[n-15],e=0|i[n-2];var o=(0|i[n-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|i[n-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;i[n]=o+s|0}e=0|t.a[0],r=0|t.a[1];var u=0|t.a[2],a=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],n=0;64>n;n++){var l=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&r^e&u^r&u)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|Qa[n])|0)+(0|i[n])|0)|0,o=f,f=h,h=c,c=a+s|0,a=u,u=r,r=e,e=s+l|0}t.a[0]=t.a[0]+e|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+a|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function uc(t,n,i){void 0===i&&(i=n.length);var e=0,r=t.c;if("string"==typeof n)for(;e<i;)t.f[r++]=n.charCodeAt(e++),r==t.b&&(sc(t),r=0);else{if(!f(n))throw Error("message must be string or array");for(;e<i;){var o=n[e++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(sc(t),r=0)}}t.c=r,t.g+=i}tc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var ac=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,hc)}y(cc,tc);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(t,n,i,e,r){this.u=t,this.i=n,this.l=i,this.m=e||null,this.s=r||null,this.h=n+":"+i,this.w=new Za,this.g=new Ka(this.h),this.f=null,this.b=[],this.a=this.c=null}function lc(t){return new _("invalid-cordova-configuration",t)}function dc(t){var n=new cc;uc(n,t),t=[];var i=8*n.g;56>n.c?uc(n,oc,56-n.c):uc(n,oc,n.b-(n.c-56));for(var e=63;56<=e;e--)n.f[e]=255&i,i/=256;for(sc(n),e=i=0;e<n.i;e++)for(var r=24;0<=r;r-=8)t[i++]=n.a[e]>>r&255;return function(t){return V(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function mc(t,n){for(var i=0;i<t.b.length;i++)try{t.b[i](n)}catch(t){}}function vc(t){return t.f||(t.f=t.ka().then((function(){return new bn((function(n){t.Ca((function i(e){return n(e),t.Qa(i),!1})),function(t){function n(n){e=!0,r&&r.cancel(),pc(t).then((function(e){var r=i;if(e&&n&&n.url){var o=null;-1!=(r=Jr(n.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Re(Ci(o=Di(r),"firebaseError")||null))?E(o):null)?new Po(e.c,e.b,null,null,o,null,e.S()):new Po(e.c,e.b,r,e.f,null,null,e.S())),r=o||i}mc(t,r)}))}var i=new Po("unknown",null,null,null,new _("no-auth-event")),e=!1,r=xi(500).then((function(){return pc(t).then((function(){e||mc(t,i)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ee("BuildInfo.packageName",s).toLowerCase()+"://")&&n({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Fo||(Fo=new jo),function(t){var n=Fo;n.a.push(t),n.b||(n.b=function(t){for(var i=0;i<n.a.length;i++)n.a[i](t)},"function"==typeof(t=Ee("universalLinks.subscribe",s))&&t(null,n.b))}(n)}(t)}))}))),t.f}function pc(t){var n=null;return function(t){return t.b.get(Ja,t.a).then((function(t){return Mo(t)}))}(t.g).then((function(i){return n=i,Xa((i=t.g).b,Ja,i.a)})).then((function(){return n}))}function gc(t){this.a=t,this.b=$a()}(t=fc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(le(void 0)?fe().then((function(){return new bn((function(t,n){var i=s.document,e=setTimeout((function(){n(Error("Cordova framework is not ready."))}),1e3);i.addEventListener("deviceready",(function(){clearTimeout(e),t()}),!1)}))})):An(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ee("universalLinks.subscribe",s))throw lc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ee("BuildInfo.packageName",s))throw lc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ee("cordova.plugins.browsertab.openUrl",s))throw lc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ee("cordova.InAppBrowser.open",s))throw lc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new _("cordova-not-ready")}))},t.Lb=function(t,n){return n(new _("operation-not-supported-in-this-environment")),Tn()},t.Jb=function(){return An(new _("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,n,i,e){if(this.c)return An(new _("redirect-operation-pending"));var r=this,o=s.document,u=null,a=null,c=null,h=null;return this.c=Tn().then((function(){return Do(n),vc(r)})).then((function(){return function(t,n,i,e,r){var o=function(){for(var t=20,n=[];0<t;)n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return n.join("")}(),u=new Po(n,e,null,o,new _("no-auth-event"),null,r),a=Ee("BuildInfo.packageName",s);if("string"!=typeof a)throw new _("invalid-cordova-configuration");var c=Ee("BuildInfo.displayName",s),h={};if(_e().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!_e().toLowerCase().match(/android/))return An(new _("operation-not-supported-in-this-environment"));h.apn=a}c&&(h.appDisplayName=c),o=dc(o),h.sessionId=o;var f=ca(t.u,t.i,t.l,n,i,null,e,t.m,h,t.s,r);return t.ka().then((function(){var n=t.h;return t.w.a.set(Ja,u.v(),n)})).then((function(){var n=Ee("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof n)throw new _("invalid-cordova-configuration");var i=null;n((function(n){if(n){if("function"!=typeof(i=Ee("cordova.plugins.browsertab.openUrl",s)))throw new _("invalid-cordova-configuration");i(f)}else{if("function"!=typeof(i=Ee("cordova.InAppBrowser.open",s)))throw new _("invalid-cordova-configuration");n=_e(),t.a=i(f,n.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||n.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,n,i,e)})).then((function(){return new bn((function(t,n){a=function(){var n=Ee("cordova.plugins.browsertab.close",s);return t(),"function"==typeof n&&n(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(a),c=function(){u||(u=xi(2e3).then((function(){n(new _("redirect-cancelled-by-user"))})))},h=function(){je()&&c()},o.addEventListener("resume",c,!1),_e().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return pc(r).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),u&&u.cancel(),a&&r.Qa(a),r.c=null}))},t.Ca=function(t){this.b.push(t),vc(this).o((function(n){"auth/invalid-cordova-configuration"===n.code&&(n=new Po("unknown",null,null,null,new _("no-auth-event")),t(n))}))},t.Qa=function(t){W(this.b,(function(n){return n==t}))};var bc={name:"pendingRedirect",F:"session"};function wc(t){return Xa(t.b,bc,t.a)}function xc(t,n,i){this.i={},this.w=0,this.D=t,this.u=n,this.m=i,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Pc,this.B=new Uc,this.g=new gc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=yc(this.D,this.u,this.m,I)}function yc(t,n,i,e){var r=Gi.SDK_VERSION||null;return le()?new fc(t,n,i,r,e):new oa(t,n,i,r,e)}function _c(t){t.f||(t.f=!0,t.a.Ca(t.l));var n=t.a;return t.a.ka().o((function(i){throw t.a==n&&t.reset(),i}))}function Ec(t){t.a.Ub()&&_c(t).o((function(n){var i=new Po("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Oc(n)&&t.s(i)})),t.a.Qb()||Mc(t.b)}function Ic(t,n){G(t.h,n)||t.h.push(n),t.f||function(t){return t.b.get(bc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(n){n?wc(t.g).then((function(){_c(t).o((function(n){var i=new Po("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Oc(n)&&t.s(i)}))})):Ec(t)})).o((function(){Ec(t)}))}function Tc(t,n){W(t.h,(function(t){return t==n}))}xc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=yc(this.D,this.u,this.m),this.i={}},xc.prototype.s=function(t){if(!t)throw new _("invalid-auth-event");if(6e5<=x()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var n=!1,i=0;i<this.h.length;i++){var e=this.h[i];if(e.Cb(t.c,t.b)){(n=this.c[t.c])&&(n.h(t,e),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=x())),n=!0;break}}return Mc(this.b),n};var Ac=new Me(2e3,1e4),kc=new Me(3e4,6e4);function Sc(t,n,i,e,r,o,s){return t.a.Jb(n,i,e,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),r,o,s)}function Oc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Nc(t,n,i,e,r){var o;return function(t){return t.b.set(bc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(n,i,e,r).o((function(n){if(Oc(n))throw new _("operation-not-supported-in-this-environment");return o=n,wc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new bn((function(){})):wc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Rc(t,n,i,e,r){return t.a.Lb(e,(function(t){n.la(i,null,t,r)}),Ac.get())}xc.prototype.pa=function(){return this.b.pa()};var Cc={};function Dc(t,n,i){var e=n+":"+i;return Cc[e]||(Cc[e]=new xc(t,n,i)),Cc[e]}function Pc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,Fc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Fc(t,!1,null,null)}function Lc(t,n){if(t.b=function(){return Tn(n)},t.f.length)for(var i=0;i<t.f.length;i++)t.f[i](n)}function Fc(t,n,i,e){n?e?function(t,n){if(t.b=function(){return An(n)},t.c.length)for(var i=0;i<t.c.length;i++)t.c[i](n)}(t,e):Lc(t,i):Lc(t,{user:null}),t.f=[],t.c=[]}function Uc(){}function Bc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function zc(t,n){this.a=n,qe(this,"verificationId",t)}function Vc(t,n,i,e){return new No(t).cb(n,i).then((function(t){return new zc(t,e)}))}function qc(t){var n=Fr(t);if(!(n&&n.exp&&n.auth_time&&n.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ge(this,{token:t,expirationTime:Le(1e3*n.exp),authTime:Le(1e3*n.auth_time),issuedAtTime:Le(1e3*n.iat),signInProvider:n.firebase&&n.firebase.sign_in_provider?n.firebase.sign_in_provider:null,signInSecondFactor:n.firebase&&n.firebase.sign_in_second_factor?n.firebase.sign_in_second_factor:null,claims:n})}function Gc(t,n,i){var e=n&&n[Wc];if(!e)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(n),this.g=i,this.c=new Zr(null,e),this.b=[];var r=this;B(n[$c]||[],(function(t){(t=Xe(t))&&r.b.push(t)})),qe(this,"auth",this.a),qe(this,"session",this.c),qe(this,"hints",this.b)}Pc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Pc.prototype.h=function(t,n){if(t){this.reset(),this.g=!0;var i=t.c,e=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=i||r||o?t.a?(Fc(this,!0,null,t.a),Tn()):n.Da(i,e)?function(t,n,i){i=i.Da(n.c,n.b);var e=n.g,r=n.f,o=n.i,s=n.S(),u=!!n.c.match(/Redirect$/);i(e,r,s,o).then((function(n){Fc(t,u,n,null)})).o((function(n){Fc(t,u,null,n)}))}(this,t,n):An(new _("invalid-auth-event")):(Fc(this,!1,null,null),Tn())}else An(new _("invalid-auth-event"))},Pc.prototype.pa=function(){var t=this;return new bn((function(n,i){t.b?t.b().then(n,i):(t.f.push(n),t.c.push(i),function(t){var n=new _("timeout");t.a&&t.a.cancel(),t.a=xi(kc.get()).then((function(){t.b||(t.g=!0,Fc(t,!0,null,n))}))}(t))}))},Uc.prototype.h=function(t,n){if(t){var i=t.c,e=t.b;t.a?(n.la(t.c,null,t.a,t.b),Tn()):n.Da(i,e)?function(t,n){var i=t.b,e=t.c;n.Da(e,i)(t.g,t.f,t.S(),t.i).then((function(t){n.la(e,t,null,i)})).o((function(t){n.la(e,null,t,i)}))}(t,n):An(new _("invalid-auth-event"))}else An(new _("invalid-auth-event"))},zc.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var $c="mfaInfo",Wc="mfaPendingCredential";function Hc(t,n,i,e){_.call(this,"multi-factor-auth-required",e,n),this.b=new Gc(t,n,i),qe(this,"resolver",this.b)}function Xc(t,n,i){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Hc(n,t.serverResponse,i,t.message)}catch(t){}return null}function Yc(){}function Kc(t){qe(this,"factorId",t.ea),this.a=t}function Qc(t){if(Kc.call(this,t),this.a.ea!=No.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jc(t,n){for(var i in $n.call(this,t),n)this[i]=n[i]}function Zc(t,n){this.a=t,this.b=[],this.c=b(this.wc,this),ei(this.a,"userReloaded",this.c);var i=[];n&&n.multiFactor&&n.multiFactor.enrolledFactors&&B(n.multiFactor.enrolledFactors,(function(t){var n=null,e={};if(t){t.uid&&(e[Qe]=t.uid),t.displayName&&(e[Ye]=t.displayName),t.enrollmentTime&&(e[Ke]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(e[Je]=t.phoneNumber);try{n=new Ze(e)}catch(t){}t=n}else t=null;t&&i.push(t)})),th(this,i)}function th(t,n){t.b=n,qe(t,"enrolledFactors",n)}function nh(t,n,i){if(this.h=t,this.i=n,this.g=i,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ih(t){this.c=t,this.b=this.a=null}function eh(t){return t.b&&1e3*t.b.c||0}function rh(t,n){var i=n.refreshToken;t.b=Lr(n[$s]||""),t.a=i}function oh(t,n){return function(t,n){return new bn((function(i,e){"refresh_token"==n.grant_type&&n.refresh_token||"authorization_code"==n.grant_type&&n.code?Js(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?e(Ku(t)):t.access_token&&t.refresh_token?i(t):e(new _("internal-error")):e(new _("network-request-failed"))}),"POST",Wi(n).toString(),t.g,t.m.get()):e(new _("internal-error"))}))}(t.c,n).then((function(n){return t.b=Lr(n.access_token),t.a=n.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(n){throw"auth/user-token-expired"==n.code&&(t.a=null),n}))}function sh(t,n){this.a=t||null,this.b=n||null,Ge(this,{lastSignInTime:Le(n||null),creationTime:Le(t||null)})}function uh(t,n,i,e,r,o){Ge(this,{uid:t,displayName:e||null,photoURL:r||null,email:i||null,phoneNumber:o||null,providerId:n})}function ah(t,n,i){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Gi.SDK_VERSION?ye(Gi.SDK_VERSION):null,this.a=new qs(this.l,S(I),t),this.b=new ih(this.a),vh(this,n[$s]),rh(this.b,n),qe(this,"refreshToken",this.b.a),bh(this,i||{}),vi.call(this),this.P=!1,this.s&&Te()&&(this.i=Dc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new nh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var n=eh(t.b)-x()-3e5;return 0<n?n:0}))}(this),this.Z=b(this.Ma,this);var e=this;this.oa=null,this.za=function(t){e.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){hh(e,t.c)},this.$=null,this.O=new Zc(this,i),qe(this,"multiFactor",this.O)}function ch(t,n){t.aa&&si(t.aa,"languageCodeChanged",t.za),(t.aa=n)&&ei(n,"languageCodeChanged",t.za)}function hh(t,n){t.W=n,Qs(t.a,Gi.SDK_VERSION?ye(Gi.SDK_VERSION,t.W):null)}function fh(t,n){t.$&&si(t.$,"frameworkChanged",t.ya),(t.$=n)&&ei(n,"frameworkChanged",t.ya)}function lh(t){try{return Gi.app(t.m).auth()}catch(n){throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function dh(t){t.D||t.B.b||(t.B.start(),si(t,"tokenChanged",t.Z),ei(t,"tokenChanged",t.Z))}function mh(t){si(t,"tokenChanged",t.Z),t.B.stop()}function vh(t,n){t.xa=n,qe(t,"_lat",n)}function ph(t){for(var n=[],i=0;i<t.R.length;i++)n.push(t.R[i](t));return Sn(n).then((function(){return t}))}function gh(t){t.i&&!t.P&&(t.P=!0,Ic(t.i,t))}function bh(t,n){Ge(t,{uid:n.uid,displayName:n.displayName||null,photoURL:n.photoURL||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,isAnonymous:n.isAnonymous||!1,tenantId:n.tenantId||null,metadata:new sh(n.createdAt,n.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wh(){}function xh(t){return Tn().then((function(){if(t.D)throw new _("app-deleted")}))}function yh(t){return V(t.providerData,(function(t){return t.providerId}))}function _h(t,n){n&&(Eh(t,n.providerId),t.providerData.push(n))}function Eh(t,n){W(t.providerData,(function(t){return t.providerId==n}))}function Ih(t,n,i){("uid"!=n||i)&&t.hasOwnProperty(n)&&qe(t,n,i)}function Th(t,n){t!=n&&(Ge(t,{uid:n.uid,displayName:n.displayName,photoURL:n.photoURL,email:n.email,emailVerified:n.emailVerified,phoneNumber:n.phoneNumber,isAnonymous:n.isAnonymous,tenantId:n.tenantId,providerData:[]}),n.metadata?qe(t,"metadata",function(t){return new sh(t.a,t.b)}(n.metadata)):qe(t,"metadata",new sh),B(n.providerData,(function(n){_h(t,n)})),function(t,n){t.b=n.b,t.a=n.a}(t.b,n.b),qe(t,"refreshToken",t.b.a),th(t.O,n.O.b))}function Ah(t){return t.I().then((function(n){var i=t.isAnonymous;return function(t,n){return Xu(t.a,Tu,{idToken:n}).then(b(t.Ic,t))}(t,n).then((function(){return i||Ih(t,"isAnonymous",!1),n}))}))}function kh(t,n){n[$s]&&t.xa!=n[$s]&&(rh(t.b,n),t.dispatchEvent(new Jc("tokenChanged")),vh(t,n[$s]),Ih(t,"refreshToken",t.b.a))}function Sh(t,n){return Ah(t).then((function(){if(G(yh(t),n))return ph(t).then((function(){throw new _("provider-already-linked")}))}))}function Oh(t,n,i){return $e({user:t,credential:Co(n),additionalUserInfo:n=qr(n),operationType:i})}function Nh(t,n){return kh(t,n),t.reload().then((function(){return t}))}function Rh(t,n,i,e,r){if(!Te())return An(new _("operation-not-supported-in-this-environment"));if(t.h&&!r)return An(t.h);var o=Vr(i.providerId),s=Ce(t.uid+":::"),u=null;(!Se()||de())&&t.s&&i.isOAuthProvider&&(u=ca(t.s,t.l,t.m,n,i,null,s,Gi.SDK_VERSION||null,null,null,t.tenantId));var a=ae(u,o&&o.ta,o&&o.sa);return e=e().then((function(){if(Dh(t),!r)return t.I().then((function(){}))})).then((function(){return Sc(t.i,a,n,i,s,!!u,t.tenantId)})).then((function(){return new bn((function(i,e){t.la(n,null,new _("cancelled-popup-request"),t.g||null),t.f=i,t.w=e,t.g=s,t.c=Rc(t.i,t,n,a,s)}))})).then((function(t){return a&&ue(a),t?$e(t):null})).o((function(t){throw a&&ue(a),t})),Ph(t,e,r)}function Ch(t,n,i,e,r){if(!Te())return An(new _("operation-not-supported-in-this-environment"));if(t.h&&!r)return An(t.h);var o=null,s=Ce(t.uid+":::");return e=e().then((function(){if(Dh(t),!r)return t.I().then((function(){}))})).then((function(){return t.fa=s,ph(t)})).then((function(n){return t.ga&&(n=(n=t.ga).b.set(Lh,t.v(),n.a)),n})).then((function(){return Nc(t.i,n,i,s,t.tenantId)})).o((function(n){if(o=n,t.ga)return Fh(t.ga);throw o})).then((function(){if(o)throw o})),Ph(t,e,r)}function Dh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new _("internal-error");throw new _("auth-domain-config-required")}}function Ph(t,n,i){var e=function(t,n,i){return t.h&&!i?(n.cancel(),An(t.h)):n.o((function(n){throw!n||"auth/user-disabled"!=n.code&&"auth/user-token-expired"!=n.code||(t.h||t.dispatchEvent(new Jc("userInvalidated")),t.h=n),n}))}(t,n,i);return t.N.push(e),e.ma((function(){$(t.N,e)})),e.o((function(n){var i=null;throw n&&"auth/multi-factor-auth-required"===n.code&&(i=Xc(n.v(),lh(t),b(t.hc,t))),i||n}))}function Mh(t){if(!t.apiKey)return null;var n={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},i={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;i[$s]=t.stsTokenManager.accessToken,i.refreshToken=t.stsTokenManager.refreshToken||null;var e=new ah(n,i,t);return t.providerData&&B(t.providerData,(function(t){t&&_h(e,$e(t))})),t.redirectEventId&&(e.fa=t.redirectEventId),e}function jh(t){this.a=t,this.b=$a()}Gc.prototype.Pc=function(t){var n=this;return t.ob(this.a.b,this.c).then((function(t){var i=ft(n.f);return delete i[$c],delete i[Wc],dt(i,t),n.g(i)}))},y(Hc,_),Yc.prototype.ob=function(t,n,i){return n.type==to?function(t,n,i,e){return i.Fa().then((function(i){return i={idToken:i},void 0!==e&&(i.displayName=e),dt(i,{phoneVerificationInfo:Oo(t.a)}),Xu(n,Eu,i)}))}(this,t,n,i):function(t,n,i){return i.Fa().then((function(i){return dt(i={mfaPendingCredential:i},{phoneVerificationInfo:Oo(t.a)}),Xu(n,Iu,i)}))}(this,t,n)},y(Kc,Yc),y(Qc,Kc),y(Jc,$n),(t=Zc.prototype).wc=function(t){th(this,function(t){var n=[];return B(t.mfaInfo||[],(function(t){(t=Xe(t))&&n.push(t)})),n}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zr(t,null)}))},t.dc=function(t,n){var i=this,e=this.a.a;return this.Ob().then((function(i){return t.ob(e,i,n)})).then((function(t){return kh(i.a,t),i.a.reload()}))},t.$c=function(t){var n=this,i="string"==typeof t?t:t.uid,e=this.a.a;return this.a.I().then((function(t){return Xu(e,Hu,{idToken:t,mfaEnrollmentId:i})})).then((function(t){var e=z(n.b,(function(t){return t.uid!=i}));return th(n,e),kh(n.a,t),n.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:V(this.b,(function(t){return t.v()}))}}},nh.prototype.start=function(){this.a=this.c,function t(n,i){n.stop(),n.b=xi(function(t,n){return n?(t.a=t.c,t.g()):(n=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),n)}(n,i)).then((function(){return function(){var t=s.document,n=null;return je()||!t?Tn():new bn((function(i){n=function(){je()&&(t.removeEventListener("visibilitychange",n,!1),i())},t.addEventListener("visibilitychange",n,!1)})).o((function(i){throw t.removeEventListener("visibilitychange",n,!1),i}))}()})).then((function(){return n.h()})).then((function(){t(n,!0)})).o((function(i){n.i(i)&&t(n,!1)}))}(this,!0)},nh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ih.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:eh(this)}},ih.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?An(new _("user-token-expired")):t||!this.b||x()>eh(this)-3e4?this.a?oh(this,{grant_type:"refresh_token",refresh_token:this.a}):Tn(null):Tn({accessToken:this.b.toString(),refreshToken:this.a})},sh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},y(ah,vi),ah.prototype.va=function(t){this.oa=t,Ks(this.a,t)},ah.prototype.ja=function(){return this.oa},ah.prototype.Ea=function(){return X(this.W)},ah.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},qe(ah.prototype,"providerId","firebase"),(t=ah.prototype).reload=function(){var t=this;return Ph(this,xh(this).then((function(){return Ah(t).then((function(){return ph(t)})).then(wh)})))},t.mc=function(t){return this.I(t).then((function(t){return new qc(t)}))},t.I=function(t){var n=this;return Ph(this,xh(this).then((function(){return n.b.getToken(t)})).then((function(t){if(!t)throw new _("internal-error");return t.accessToken!=n.xa&&(vh(n,t.accessToken),n.dispatchEvent(new Jc("tokenChanged"))),Ih(n,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new _("internal-error");bh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var n=function(t){return(t=t.providerUserInfo)&&t.length?V(t,(function(t){return new uh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),i=0;i<n.length;i++)_h(this,n[i]);Ih(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jc("userReloaded",{ed:t}))},t.Jc=function(t){return ze("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var n=this,i=null;return Ph(this,t.c(this.a,this.uid).then((function(t){return kh(n,t),i=Oh(n,t,"reauthenticate"),n.h=null,n.reload()})).then((function(){return i})),!0)},t.Ac=function(t){return ze("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var n=this,i=null;return Ph(this,Sh(this,t.providerId).then((function(){return n.I()})).then((function(i){return t.b(n.a,i)})).then((function(t){return i=Oh(n,t,"link"),Nh(n,t)})).then((function(){return i})))},t.Bc=function(t,n){var i=this;return Ph(this,Sh(this,"phone").then((function(){return Vc(lh(i),t,n,b(i.mb,i))})))},t.Kc=function(t,n){var i=this;return Ph(this,Tn().then((function(){return Vc(lh(i),t,n,b(i.pb,i))})),!0)},t.xb=function(t){var n=this;return Ph(this,this.I().then((function(i){return n.a.xb(i,t)})).then((function(t){return kh(n,t),n.reload()})))},t.cd=function(t){var n=this;return Ph(this,this.I().then((function(i){return t.b(n.a,i)})).then((function(t){return kh(n,t),n.reload()})))},t.yb=function(t){var n=this;return Ph(this,this.I().then((function(i){return n.a.yb(i,t)})).then((function(t){return kh(n,t),n.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xh(this);var n=this;return Ph(this,this.I().then((function(i){return n.a.zb(i,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return kh(n,t),Ih(n,"displayName",t.displayName||null),Ih(n,"photoURL",t.photoUrl||null),B(n.providerData,(function(t){"password"===t.providerId&&(qe(t,"displayName",n.displayName),qe(t,"photoURL",n.photoURL))})),ph(n)})).then(wh))},t.ad=function(t){var n=this;return Ph(this,Ah(this).then((function(i){return G(yh(n),t)?function(t,n,i){return Xu(t,xu,{idToken:n,deleteProvider:i})}(n.a,i,[t]).then((function(t){var i={};return B(t.providerUserInfo||[],(function(t){i[t.providerId]=!0})),B(yh(n),(function(t){i[t]||Eh(n,t)})),i[No.PROVIDER_ID]||qe(n,"phoneNumber",null),ph(n)})):ph(n).then((function(){throw new _("no-such-provider")}))})))},t.delete=function(){var t=this;return Ph(this,this.I().then((function(n){return Xu(t.a,wu,{idToken:n})})).then((function(){t.dispatchEvent(new Jc("userDeleted"))}))).then((function(){for(var n=0;n<t.N.length;n++)t.N[n].cancel("app-deleted");ch(t,null),fh(t,null),t.N=[],t.D=!0,mh(t),qe(t,"refreshToken",null),t.i&&Tc(t.i,t)}))},t.Cb=function(t,n){return!!("linkViaPopup"==t&&(this.g||null)==n&&this.f||"reauthViaPopup"==t&&(this.g||null)==n&&this.f||"linkViaRedirect"==t&&(this.fa||null)==n||"reauthViaRedirect"==t&&(this.fa||null)==n)},t.la=function(t,n,i,e){"linkViaPopup"!=t&&"reauthViaPopup"!=t||e!=(this.g||null)||(i&&this.w?this.w(i):n&&!i&&this.f&&this.f(n),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,n){return"linkViaPopup"==t&&n==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&n==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==n?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==n?b(this.Ib,this):null},t.Cc=function(t){var n=this;return Rh(this,"linkViaPopup",t,(function(){return Sh(n,t.providerId).then((function(){return ph(n)}))}),!1)},t.Lc=function(t){return Rh(this,"reauthViaPopup",t,(function(){return Tn()}),!0)},t.Dc=function(t){var n=this;return Ch(this,"linkViaRedirect",t,(function(){return Sh(n,t.providerId)}),!1)},t.Mc=function(t){return Ch(this,"reauthViaRedirect",t,(function(){return Tn()}),!0)},t.Hb=function(t,n,i,e){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ph(this,this.I().then((function(i){return lu(r.a,{requestUri:t,postBody:e,sessionId:n,idToken:i})})).then((function(t){return o=Oh(r,t,"link"),Nh(r,t)})).then((function(){return o})))},t.Ib=function(t,n,i,e){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ph(this,Tn().then((function(){return eo(du(r.a,{requestUri:t,sessionId:n,postBody:e,tenantId:i}),r.uid)})).then((function(t){return o=Oh(r,t,"reauthenticate"),kh(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},t.qb=function(t){var n=this,i=null;return Ph(this,this.I().then((function(n){return i=n,void 0===t||ht(t)?{}:Dr(new Er(t))})).then((function(t){return n.a.qb(i,t)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.Ab=function(t,n){var i=this,e=null;return Ph(this,this.I().then((function(t){return e=t,void 0===n||ht(n)?{}:Dr(new Er(n))})).then((function(n){return i.a.Ab(e,t,n)})).then((function(t){if(i.email!=t)return i.reload()})).then((function(){})))},t.hc=function(t){var n=null,i=this;return Ph(this,t=eo(Tn(t),i.uid).then((function(t){return n=Oh(i,t,"reauthenticate"),kh(i,t),i.h=null,i.reload()})).then((function(){return n})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&dt(t,this.metadata.v()),B(this.providerData,(function(n){t.providerData.push(function(t){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}(n))})),dt(t,this.O.v()),t};var Lh={name:"redirectUser",F:"session"};function Fh(t){return Xa(t.b,Lh,t.a)}function Uh(t){this.a=t,this.b=$a(),this.c=null,this.f=function(t){var n=Vh("local"),i=Vh("session"),e=Vh("none");return function(t,n,i){var e=Ha(n,i),r=Wa(t,n.F);return t.get(n,i).then((function(o){var u=null;try{u=Re(s.localStorage.getItem(e))}catch(t){}if(u&&!o)return s.localStorage.removeItem(e),t.set(n,u,i);u&&o&&"localStorage"!=r.type&&s.localStorage.removeItem(e)}))}(t.b,n,t.a).then((function(){return t.b.get(i,t.a)})).then((function(r){return r?i:t.b.get(e,t.a).then((function(i){return i?e:t.b.get(n,t.a).then((function(i){return i?n:t.b.get(zh,t.a).then((function(t){return t?Vh(t):n}))}))}))})).then((function(n){return t.c=n,Bh(t,n.F)})).o((function(){t.c||(t.c=n)}))}(this),this.b.addListener(Vh("local"),this.a,b(this.g,this))}function Bh(t,n){var i,e=[];for(i in qa)qa[i]!==n&&e.push(Xa(t.b,Vh(qa[i]),t.a));return e.push(Xa(t.b,zh,t.a)),function(t){return new bn((function(n,i){var e=t.length,r=[];if(e)for(var o=function(t,i){e--,r[t]=i,0==e&&n(r)},s=function(t){i(t)},u=0;u<t.length;u++)kn(t[u],w(o,u),s);else n(r)}))}(e)}Uh.prototype.g=function(){var t=this,n=Vh("local");Wh(this,(function(){return Tn().then((function(){return t.c&&"local"!=t.c.F?t.b.get(n,t.a):null})).then((function(i){if(i)return Bh(t,"local").then((function(){t.c=n}))}))}))};var zh={name:"persistence",F:"session"};function Vh(t){return{name:"authUser",F:t}}function qh(t,n){return Wh(t,(function(){return t.b.set(t.c,n.v(),t.a)}))}function Gh(t){return Wh(t,(function(){return Xa(t.b,t.c,t.a)}))}function $h(t,n){return Wh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&n&&(t.authDomain=n),Mh(t||{})}))}))}function Wh(t,n){return t.f=t.f.then(n,n),t.f}function Hh(t){if(this.l=!1,qe(this,"settings",new Bc),qe(this,"app",t),!nf(this).options||!nf(this).options.apiKey)throw new _("invalid-api-key");t=Gi.SDK_VERSION?ye(Gi.SDK_VERSION):null,this.b=new qs(nf(this).options&&nf(this).options.apiKey,S(I),t),this.P=[],this.m=[],this.O=[],this.$b=Gi.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=Gi.INTERNAL.createSubscribe(b(this.yc,this)),Zh(this,null),this.i=new Uh(nf(this).options.apiKey+":"+nf(this).name),this.B=new jh(nf(this).options.apiKey+":"+nf(this).name),this.Z=sf(this,function(t){var n=nf(t).options.authDomain,i=function(t){var n=function(t,n){return t.b.get(Lh,t.a).then((function(t){return t&&n&&(t.authDomain=n),Mh(t||{})}))}(t.B,nf(t).options.authDomain).then((function(n){return(t.D=n)&&(n.ga=t.B),Fh(t.B)}));return sf(t,n)}(t).then((function(){return $h(t.i,n)})).then((function(n){return n?(n.ga=t.B,t.D&&(t.D.fa||null)==(n.fa||null)?n:n.reload().then((function(){return qh(t.i,n).then((function(){return n}))})).o((function(i){return"auth/network-request-failed"==i.code?n:Gh(t.i)}))):null})).then((function(n){Zh(t,n||null)}));return sf(t,i)}(this)),this.h=sf(this,function(t){return t.Z.then((function(){return Qh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var n=t.i;n.b.addListener(Vh("local"),n.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var n=nf(t).options.authDomain,i=nf(t).options.apiKey;n&&Te()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Dc(n,i,nf(t).name),Ic(t.a,t),ef(t)&&gh(ef(t)),t.D){gh(t.D);var e=t.D;e.va(t.ja()),ch(e,t),hh(e=t.D,t.N),fh(e,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,vi.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Xh(t){$n.call(this,"languageCodeChanged"),this.g=t}function Yh(t){$n.call(this,"frameworkChanged"),this.c=t}function Kh(t){return t.Zb||An(new _("auth-domain-config-required"))}function Qh(t){if(!Te())return An(new _("operation-not-supported-in-this-environment"));var n=Kh(t).then((function(){return t.a.pa()})).then((function(t){return t?$e(t):null}));return sf(t,n)}function Jh(t,n){var i={};return i.apiKey=nf(t).options.apiKey,i.authDomain=nf(t).options.authDomain,i.appName=nf(t).name,t.Z.then((function(){return function(t,n,i,e){var r=new ah(t,n);return i&&(r.ga=i),e&&hh(r,e),r.reload().then((function(){return r}))}(i,n,t.B,t.Ea())})).then((function(n){return ef(t)&&n.uid==ef(t).uid?(Th(ef(t),n),t.ca(n)):(Zh(t,n),gh(n),t.ca(n))})).then((function(){of(t)}))}function Zh(t,n){ef(t)&&(function(t,n){W(t.R,(function(t){return t==n}))}(ef(t),t.Ma),si(ef(t),"tokenChanged",t.xa),si(ef(t),"userDeleted",t.ya),si(ef(t),"userInvalidated",t.za),mh(ef(t))),n&&(n.R.push(t.Ma),ei(n,"tokenChanged",t.xa),ei(n,"userDeleted",t.ya),ei(n,"userInvalidated",t.za),0<t.s&&dh(n)),qe(t,"currentUser",n),n&&(n.va(t.ja()),ch(n,t),hh(n,t.N),fh(n,t))}function tf(t,n){var i=null,e=null;return sf(t,n.then((function(n){return i=Co(n),e=qr(n),Jh(t,n)}),(function(n){var i=null;throw n&&"auth/multi-factor-auth-required"===n.code&&(i=Xc(n.v(),t,b(t.ic,t))),i||n})).then((function(){return $e({user:ef(t),credential:i,additionalUserInfo:e,operationType:"signIn"})})))}function nf(t){return t.app}function ef(t){return t.currentUser}function rf(t){return ef(t)&&ef(t)._lat||null}function of(t){if(t.aa){for(var n=0;n<t.m.length;n++)t.m[n]&&t.m[n](rf(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),n=0;n<t.O.length;n++)t.O[n]&&t.O[n](rf(t))}}function sf(t,n){return t.P.push(n),n.ma((function(){$(t.P,n)})),n}function uf(){}function af(){this.a={},this.b=1e12}Uh.prototype.tb=function(t){var n=null,i=this;return function(t){var n=new _("invalid-persistence-type"),i=new _("unsupported-persistence-type");t:{for(e in qa)if(qa[e]==t){var e=!0;break t}e=!1}if(!e||"string"!=typeof t)throw n;switch(ve()){case"ReactNative":if("session"===t)throw i;break;case"Node":if("none"!==t)throw i;break;case"Worker":if("session"===t||!_a()&&"none"!==t)throw i;break;default:if(!Ie()&&"none"!==t)throw i}}(t),Wh(this,(function(){return t!=i.c.F?i.b.get(i.c,i.a).then((function(e){return n=e,Bh(i,t)})).then((function(){if(i.c=Vh(t),n)return i.b.set(i.c,n,i.a)})):Tn()}))},y(Hh,vi),y(Xh,$n),y(Yh,$n),(t=Hh.prototype).tb=function(t){return sf(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ks(this.b,this.$),this.dispatchEvent(new Xh(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Qs(this.b,Gi.SDK_VERSION?ye(Gi.SDK_VERSION,this.N):null),this.dispatchEvent(new Yh(this.N))},t.Ea=function(){return X(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:nf(this).options.apiKey,authDomain:nf(this).options.authDomain,appName:nf(this).name,currentUser:ef(this)&&ef(this).v()}},t.Cb=function(t,n){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==n&&!!this.f;default:return!1}},t.la=function(t,n,i,e){"signInViaPopup"==t&&this.g==e&&(i&&this.w?this.w(i):n&&!i&&this.f&&this.f(n),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,n){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==n&&this.f?b(this.gc,this):null},t.gc=function(t,n,i,e){var r=this,o={requestUri:t,postBody:e,sessionId:n,tenantId:i};return this.c&&(this.c.cancel(),this.c=null),r.Z.then((function(){return tf(r,fu(r.b,o))}))},t.Vc=function(t){if(!Te())return An(new _("operation-not-supported-in-this-environment"));var n=this,i=Vr(t.providerId),e=Ce(),r=null;(!Se()||de())&&nf(this).options.authDomain&&t.isOAuthProvider&&(r=ca(nf(this).options.authDomain,nf(this).options.apiKey,nf(this).name,"signInViaPopup",t,null,e,Gi.SDK_VERSION||null,null,null,this.S()));var o=ae(r,i&&i.ta,i&&i.sa);return sf(this,i=Kh(this).then((function(i){return Sc(i,o,"signInViaPopup",t,e,!!r,n.S())})).then((function(){return new bn((function(t,i){n.la("signInViaPopup",null,new _("cancelled-popup-request"),n.g),n.f=t,n.w=i,n.g=e,n.c=Rc(n.a,n,"signInViaPopup",o,e)}))})).then((function(t){return o&&ue(o),t?$e(t):null})).o((function(t){throw o&&ue(o),t})))},t.Wc=function(t){if(!Te())return An(new _("operation-not-supported-in-this-environment"));var n=this;return sf(this,Kh(this).then((function(){return function(t){return Wh(t,(function(){return t.b.set(zh,t.c.F,t.a)}))}(n.i)})).then((function(){return Nc(n.a,"signInViaRedirect",t,void 0,n.S())})))},t.pa=function(){var t=this;return Qh(this).then((function(n){return t.a&&jc(t.a.b),n})).o((function(n){throw t.a&&jc(t.a.b),n}))},t.bd=function(t){if(!t)return An(new _("null-user"));if(this.R!=t.tenantId)return An(new _("tenant-id-mismatch"));var n=this,i={};i.apiKey=nf(this).options.apiKey,i.authDomain=nf(this).options.authDomain,i.appName=nf(this).name;var e=function(t,n,i,e){var r=t.b,o={};return o[$s]=r.b&&r.b.toString(),o.refreshToken=r.a,n=new ah(n||{apiKey:t.l,authDomain:t.s,appName:t.m},o),i&&(n.ga=i),e&&hh(n,e),Th(n,t),n}(t,i,n.B,n.Ea());return sf(this,this.h.then((function(){if(nf(n).options.apiKey!=t.l)return e.reload()})).then((function(){return ef(n)&&t.uid==ef(n).uid?(Th(ef(n),t),n.ca(t)):(Zh(n,e),gh(e),n.ca(e))})).then((function(){of(n)})))},t.wb=function(){var t=this;return sf(this,this.h.then((function(){return t.a&&jc(t.a.b),ef(t)?(Zh(t,null),Gh(t.i).then((function(){of(t)}))):Tn()})))},t.Xc=function(){var t=this;return $h(this.i,nf(this).options.authDomain).then((function(n){if(!t.l){var i;if(i=ef(t)&&n){i=ef(t).uid;var e=n.uid;i=null!=i&&""!==i&&null!=e&&""!==e&&i==e}if(i)return Th(ef(t),n),ef(t).I();(ef(t)||n)&&(Zh(t,n),n&&(gh(n),n.ga=t.B),t.a&&Ic(t.a,t),of(t))}}))},t.ca=function(t){return qh(this.i,t)},t.jc=function(){of(this),this.ca(ef(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var n=this;return this.h.then((function(){return tf(n,Tn(t))}))},t.xc=function(t){var n=this;this.addAuthTokenListener((function(){t.next(ef(n))}))},t.yc=function(t){var n=this;!function(t,n){t.O.push(n),sf(t,t.h.then((function(){!t.l&&G(t.O,n)&&t.W!==t.getUid()&&(t.W=t.getUid(),n(rf(t)))})))}(this,(function(){t.next(ef(n))}))},t.Gc=function(t,n,i){var e=this;return this.aa&&Promise.resolve().then((function(){l(t)?t(ef(e)):l(t.next)&&t.next(ef(e))})),this.$b(t,n,i)},t.Fc=function(t,n,i){var e=this;return this.aa&&Promise.resolve().then((function(){e.W=e.getUid(),l(t)?t(ef(e)):l(t.next)&&t.next(ef(e))})),this.ac(t,n,i)},t.kc=function(t){var n=this;return sf(this,this.h.then((function(){return ef(n)?ef(n).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var n=this;return this.h.then((function(){return tf(n,Xu(n.b,Vu,{token:t}))})).then((function(t){var i=t.user;return Ih(i,"isAnonymous",!1),n.ca(i),t}))},t.Sc=function(t,n){var i=this;return this.h.then((function(){return tf(i,Xu(i.b,qu,{email:t,password:n}))}))},t.cc=function(t,n){var i=this;return this.h.then((function(){return tf(i,Xu(i.b,gu,{email:t,password:n}))}))},t.Ya=function(t){var n=this;return this.h.then((function(){return tf(n,t.ia(n.b))}))},t.Qc=function(t){return ze("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var n=ef(t);if(n&&n.isAnonymous){var i=$e({providerId:null,isNewUser:!1});return $e({user:n,credential:null,additionalUserInfo:i,operationType:"signIn"})}return tf(t,t.b.vb()).then((function(n){var i=n.user;return Ih(i,"isAnonymous",!0),t.ca(i),n}))}))},t.getUid=function(){return ef(this)&&ef(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&ef(this)&&dh(ef(this))},t.Nc=function(t){var n=this;B(this.m,(function(i){i==t&&n.s--})),0>this.s&&(this.s=0),0==this.s&&ef(this)&&mh(ef(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var n=this;this.m.push(t),sf(this,this.h.then((function(){n.l||G(n.m,t)&&t(rf(n))})))},t.removeAuthTokenListener=function(t){W(this.m,(function(n){return n==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Vh("local"),t.a,this.oa),this.a&&(Tc(this.a,this),jc(this.a.b)),Promise.resolve()},t.fc=function(t){return sf(this,function(t,n){return Xu(t,bu,{identifier:n,continueUri:Ae()?re():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!Ao(t)},t.sb=function(t,n){var i=this;return sf(this,Tn().then((function(){var t=new Er(n);if(!t.c)throw new _("argument-error",Ar+" must be true when sending sign in link to email");return Dr(t)})).then((function(n){return i.b.sb(t,n)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,n){return sf(this,this.b.jb(t,n).then((function(){})))},t.Pa=function(t){return sf(this,this.b.Pa(t).then((function(t){return new tr(t)})))},t.fb=function(t){return sf(this,this.b.fb(t).then((function(){})))},t.rb=function(t,n){var i=this;return sf(this,Tn().then((function(){return void 0===n||ht(n)?{}:Dr(new Er(n))})).then((function(n){return i.b.rb(t,n)})).then((function(){})))},t.Uc=function(t,n){return sf(this,Vc(this,t,n,b(this.Ya,this)))},t.Tc=function(t,n){var i=this;return sf(this,Tn().then((function(){var e=n||re(),r=To(t,e);if(!(e=Ao(e)))throw new _("argument-error","Invalid email link!");if(e.tenantId!==i.S())throw new _("tenant-id-mismatch");return i.Ya(r)})))},uf.prototype.render=function(){},uf.prototype.reset=function(){},uf.prototype.getResponse=function(){},uf.prototype.execute=function(){};var cf=null;function hf(t,n){return(n=ff(n))&&t.a[n]||null}function ff(t){return(t=void 0===t?1e12:t)?t.toString():null}function lf(t,n){this.g=!1,this.c=n,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=rn(t);var i=this;this.i=function(){i.execute()},this.h?this.execute():ei(this.f,"click",this.i)}function df(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mf(){}function vf(){}af.prototype.render=function(t,n){return this.a[this.b.toString()]=new lf(t,n),this.b++},af.prototype.reset=function(t){var n=hf(this,t);t=ff(t),n&&t&&(n.delete(),delete this.a[t])},af.prototype.getResponse=function(t){return(t=hf(this,t))?t.getResponse():null},af.prototype.execute=function(t){(t=hf(this,t))&&t.execute()},lf.prototype.getResponse=function(){return df(this),this.b},lf.prototype.execute=function(){df(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,n=[];0<t;)n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return n.join("")}();var n=t.c.callback,i=t.c["expired-callback"];if(n)try{n(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,i)try{i()}catch(t){}t.h&&t.execute()}),6e4)}),500))},lf.prototype.delete=function(){df(this),this.g=!0,clearTimeout(this.a),this.a=null,si(this.f,"click",this.i)},qe(mf,"FACTOR_ID","phone"),vf.prototype.g=function(){return cf||(cf=new af),Tn(cf)},vf.prototype.c=function(){};var pf=null;function gf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bf=new vt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wf=new Me(3e4,6e4);gf.prototype.g=function(t){var n=this;return new bn((function(i,e){var r=setTimeout((function(){e(new _("network-request-failed"))}),wf.get());!s.grecaptcha||t!==n.f&&!n.b?(s[n.a]=function(){if(s.grecaptcha){n.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,i){return t=o(t,i),n.b++,t},clearTimeout(r),i(s.grecaptcha)}else clearTimeout(r),e(new _("internal-error"));delete s[n.a]},Tn(js(_t(bf,{onload:n.a,hl:t||""}))).o((function(){clearTimeout(r),e(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),i(s.grecaptcha))}))},gf.prototype.c=function(){this.b--};var xf=null;function yf(t,n,i,e,r,o,u){if(qe(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=n,this.g=null,u?(pf||(pf=new vf),u=pf):(xf||(xf=new gf),u=xf),this.m=u,this.a=i||{theme:"light",type:"image"},this.h=[],this.a[If])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Tf],!s.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!rn(n)||!this.i&&rn(n).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qs(t,o||null,r||null),this.w=e||function(){return null};var a=this;this.l=[];var c=this.a[_f];this.a[_f]=function(t){if(Af(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var n=Ee(c,s);"function"==typeof n&&n(t)}};var h=this.a[Ef];this.a[Ef]=function(){if(Af(a,null),"function"==typeof h)h();else if("string"==typeof h){var t=Ee(h,s);"function"==typeof t&&t()}}}var _f="callback",Ef="expired-callback",If="sitekey",Tf="size";function Af(t,n){for(var i=0;i<t.l.length;i++)try{t.l[i](n)}catch(t){}}function kf(t,n){return t.h.push(n),n.ma((function(){$(t.h,n)})),n}function Sf(t){if(t.D)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}function Of(t,n,i){var e=!1;try{this.b=i||Gi.app()}catch(t){throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _("invalid-api-key");i=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{e=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Gi.SDK_VERSION?ye(Gi.SDK_VERSION,o):null,yf.call(this,i,t,n,(function(){try{var t=r.b.auth().ja()}catch(n){t=null}return t}),o,S(I),e)}function Nf(t,n,i,e){t:{i=Array.prototype.slice.call(i);for(var r=0,o=!1,s=0;s<n.length;s++)if(n[s].optional)o=!0;else{if(o)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=n.length,i.length<r||o<i.length)e="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+i.length+".";else{for(r=0;r<i.length;r++)if(o=n[r].optional&&void 0===i[r],!n[r].K(i[r])&&!o){if(n=n[r],0>r||r>=Rf.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");i=Rf[r],e=(e?"":i+" argument ")+(n.name?'"'+n.name+'" ':"")+"must be "+n.J+".";break t}e=null}}if(e)throw new _("argument-error",t+" failed: "+e)}(t=yf.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=kf(this,Tn().then((function(){if(Ae()&&!me())return fe();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(n){return t.g=n,Xu(t.s,Ru,{})})).then((function(n){t.a[If]=n.recaptchaSiteKey})).o((function(n){throw t.f=null,n})))},t.render=function(){Sf(this);var t=this;return kf(this,this.Ga().then((function(){if(null===t.c){var n=t.u;if(!t.i){var i=rn(n);n=function(t,n,i){var e=arguments,r=document,o=String(e[0]),s=e[1];if(!en&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ut(s.name),'"'),s.type){o.push(' type="',Ut(s.type),'"');var u={};dt(u,s),delete u.type,s=u}o.push(">"),o=o.join("")}return o=hn(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):on(o,s)),2<e.length&&cn(r,o,e),o}("DIV"),i.appendChild(n)}t.c=t.g.render(n,t.a)}return t.c})))},t.verify=function(){Sf(this);var t=this;return kf(this,this.render().then((function(n){return new bn((function(i){var e=t.g.getResponse(n);if(e)i(e);else{var r=function(n){n&&(function(t,n){W(t.l,(function(t){return t==n}))}(t,r),i(n))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Sf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Sf(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=rn(this.u);for(var n;n=t.firstChild;)t.removeChild(n)}},y(Of,yf);var Rf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Cf(t,n){return{name:t||"",J:"a valid string",optional:!!n,K:function(t){return"string"==typeof t}}}function Df(t,n){return{name:t||"",J:"a boolean",optional:!!n,K:function(t){return"boolean"==typeof t}}}function Pf(t,n){return{name:t||"",J:"a valid object",optional:!!n,K:d}}function Mf(t,n){return{name:t||"",J:"a function",optional:!!n,K:l}}function jf(t,n){return{name:t||"",J:"null",optional:!!n,K:function(t){return null===t}}}function Lf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(n){if(!n)return!1;var i=!t||n.providerId===t;return!(!n.ia||!i)}}}function Ff(t,n){return d(t)&&"string"==typeof t.type&&t.type===n&&l(t.Fa)}function Uf(t){return d(t)&&"string"==typeof t.uid}function Bf(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!l(t.verify))}}}function zf(t,n,i,e){return{name:i||"",J:t.J+" or "+n.J,optional:!!e,K:function(i){return t.K(i)||n.K(i)}}}function Vf(t,n){for(var i in n){var e=n[i].name;t[e]=$f(e,t[i],n[i].j)}}function qf(t,n){for(var i in n){var e=n[i].name;e!==i&&Object.defineProperty(t,e,{get:w((function(t){return this[t]}),i),set:w((function(t,n,i,e){Nf(t,[i],[e],!0),this[n]=e}),e,i,n[i].gb),enumerable:!0})}}function Gf(t,n,i,e){t[n]=$f(n,i,e)}function $f(t,n,i){function e(){var t=Array.prototype.slice.call(arguments);return Nf(o,i,t),n.apply(this,t)}if(!i)return n;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in n)e[r]=n[r];for(r in n.prototype)e.prototype[r]=n.prototype[r];return e}Vf(Hh.prototype,{fb:{name:"applyActionCode",j:[Cf("code")]},Pa:{name:"checkActionCode",j:[Cf("code")]},jb:{name:"confirmPasswordReset",j:[Cf("code"),Cf("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Cf("email"),Cf("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Cf("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Cf("emailLink")]},Fc:{name:"onAuthStateChanged",j:[zf(Pf(),Mf(),"nextOrObserver"),Mf("opt_error",!0),Mf("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[zf(Pf(),Mf(),"nextOrObserver"),Mf("opt_error",!0),Mf("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Cf("email"),zf(Pf("opt_actionCodeSettings",!0),jf(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Cf("email"),Pf("actionCodeSettings")]},tb:{name:"setPersistence",j:[Cf("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Lf()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Lf()]},Rc:{name:"signInWithCustomToken",j:[Cf("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Cf("email"),Cf("password")]},Tc:{name:"signInWithEmailLink",j:[Cf("email"),Cf("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Cf("phoneNumber"),Bf()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[zf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ah)}},jf(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Cf(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Cf("code")]}}),qf(Hh.prototype,{lc:{name:"languageCode",gb:zf(Cf(),jf(),"languageCode")},ti:{name:"tenantId",gb:zf(Cf(),jf(),"tenantId")}}),Hh.Persistence=qa,Hh.Persistence.LOCAL="local",Hh.Persistence.SESSION="session",Hh.Persistence.NONE="none",Vf(ah.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Df("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Df("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Lf()]},mb:{name:"linkWithCredential",j:[Lf()]},Bc:{name:"linkWithPhoneNumber",j:[Cf("phoneNumber"),Bf()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lf()]},pb:{name:"reauthenticateWithCredential",j:[Lf()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Cf("phoneNumber"),Bf()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[zf(Pf("opt_actionCodeSettings",!0),jf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Cf(null,!0)]},ad:{name:"unlink",j:[Cf("provider")]},xb:{name:"updateEmail",j:[Cf("email")]},yb:{name:"updatePassword",j:[Cf("password")]},cd:{name:"updatePhoneNumber",j:[Lf("phone")]},zb:{name:"updateProfile",j:[Pf("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Cf("email"),zf(Pf("opt_actionCodeSettings",!0),jf(null,!0),"opt_actionCodeSettings",!0)]}}),Vf(af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vf(uf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vf(bn.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qf(Bc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Df("appVerificationDisabledForTesting")}}),Vf(zc.prototype,{confirm:{name:"confirm",j:[Cf("verificationCode")]}}),Gf(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var n,i=[co,Eo,So,so],e=0;e<i.length;e++)if(n=i[e](t))return n;return null}),[zf(Cf(),Pf(),"json")]),Gf(Io,"credential",(function(t,n){return new _o(t,n)}),[Cf("email"),Cf("password")]),Vf(_o.prototype,{v:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(mo.prototype,{Aa:{name:"addScope",j:[Cf("scope")]},Ia:{name:"setCustomParameters",j:[Pf("customOAuthParameters")]}}),Gf(mo,"credential",vo,[zf(Cf(),Pf(),"token")]),Gf(Io,"credentialWithLink",To,[Cf("email"),Cf("emailLink")]),Vf(po.prototype,{Aa:{name:"addScope",j:[Cf("scope")]},Ia:{name:"setCustomParameters",j:[Pf("customOAuthParameters")]}}),Gf(po,"credential",go,[zf(Cf(),Pf(),"token")]),Vf(bo.prototype,{Aa:{name:"addScope",j:[Cf("scope")]},Ia:{name:"setCustomParameters",j:[Pf("customOAuthParameters")]}}),Gf(bo,"credential",wo,[zf(Cf(),zf(Pf(),jf()),"idToken"),zf(Cf(),jf(),"accessToken",!0)]),Vf(xo.prototype,{Ia:{name:"setCustomParameters",j:[Pf("customOAuthParameters")]}}),Gf(xo,"credential",yo,[zf(Cf(),Pf(),"token"),Cf("secret",!0)]),Vf(lo.prototype,{Aa:{name:"addScope",j:[Cf("scope")]},credential:{name:"credential",j:[zf(Cf(),zf(Pf(),jf()),"optionsOrIdToken"),zf(Cf(),jf(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Pf("customOAuthParameters")]}}),Vf(uo.prototype,{v:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(ro.prototype,{v:{name:"toJSON",j:[Cf(null,!0)]}}),Gf(No,"credential",Ro,[Cf("verificationId"),Cf("verificationCode")]),Vf(No.prototype,{cb:{name:"verifyPhoneNumber",j:[zf(Cf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ff(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ff(t.session,no)&&Uf(t.multiFactorHint):t.session&&t.multiFactorUid?Ff(t.session,no)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Bf()]}}),Vf(ko.prototype,{v:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(_.prototype,{toJSON:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(Bo.prototype,{toJSON:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(Uo.prototype,{toJSON:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(Hc.prototype,{toJSON:{name:"toJSON",j:[Cf(null,!0)]}}),Vf(Gc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Vf(Zc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Cf("displayName",!0)]},$c:{name:"unenroll",j:[zf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Uf},Cf(),"multiFactorInfoIdentifier")]}}),Vf(Of.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Gf(mr,"parseLink",_r,[Cf("link")]),Gf(mf,"assertion",(function(t){return new Qc(t)}),[Lf("phone")]),function(){if(void 0===Gi||!Gi.INTERNAL||!Gi.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ir,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:nr,VERIFY_AND_CHANGE_EMAIL:er,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Hh,AuthCredential:io,Error:_};Gf(t,"EmailAuthProvider",Io,[]),Gf(t,"FacebookAuthProvider",mo,[]),Gf(t,"GithubAuthProvider",po,[]),Gf(t,"GoogleAuthProvider",bo,[]),Gf(t,"TwitterAuthProvider",xo,[]),Gf(t,"OAuthProvider",lo,[Cf("providerId")]),Gf(t,"SAMLAuthProvider",fo,[Cf("providerId")]),Gf(t,"PhoneAuthProvider",No,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Hh)}}]),Gf(t,"RecaptchaVerifier",Of,[zf(Cf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Pf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Gi.app.App)}}]),Gf(t,"ActionCodeURL",mr,[]),Gf(t,"PhoneMultiFactorGenerator",mf,[]),Gi.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Hh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Gi.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Gi.registerVersion("@firebase/auth","0.14.6"),Gi.INTERNAL.extendNamespace({User:ah})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $i=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ri(n))},t.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:ei(n)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),Wi=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n},t.prototype.get=function(t){return si(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),Hi=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new $i(n)}}catch(t){}return new Wi},Xi=Hi("localStorage"),Yi=Hi("sessionStorage"),Ki=new Ri("@firebase/database"),Qi=function(){var t=1;return function(){return t++}}(),Ji=function(t){var n=function(t){for(var n=[],i=0,e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r>=55296&&r<=56319){var o=r-55296;e++,Bn(e<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(e)-56320)}r<128?n[i++]=r:r<2048?(n[i++]=r>>6|192,n[i++]=63&r|128):r<65536?(n[i++]=r>>12|224,n[i++]=r>>6&63|128,n[i++]=63&r|128):(n[i++]=r>>18|240,n[i++]=r>>12&63|128,n[i++]=r>>6&63|128,n[i++]=63&r|128)}return n}(t),i=new hi;i.update(n);var e=i.digest();return qn.encodeByteArray(e)},Zi=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i="",e=0;e<t.length;e++){var r=t[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?i+=Zi.apply(null,r):i+="object"==typeof r?ri(r):r,i+=" "}return i},te=null,ne=!0,ie=function(t,n){Bn(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ki.logLevel=Ii.VERBOSE,te=Ki.log.bind(Ki),n&&Yi.set("logging_enabled",!0)):"function"==typeof t?te=t:(te=null,Yi.remove("logging_enabled"))},ee=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!0===ne&&(ne=!1,null===te&&!0===Yi.get("logging_enabled")&&ie(!0)),te){var i=Zi.apply(null,t);te(i)}},re=function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];ee.apply(void 0,vt([t],n))}},oe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i="FIREBASE INTERNAL ERROR: "+Zi.apply(void 0,vt(t));Ki.error(i)},se=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i="FIREBASE FATAL ERROR: "+Zi.apply(void 0,vt(t));throw Ki.error(i),new Error(i)},ue=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i="FIREBASE WARNING: "+Zi.apply(void 0,vt(t));Ki.warn(i)},ae=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ce="[MIN_NAME]",he="[MAX_NAME]",fe=function(t,n){if(t===n)return 0;if(t===ce||n===he)return-1;if(n===ce||t===he)return 1;var i=we(t),e=we(n);return null!==i?null!==e?i-e==0?t.length-n.length:i-e:-1:null!==e?1:t<n?-1:1},le=function(t,n){return t===n?0:t<n?-1:1},de=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+ri(n))},me=function(t){if("object"!=typeof t||null===t)return ri(t);var n=[];for(var i in t)n.push(i);n.sort();for(var e="{",r=0;r<n.length;r++)0!==r&&(e+=","),e+=ri(n[r]),e+=":",e+=me(t[n[r]]);return e+="}"},ve=function(t,n){var i=t.length;if(i<=n)return[t];for(var e=[],r=0;r<i;r+=n)r+n>i?e.push(t.substring(r,i)):e.push(t.substring(r,r+n));return e};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t,n){for(var i in t)t.hasOwnProperty(i)&&n(i,t[i])}var ge=function(t){Bn(!ae(t),"Invalid JSON number");var n,i,e,r,o;0===t?(i=0,e=0,n=1/t==-1/0?1:0):(n=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(i=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,e=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(i=0,e=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(e%2?1:0),e=Math.floor(e/2);for(o=11;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);s.push(n?1:0),s.reverse();var u=s.join(""),a="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),a+=c}return a.toLowerCase()},be=new RegExp("^-?(0*)\\d{1,10}$"),we=function(t){if(be.test(t)){var n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},xe=function(t){try{t()}catch(t){setTimeout((function(){var n=t.stack||"";throw ue("Exception was thrown by user callback.",n),t}),Math.floor(0))}},ye=function(t,n){var i=setTimeout(t,n);return"object"==typeof i&&i.unref&&i.unref(),i},_e=function(){function t(t,n){if(void 0===n){this.pieces_=t.split("/");for(var i=0,e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[i]=this.pieces_[e],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var n=this.pieceNum_;return n<this.pieces_.length&&n++,new t(this.pieces_,n)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+encodeURIComponent(String(this.pieces_[n])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var n=[],i=this.pieceNum_;i<this.pieces_.length-1;i++)n.push(this.pieces_[i]);return new t(n,0)},t.prototype.child=function(n){for(var i=[],e=this.pieceNum_;e<this.pieces_.length;e++)i.push(this.pieces_[e]);if(n instanceof t)for(e=n.pieceNum_;e<n.pieces_.length;e++)i.push(n.pieces_[e]);else{var r=n.split("/");for(e=0;e<r.length;e++)r[e].length>0&&i.push(r[e])}return new t(i,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(n,i){var e=n.getFront(),r=i.getFront();if(null===e)return i;if(e===r)return t.relativePath(n.popFront(),i.popFront());throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+n+")")},t.comparePaths=function(t,n){for(var i=t.slice(),e=n.slice(),r=0;r<i.length&&r<e.length;r++){var o=fe(i[r],e[r]);if(0!==o)return o}return i.length===e.length?0:i.length<e.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var n=this.pieceNum_,i=t.pieceNum_;n<=this.pieces_.length;n++,i++)if(this.pieces_[n]!==t.pieces_[i])return!1;return!0},t.prototype.contains=function(t){var n=this.pieceNum_,i=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0},t}(),Ee=function(){function t(t,n){this.errorPrefix_=n,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=bi(this.parts_[i]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=bi(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=bi(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Ie=function(){function t(t,n,i,e,r,o){void 0===r&&(r=""),void 0===o&&(o=!1),this.secure=n,this.namespace=i,this.webSocketOnly=e,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Xi.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Xi.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,n){var i;if(Bn("string"==typeof t,"typeof type must == string"),Bn("object"==typeof n,"typeof params must == object"),"websocket"===t)i=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);i=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(n.ns=this.namespace);var e=[];return pe(n,(function(t,n){e.push(t+"="+n)})),i+e.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var Te,Ae,ke,Se,Oe,Ne=function(t){var n=Re(t),i=n.namespace;"firebase.com"===n.domain&&se(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||se("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ue("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var e="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ie(n.host,n.secure,i,e,"",i!==n.subdomain),path:new _e(n.pathString)}},Re=function(t){var n="",i="",e="",r="",o="",s=!0,u="https",a=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),n=t.substring(0,Math.min(h,f)),h<f&&(r=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var n="",i=t.split("/"),e=0;e<i.length;e++)if(i[e].length>0){var r=i[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}n+="/"+r}return n}(t.substring(h,f)));var l=function(t){var n,i,e={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=dt(t.split("&")),o=r.next();!o.done;o=r.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?e[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):ue("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return e}(t.substring(Math.min(t.length,f)));(c=n.indexOf(":"))>=0?(s="https"===u||"wss"===u,a=parseInt(n.substring(c+1),10)):c=n.length;var d=n.slice(0,c);if("localhost"===d.toLowerCase())i="localhost";else if(d.split(".").length<=2)i=d;else{var m=n.indexOf(".");e=n.substring(0,m).toLowerCase(),i=n.substring(m+1),o=e}"ns"in l&&(o=l.ns)}return{host:n,port:a,domain:i,subdomain:e,secure:s,scheme:u,pathString:r,namespace:o}},Ce=/[\[\].#$\/\u0000-\u001F\u007F]/,De=/[\[\].#$\u0000-\u001F\u007F]/,Pe=function(t){return"string"==typeof t&&0!==t.length&&!Ce.test(t)},Me=function(t){return"string"==typeof t&&0!==t.length&&!De.test(t)},je=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!ae(t)||t&&"object"==typeof t&&si(t,".sv")},Le=function(t,n,i,e,r){r&&void 0===i||Fe(vi(t,n,r),i,e)},Fe=function(t,n,i){var e=i instanceof _e?new Ee(i,t):i;if(void 0===n)throw new Error(t+"contains undefined "+e.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+e.toErrorString()+" with contents = "+n.toString());if(ae(n))throw new Error(t+"contains "+n.toString()+" "+e.toErrorString());if("string"==typeof n&&n.length>10485760/3&&bi(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+e.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var r=!1,o=!1;if(pe(n,(function(n,i){if(".value"===n)r=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Pe(n)))throw new Error(t+" contains an invalid key ("+n+") "+e.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.push(n),Fe(t,i,e),e.pop()})),r&&o)throw new Error(t+' contains ".value" child '+e.toErrorString()+" in addition to actual children.")}},Ue=function(t,n,i,e,r){if(!r||void 0!==i){var o=vi(t,n,r);if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(o+" must be an object containing the children to replace.");var s=[];pe(i,(function(t,n){var i=new _e(t);if(Fe(o,n,e.child(i)),".priority"===i.getBack()&&!je(n))throw new Error(o+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)})),function(t,n){var i,e;for(i=0;i<n.length;i++)for(var r=(e=n[i]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!Pe(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+e.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.sort(_e.comparePaths);var s=null;for(i=0;i<n.length;i++){if(e=n[i],null!==s&&s.contains(e))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+e.toString());s=e}}(o,s)}},Be=function(t,n,i,e){if(!e||void 0!==i){if(ae(i))throw new Error(vi(t,n,e)+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!je(i))throw new Error(vi(t,n,e)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ze=function(t,n,i,e){if(!e||void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(vi(t,n,e)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ve=function(t,n,i,e){if(!(e&&void 0===i||Pe(i)))throw new Error(vi(t,n,e)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qe=function(t,n,i,e){if(!(e&&void 0===i||Me(i)))throw new Error(vi(t,n,e)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ge=function(t,n,i,e){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),qe(t,n,i,e)},$e=function(t,n){if(".info"===n.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},We=function(t,n,i){var e=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Pe(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Me(t)}(e))throw new Error(vi(t,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},He=function(t,n,i,e){if((!e||void 0!==i)&&"boolean"!=typeof i)throw new Error(vi(t,n,e)+"must be a boolean.")},Xe=function(){function t(t,n){this.repo_=t,this.path_=n}return t.prototype.cancel=function(t){mi("OnDisconnect.cancel",0,1,arguments.length),pi("OnDisconnect.cancel",1,t,!0);var n=new Hn;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(t)),n.promise},t.prototype.remove=function(t){mi("OnDisconnect.remove",0,1,arguments.length),$e("OnDisconnect.remove",this.path_),pi("OnDisconnect.remove",1,t,!0);var n=new Hn;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(t)),n.promise},t.prototype.set=function(t,n){mi("OnDisconnect.set",1,2,arguments.length),$e("OnDisconnect.set",this.path_),Le("OnDisconnect.set",1,t,this.path_,!1),pi("OnDisconnect.set",2,n,!0);var i=new Hn;return this.repo_.onDisconnectSet(this.path_,t,i.wrapCallback(n)),i.promise},t.prototype.setWithPriority=function(t,n,i){mi("OnDisconnect.setWithPriority",2,3,arguments.length),$e("OnDisconnect.setWithPriority",this.path_),Le("OnDisconnect.setWithPriority",1,t,this.path_,!1),Be("OnDisconnect.setWithPriority",2,n,!1),pi("OnDisconnect.setWithPriority",3,i,!0);var e=new Hn;return this.repo_.onDisconnectSetWithPriority(this.path_,t,n,e.wrapCallback(i)),e.promise},t.prototype.update=function(t,n){if(mi("OnDisconnect.update",1,2,arguments.length),$e("OnDisconnect.update",this.path_),Array.isArray(t)){for(var i={},e=0;e<t.length;++e)i[""+e]=t[e];t=i,ue("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ue("OnDisconnect.update",1,t,this.path_,!1),pi("OnDisconnect.update",2,n,!0);var r=new Hn;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(n)),r.promise},t}(),Ye=function(){function t(t,n){this.committed=t,this.snapshot=n}return t.prototype.toJSON=function(){return mi("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ke=(Te="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ae=0,ke=[],function(t){var n,i=t===Ae;Ae=t;var e=new Array(8);for(n=7;n>=0;n--)e[n]=Te.charAt(t%64),t=Math.floor(t/64);Bn(0===t,"Cannot push at time == 0");var r=e.join("");if(i){for(n=11;n>=0&&63===ke[n];n--)ke[n]=0;ke[n]++}else for(n=0;n<12;n++)ke[n]=Math.floor(64*Math.random());for(n=0;n<12;n++)r+=Te.charAt(ke[n]);return Bn(20===r.length,"nextPushId: Length should be 20."),r}),Qe=function(){function t(t,n){this.name=t,this.node=n}return t.Wrap=function(n,i){return new t(n,i)},t}(),Je=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,n){var i=new Qe(ce,t),e=new Qe(ce,n);return 0!==this.compare(i,e)},t.prototype.minPost=function(){return Qe.MIN},t}(),Ze=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),Object.defineProperty(n,"lm",{get:function(){return Se},set:function(t){Se=t},enumerable:!0,configurable:!0}),n.prototype.compare=function(t,n){return fe(t.name,n.name)},n.prototype.isDefinedOn=function(t){throw zn("KeyIndex.isDefinedOn not expected to be called.")},n.prototype.indexedValueChanged=function(t,n){return!1},n.prototype.minPost=function(){return Qe.MIN},n.prototype.maxPost=function(){return new Qe(he,Se)},n.prototype.makePost=function(t,n){return Bn("string"==typeof t,"KeyIndex indexValue must always be a string."),new Qe(t,Se)},n.prototype.toString=function(){return".key"},n}(Je),tr=new Ze;var nr,ir,er,rr=function(t){return"number"==typeof t?"number:"+ge(t):"string:"+t},or=function(t){if(t.isLeafNode()){var n=t.val();Bn("string"==typeof n||"number"==typeof n||"object"==typeof n&&si(n,".sv"),"Priority must be a string or number.")}else Bn(t===Oe||t.isEmpty(),"priority of unexpected type.");Bn(t===Oe||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},sr=function(){function t(n,i){void 0===i&&(i=t.dm.EMPTY_NODE),this.value_=n,this.priorityNode_=i,this.lazyHash_=null,Bn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),or(this.priorityNode_)}return Object.defineProperty(t,"dm",{get:function(){return nr},set:function(t){nr=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(n){return new t(this.value_,n)},t.prototype.getImmediateChild=function(n){return".priority"===n?this.priorityNode_:t.dm.EMPTY_NODE},t.prototype.getChild=function(n){return n.isEmpty()?this:".priority"===n.getFront()?this.priorityNode_:t.dm.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,n){return null},t.prototype.updateImmediateChild=function(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:t.dm.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(n,i){var e=n.getFront();return null===e?i:i.isEmpty()&&".priority"!==e?this:(Bn(".priority"!==e||1===n.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(e,t.dm.EMPTY_NODE.updateChild(n.popFront(),i)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,n){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+rr(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",t+="number"===n?ge(this.value_):this.value_,this.lazyHash_=Ji(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(n){return n===t.dm.EMPTY_NODE?1:n instanceof t.dm?-1:(Bn(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))},t.prototype.compareToLeafNode_=function(n){var i=typeof n.value_,e=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(i),o=t.VALUE_TYPE_ORDER.indexOf(e);return Bn(r>=0,"Unknown leaf type: "+i),Bn(o>=0,"Unknown leaf type: "+e),r===o?"object"===e?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var ur,ar,cr=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.compare=function(t,n){var i=t.node.getPriority(),e=n.node.getPriority(),r=i.compareTo(e);return 0===r?fe(t.name,n.name):r},n.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},n.prototype.indexedValueChanged=function(t,n){return!t.getPriority().equals(n.getPriority())},n.prototype.minPost=function(){return Qe.MIN},n.prototype.maxPost=function(){return new Qe(he,new sr("[PRIORITY-POST]",er))},n.prototype.makePost=function(t,n){var i=ir(t);return new Qe(n,new sr("[PRIORITY-POST]",i))},n.prototype.toString=function(){return".priority"},n}(Je)),hr=function(){function t(t,n,i,e,r){void 0===r&&(r=null),this.isReverse_=e,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,e&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),fr=function(){function t(n,i,e,r,o){this.key=n,this.value=i,this.color=null!=e?e:t.RED,this.left=null!=r?r:dr.EMPTY_NODE,this.right=null!=o?o:dr.EMPTY_NODE}return t.prototype.copy=function(n,i,e,r,o){return new t(null!=n?n:this.key,null!=i?i:this.value,null!=e?e:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,n,i){var e=this,r=i(t,e.key);return(e=r<0?e.copy(null,null,null,e.left.insert(t,n,i),null):0===r?e.copy(null,n,null,null,null):e.copy(null,null,null,null,e.right.insert(t,n,i))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return dr.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,n){var i,e;if(n(t,(i=this).key)<0)i.left.isEmpty()||i.left.isRed_()||i.left.left.isRed_()||(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),i.right.isEmpty()||i.right.isRed_()||i.right.left.isRed_()||(i=i.moveRedRight_()),0===n(t,i.key)){if(i.right.isEmpty())return dr.EMPTY_NODE;e=i.right.min_(),i=i.copy(e.key,e.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},t.prototype.rotateRight_=function(){var n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),lr=function(){function t(){}return t.prototype.copy=function(t,n,i,e,r){return this},t.prototype.insert=function(t,n,i){return new fr(t,n,null)},t.prototype.remove=function(t,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),dr=function(){function t(n,i){void 0===i&&(i=t.EMPTY_NODE),this.comparator_=n,this.root_=i}return t.prototype.insert=function(n,i){return new t(this.comparator_,this.root_.insert(n,i,this.comparator_).copy(null,null,fr.BLACK,null,null))},t.prototype.remove=function(n){return new t(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,fr.BLACK,null,null))},t.prototype.get=function(t){for(var n,i=this.root_;!i.isEmpty();){if(0===(n=this.comparator_(t,i.key)))return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null},t.prototype.getPredecessorKey=function(t){for(var n,i=this.root_,e=null;!i.isEmpty();){if(0===(n=this.comparator_(t,i.key))){if(i.left.isEmpty())return e?e.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(e=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new hr(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,n){return new hr(this.root_,t,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(t,n){return new hr(this.root_,t,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(t){return new hr(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new lr,t}(),mr=Math.log(2),vr=function(){function t(t){var n;this.count=(n=t+1,parseInt(Math.log(n)/mr,10)),this.current_=this.count-1;var i,e=(i=this.count,parseInt(Array(i+1).join("1"),2));this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),pr=function(t,n,i,e){t.sort(n);var r=function(n,e){var o,s,u=e-n;if(0===u)return null;if(1===u)return o=t[n],s=i?i(o):o,new fr(s,o.node,fr.BLACK,null,null);var a=parseInt(u/2,10)+n,c=r(n,a),h=r(a+1,e);return o=t[a],s=i?i(o):o,new fr(s,o.node,fr.BLACK,c,h)},o=function(n){for(var e=null,o=null,s=t.length,u=function(n,e){var o=s-n,u=s;s-=n;var c=r(o+1,u),h=t[o],f=i?i(h):h;a(new fr(f,h.node,e,null,c))},a=function(t){e?(e.left=t,e=t):(o=t,e=t)},c=0;c<n.count;++c){var h=n.nextBitIsOne(),f=Math.pow(2,n.count-(c+1));h?u(f,fr.BLACK):(u(f,fr.BLACK),u(f,fr.RED))}return o}(new vr(t.length));return new dr(e||n,o)},gr={},br=function(){function t(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return Bn(gr&&cr,"ChildrenNode.ts has not been loaded"),ur=ur||new t({".priority":gr},{".priority":cr})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=ui(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof dr?n:null},t.prototype.hasIndex=function(t){return si(this.indexSet_,t.toString())},t.prototype.addIndex=function(n,i){Bn(n!==tr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var e,r=[],o=!1,s=i.getIterator(Qe.Wrap),u=s.getNext();u;)o=o||n.isDefinedOn(u.node),r.push(u),u=s.getNext();e=o?pr(r,n.getCompare()):gr;var a=n.toString(),c=ct({},this.indexSet_);c[a]=n;var h=ct({},this.indexes_);return h[a]=e,new t(h,c)},t.prototype.addToIndexes=function(n,i){var e=this;return new t(ci(this.indexes_,(function(t,r){var o=ui(e.indexSet_,r);if(Bn(o,"Missing index implementation for "+r),t===gr){if(o.isDefinedOn(n.node)){for(var s=[],u=i.getIterator(Qe.Wrap),a=u.getNext();a;)a.name!==n.name&&s.push(a),a=u.getNext();return s.push(n),pr(s,o.getCompare())}return gr}var c=i.get(n.name),h=t;return c&&(h=h.remove(new Qe(n.name,c))),h.insert(n,n.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(n,i){return new t(ci(this.indexes_,(function(t){if(t===gr)return t;var e=i.get(n.name);return e?t.remove(new Qe(n.name,e)):t})),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wr(t,n){return fe(t.name,n.name)}function xr(t,n){return fe(t,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr=function(){function t(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&or(this.priorityNode_),this.children_.isEmpty()&&Bn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return ar||(ar=new t(new dr(xr),null,br.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||ar},t.prototype.updatePriority=function(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var n=this.children_.get(t);return null===n?ar:n},t.prototype.getChild=function(t){var n=t.getFront();return null===n?this:this.getImmediateChild(n).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(n,i){if(Bn(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);var e=new Qe(n,i),r=void 0,o=void 0;i.isEmpty()?(r=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(e,this.children_)):(r=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(e,this.children_));var s=r.isEmpty()?ar:this.priorityNode_;return new t(r,s,o)},t.prototype.updateChild=function(t,n){var i=t.getFront();if(null===i)return n;Bn(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var e=this.getImmediateChild(i).updateChild(t.popFront(),n);return this.updateImmediateChild(i,e)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(n){if(this.isEmpty())return null;var i={},e=0,r=0,o=!0;if(this.forEachChild(cr,(function(s,u){i[s]=u.val(n),e++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1})),!n&&o&&r<2*e){var s=[];for(var u in i)s[u]=i[u];return s}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+rr(this.getPriority().val())+":"),this.forEachChild(cr,(function(n,i){var e=i.hash();""!==e&&(t+=":"+n+":"+e)})),this.lazyHash_=""===t?"":Ji(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,n,i){var e=this.resolveIndex_(i);if(e){var r=e.getPredecessorKey(new Qe(t,n));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var i=n.minKey();return i&&i.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Qe(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var i=n.maxKey();return i&&i.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Qe(n,this.children_.get(n)):null},t.prototype.forEachChild=function(t,n){var i=this.resolveIndex_(t);return i?i.inorderTraversal((function(t){return n(t.name,t.node)})):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,n){var i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,(function(t){return t}));for(var e=this.children_.getIteratorFrom(t.name,Qe.Wrap),r=e.peek();null!=r&&n.compare(r,t)<0;)e.getNext(),r=e.peek();return e},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,n){var i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,(function(t){return t}));for(var e=this.children_.getReverseIteratorFrom(t.name,Qe.Wrap),r=e.peek();null!=r&&n.compare(r,t)>0;)e.getNext(),r=e.peek();return e},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_r?-1:0},t.prototype.withIndex=function(n){if(n===tr||this.indexMap_.hasIndex(n))return this;var i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)},t.prototype.isIndexed=function(t){return t===tr||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){for(var i=this.getIterator(cr),e=n.getIterator(cr),r=i.getNext(),o=e.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=e.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===tr?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),_r=new(function(t){function n(){return t.call(this,new dr(xr),yr.EMPTY_NODE,br.Default)||this}return at(n,t),n.prototype.compareTo=function(t){return t===this?0:1},n.prototype.equals=function(t){return t===this},n.prototype.getPriority=function(){return this},n.prototype.getImmediateChild=function(t){return yr.EMPTY_NODE},n.prototype.isEmpty=function(){return!1},n}(yr));Object.defineProperties(Qe,{MIN:{value:new Qe(ce,yr.EMPTY_NODE)},MAX:{value:new Qe(he,_r)}}),Ze.lm=yr.EMPTY_NODE,sr.dm=yr,Oe=_r,function(t){er=t}(_r);function Er(t,n){if(void 0===n&&(n=null),null===t)return yr.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),Bn(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new sr(t,Er(n));if(t instanceof Array){var i=yr.EMPTY_NODE;return pe(t,(function(n,e){if(si(t,n)&&"."!==n.substring(0,1)){var r=Er(e);!r.isLeafNode()&&r.isEmpty()||(i=i.updateImmediateChild(n,r))}})),i.updatePriority(Er(n))}var e=[],r=!1;if(pe(t,(function(t,n){if("."!==t.substring(0,1)){var i=Er(n);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),e.push(new Qe(t,i)))}})),0===e.length)return yr.EMPTY_NODE;var o=pr(e,wr,(function(t){return t.name}),xr);if(r){var s=pr(e,cr.getCompare());return new yr(o,Er(n),new br({".priority":s},{".priority":cr}))}return new yr(o,Er(n),br.Default)}!function(t){ir=t}(Er);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ir,Tr=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.compare=function(t,n){var i=t.node.compareTo(n.node);return 0===i?fe(t.name,n.name):i},n.prototype.isDefinedOn=function(t){return!0},n.prototype.indexedValueChanged=function(t,n){return!t.equals(n)},n.prototype.minPost=function(){return Qe.MIN},n.prototype.maxPost=function(){return Qe.MAX},n.prototype.makePost=function(t,n){var i=Er(t);return new Qe(n,i)},n.prototype.toString=function(){return".value"},n}(Je)),Ar=function(t){function n(n){var i=t.call(this)||this;return i.indexPath_=n,Bn(!n.isEmpty()&&".priority"!==n.getFront(),"Can't create PathIndex with empty path or .priority key"),i}return at(n,t),n.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},n.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},n.prototype.compare=function(t,n){var i=this.extractChild(t.node),e=this.extractChild(n.node),r=i.compareTo(e);return 0===r?fe(t.name,n.name):r},n.prototype.makePost=function(t,n){var i=Er(t),e=yr.EMPTY_NODE.updateChild(this.indexPath_,i);return new Qe(n,e)},n.prototype.maxPost=function(){var t=yr.EMPTY_NODE.updateChild(this.indexPath_,_r);return new Qe(he,t)},n.prototype.toString=function(){return this.indexPath_.slice().join("/")},n}(Je),kr=function(){function t(t,n,i){this.node_=t,this.ref_=n,this.index_=i}return t.prototype.val=function(){return mi("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return mi("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return mi("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return mi("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(n){mi("DataSnapshot.child",0,1,arguments.length),n=String(n),qe("DataSnapshot.child",1,n,!1);var i=new _e(n),e=this.ref_.child(i);return new t(this.node_.getChild(i),e,cr)},t.prototype.hasChild=function(t){mi("DataSnapshot.hasChild",1,1,arguments.length),qe("DataSnapshot.hasChild",1,t,!1);var n=new _e(t);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return mi("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(n){var i=this;if(mi("DataSnapshot.forEach",1,1,arguments.length),pi("DataSnapshot.forEach",1,n,!1),this.node_.isLeafNode())return!1;var e=this.node_;return!!e.forEachChild(this.index_,(function(e,r){return n(new t(r,i.ref_.child(e),cr))}))},t.prototype.hasChildren=function(){return mi("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return mi("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return mi("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Sr=function(){function t(t,n,i,e){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=e}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+ri(this.snapshot.exportVal())},t}(),Or=function(){function t(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Nr=function(){function t(t,n,i){this.callback_=t,this.cancelCallback_=n,this.context_=i}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,n){var i=n.getQueryParams().getIndex();return new Sr("value",this,new kr(t.snapshotNode,n.getRef(),i))},t.prototype.getEventRunner=function(t){var n=this.context_;if("cancel"===t.getEventType()){Bn(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var i=this.cancelCallback_;return function(){i.call(n,t.error)}}var e=this.callback_;return function(){e.call(n,t.snapshot)}},t.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new Or(this,t,n):null},t.prototype.matches=function(n){return n instanceof t&&(!n.callback_||!this.callback_||n.callback_===this.callback_&&n.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Rr=function(){function t(t,n,i){this.callbacks_=t,this.cancelCallback_=n,this.context_=i}return t.prototype.respondsTo=function(t){var n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,si(this.callbacks_,n)},t.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new Or(this,t,n):null},t.prototype.createEvent=function(t,n){Bn(null!=t.childName,"Child events should have a childName.");var i=n.getRef().child(t.childName),e=n.getQueryParams().getIndex();return new Sr(t.type,this,new kr(t.snapshotNode,i,e),t.prevName)},t.prototype.getEventRunner=function(t){var n=this.context_;if("cancel"===t.getEventType()){Bn(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var i=this.cancelCallback_;return function(){i.call(n,t.error)}}var e=this.callbacks_[t.eventType];return function(){e.call(n,t.snapshot,t.prevName)}},t.prototype.matches=function(n){var i=this;if(n instanceof t){if(!this.callbacks_||!n.callbacks_)return!0;if(this.context_===n.context_){var e=Object.keys(n.callbacks_),r=Object.keys(this.callbacks_),o=e.length;if(o===r.length){if(1===o){var s=e[0],u=r[0];return!(u!==s||n.callbacks_[s]&&this.callbacks_[u]&&n.callbacks_[s]!==this.callbacks_[u])}return r.every((function(t){return n.callbacks_[t]===i.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Cr=function(){function t(t,n,i,e){this.repo=t,this.path=n,this.queryParams_=i,this.orderByCalled_=e}return Object.defineProperty(t,"mm",{get:function(){return Bn(Ir,"Reference.ts has not been loaded"),Ir},set:function(t){Ir=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var n=null,i=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(i=t.getIndexEndValue()),t.getIndex()===tr){var e="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ce)throw new Error(e);if("string"!=typeof n)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==he)throw new Error(e);if("string"!=typeof i)throw new Error(r)}}else if(t.getIndex()===cr){if(null!=n&&!je(n)||null!=i&&!je(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Bn(t.getIndex()instanceof Ar||t.getIndex()===Tr,"unknown index type."),null!=n&&"object"==typeof n||null!=i&&"object"==typeof i)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return mi("Query.ref",0,0,arguments.length),new t.mm(this.repo,this.path)},t.prototype.on=function(n,i,e,r){mi("Query.on",2,4,arguments.length),ze("Query.on",1,n,!1),pi("Query.on",2,i,!1);var o=t.getCancelAndContextArgs_("Query.on",e,r);if("value"===n)this.onValueEvent(i,o.cancel,o.context);else{var s={};s[n]=i,this.onChildEvent(s,o.cancel,o.context)}return i},t.prototype.onValueEvent=function(t,n,i){var e=new Nr(t,n||null,i||null);this.repo.addEventCallbackForQuery(this,e)},t.prototype.onChildEvent=function(t,n,i){var e=new Rr(t,n,i);this.repo.addEventCallbackForQuery(this,e)},t.prototype.off=function(t,n,i){mi("Query.off",0,3,arguments.length),ze("Query.off",1,t,!0),pi("Query.off",2,n,!0),gi("Query.off",3,i,!0);var e=null,r=null;if("value"===t){var o=n||null;e=new Nr(o,null,i||null)}else t&&(n&&((r={})[t]=n),e=new Rr(r,null,i||null));this.repo.removeEventCallbackForQuery(this,e)},t.prototype.once=function(n,i,e,r){var o=this;mi("Query.once",1,4,arguments.length),ze("Query.once",1,n,!1),pi("Query.once",2,i,!0);var s=t.getCancelAndContextArgs_("Query.once",e,r),u=!0,a=new Hn;a.promise.catch((function(){}));var c=function(t){u&&(u=!1,o.off(n,c),i&&i.bind(s.context)(t),a.resolve(t))};return this.on(n,c,(function(t){o.off(n,c),s.cancel&&s.cancel.bind(s.context)(t),a.reject(t)})),a.promise},t.prototype.limitToFirst=function(n){if(mi("Query.limitToFirst",1,1,arguments.length),"number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(n),this.orderByCalled_)},t.prototype.limitToLast=function(n){if(mi("Query.limitToLast",1,1,arguments.length),"number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(n),this.orderByCalled_)},t.prototype.orderByChild=function(n){if(mi("Query.orderByChild",1,1,arguments.length),"$key"===n)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===n)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===n)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');qe("Query.orderByChild",1,n,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var i=new _e(n);if(i.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var e=new Ar(i),r=this.queryParams_.orderBy(e);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){mi("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var n=this.queryParams_.orderBy(tr);return t.validateQueryEndpoints_(n),new t(this.repo,this.path,n,!0)},t.prototype.orderByPriority=function(){mi("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var n=this.queryParams_.orderBy(cr);return t.validateQueryEndpoints_(n),new t(this.repo,this.path,n,!0)},t.prototype.orderByValue=function(){mi("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var n=this.queryParams_.orderBy(Tr);return t.validateQueryEndpoints_(n),new t(this.repo,this.path,n,!0)},t.prototype.startAt=function(n,i){void 0===n&&(n=null),mi("Query.startAt",0,2,arguments.length),Le("Query.startAt",1,n,this.path,!0),Ve("Query.startAt",2,i,!0);var e=this.queryParams_.startAt(n,i);if(t.validateLimit_(e),t.validateQueryEndpoints_(e),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===n&&(n=null,i=null),new t(this.repo,this.path,e,this.orderByCalled_)},t.prototype.endAt=function(n,i){void 0===n&&(n=null),mi("Query.endAt",0,2,arguments.length),Le("Query.endAt",1,n,this.path,!0),Ve("Query.endAt",2,i,!0);var e=this.queryParams_.endAt(n,i);if(t.validateLimit_(e),t.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,e,this.orderByCalled_)},t.prototype.equalTo=function(t,n){if(mi("Query.equalTo",1,2,arguments.length),Le("Query.equalTo",1,t,this.path,!1),Ve("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,n).endAt(t,n)},t.prototype.toString=function(){return mi("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return mi("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),n=me(t);return"{}"===n?"default":n},t.prototype.isEqual=function(n){if(mi("Query.isEqual",1,1,arguments.length),!(n instanceof t)){var i="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(i)}var e=this.repo===n.repo,r=this.path.equals(n.path),o=this.queryIdentifier()===n.queryIdentifier();return e&&r&&o},t.getCancelAndContextArgs_=function(t,n,i){var e={cancel:null,context:null};if(n&&i)e.cancel=n,pi(t,3,e.cancel,!0),e.context=i,gi(t,4,e.context,!0);else if(n)if("object"==typeof n&&null!==n)e.context=n;else{if("function"!=typeof n)throw new Error(vi(t,3,!0)+" must either be a cancel callback or a context object.");e.cancel=n}return e},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Dr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(n){return new t(this.node_.getImmediateChild(n))},t.prototype.node=function(){return this.node_},t}(),Pr=function(){function t(t,n){this.syncTree_=t,this.path_=n}return t.prototype.getImmediateChild=function(n){var i=this.path_.child(n);return new t(this.syncTree_,i)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Mr=function(t,n,i){return t&&"object"==typeof t?(Bn(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?jr(t[".sv"],n,i):"object"==typeof t[".sv"]?Lr(t[".sv"],n):void Bn(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},jr=function(t,n,i){switch(t){case"timestamp":return i.timestamp;default:Bn(!1,"Unexpected server value: "+t)}},Lr=function(t,n,i){t.hasOwnProperty("increment")||Bn(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var e=t.increment;"number"!=typeof e&&Bn(!1,"Unexpected increment value: "+e);var r=n.node();if(Bn(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return e;var o=r.getValue();return"number"!=typeof o?e:o+e},Fr=function(t,n,i,e){return Br(n,new Pr(i,t),e)},Ur=function(t,n,i){return Br(t,new Dr(n),i)};function Br(t,n,i){var e,r=t.getPriority().val(),o=Mr(r,n.getImmediateChild(".priority"),i);if(t.isLeafNode()){var s=t,u=Mr(s.getValue(),n,i);return u!==s.getValue()||o!==s.getPriority().val()?new sr(u,Er(o)):t}var a=t;return e=a,o!==a.getPriority().val()&&(e=e.updatePriority(new sr(o))),a.forEachChild(cr,(function(t,r){var o=Br(r,n.getImmediateChild(t),i);o!==r&&(e=e.updateImmediateChild(t,o))})),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr,Vr=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var n=t.getFront();return t=t.popFront(),this.children.has(n)?this.children.get(n).find(t):null}return null},t.prototype.remember=function(n,i){if(n.isEmpty())this.value=i,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(n,i);else{var e=n.getFront();this.children.has(e)||this.children.set(e,new t);var r=this.children.get(e);n=n.popFront(),r.remember(n,i)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var i=this;return n.forEachChild(cr,(function(t,n){i.remember(new _e(t),n)})),this.forget(t)}if(this.children.size>0){var e=t.getFront();if(t=t.popFront(),this.children.has(e))this.children.get(e).forget(t)&&this.children.delete(e);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,n){null!==this.value?n(t,this.value):this.forEachChild((function(i,e){var r=new _e(t.toString()+"/"+i);e.forEachTree(r,n)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(n,i){t(i,n)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(zr||(zr={}));var qr,Gr,$r=function(){function t(t,n,i,e){this.fromUser=t,this.fromServer=n,this.queryId=i,this.tagged=e,Bn(!e||n,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(n){return new t(!1,!0,n,!0)},t}(),Wr=function(){function t(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=zr.ACK_USER_WRITE,this.source=$r.User}return t.prototype.operationForChild=function(n){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Bn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var i=this.affectedTree.subtree(new _e(n));return new t(_e.Empty,i,this.revert)}return Bn(this.path.getFront()===n,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Hr=function(){function t(t,n){void 0===n&&(qr||(qr=new dr(le)),n=qr),this.value=t,this.children=n}return t.fromObject=function(n){var i=t.Empty;return pe(n,(function(t,n){i=i.set(new _e(t),n)})),i},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,n){if(null!=this.value&&n(this.value))return{path:_e.Empty,value:this.value};if(t.isEmpty())return null;var i=t.getFront(),e=this.children.get(i);if(null!==e){var r=e.findRootMostMatchingPathAndValue(t.popFront(),n);return null!=r?{path:new _e(i).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(n){if(n.isEmpty())return this;var i=n.getFront(),e=this.children.get(i);return null!==e?e.subtree(n.popFront()):t.Empty},t.prototype.set=function(n,i){if(n.isEmpty())return new t(i,this.children);var e=n.getFront(),r=(this.children.get(e)||t.Empty).set(n.popFront(),i),o=this.children.insert(e,r);return new t(this.value,o)},t.prototype.remove=function(n){if(n.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var i=n.getFront(),e=this.children.get(i);if(e){var r=e.remove(n.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(i):this.children.insert(i,r),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var n=t.getFront(),i=this.children.get(n);return i?i.get(t.popFront()):null},t.prototype.setTree=function(n,i){if(n.isEmpty())return i;var e=n.getFront(),r=(this.children.get(e)||t.Empty).setTree(n.popFront(),i),o=void 0;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(_e.Empty,t)},t.prototype.fold_=function(t,n){var i={};return this.children.inorderTraversal((function(e,r){i[e]=r.fold_(t.child(e),n)})),n(t,this.value,i)},t.prototype.findOnPath=function(t,n){return this.findOnPath_(t,_e.Empty,n)},t.prototype.findOnPath_=function(t,n,i){var e=!!this.value&&i(n,this.value);if(e)return e;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),n.child(r),i):null},t.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,_e.Empty,n)},t.prototype.foreachOnPath_=function(n,i,e){if(n.isEmpty())return this;this.value&&e(i,this.value);var r=n.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(n.popFront(),i.child(r),e):t.Empty},t.prototype.foreach=function(t){this.foreach_(_e.Empty,t)},t.prototype.foreach_=function(t,n){this.children.inorderTraversal((function(i,e){e.foreach_(t.child(i),n)})),this.value&&n(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(n,i){i.value&&t(n,i.value)}))},t.Empty=new t(null),t}(),Xr=function(){function t(t,n){this.source=t,this.path=n,this.type=zr.LISTEN_COMPLETE}return t.prototype.operationForChild=function(n){return this.path.isEmpty()?new t(this.source,_e.Empty):new t(this.source,this.path.popFront())},t}(),Yr=function(){function t(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=zr.OVERWRITE}return t.prototype.operationForChild=function(n){return this.path.isEmpty()?new t(this.source,_e.Empty,this.snap.getImmediateChild(n)):new t(this.source,this.path.popFront(),this.snap)},t}(),Kr=function(){function t(t,n,i){this.source=t,this.path=n,this.children=i,this.type=zr.MERGE}return t.prototype.operationForChild=function(n){if(this.path.isEmpty()){var i=this.children.subtree(new _e(n));return i.isEmpty()?null:i.value?new Yr(this.source,_e.Empty,i.value):new t(this.source,_e.Empty,i)}return Bn(this.path.getFront()===n,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Qr=function(){function t(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=t.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Jr=function(){function t(t,n){this.eventCache_=t,this.serverCache_=n}return t.prototype.updateEventSnap=function(n,i,e){return new t(new Qr(n,i,e),this.serverCache_)},t.prototype.updateServerSnap=function(n,i,e){return new t(this.eventCache_,new Qr(n,i,e))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Qr(yr.EMPTY_NODE,!1,!1),new Qr(yr.EMPTY_NODE,!1,!1)),t}(),Zr=function(){function t(t,n,i,e,r){this.type=t,this.snapshotNode=n,this.childName=i,this.oldSnap=e,this.prevName=r}return t.valueChange=function(n){return new t(t.VALUE,n)},t.childAddedChange=function(n,i){return new t(t.CHILD_ADDED,i,n)},t.childRemovedChange=function(n,i){return new t(t.CHILD_REMOVED,i,n)},t.childChangedChange=function(n,i,e){return new t(t.CHILD_CHANGED,i,n,e)},t.childMovedChange=function(n,i){return new t(t.CHILD_MOVED,i,n)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),to=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,n,i,e,r,o){Bn(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(n);return s.getChild(e).equals(i.getChild(e))&&s.isEmpty()===i.isEmpty()?t:(null!=o&&(i.isEmpty()?t.hasChild(n)?o.trackChildChange(Zr.childRemovedChange(n,s)):Bn(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Zr.childAddedChange(n,i)):o.trackChildChange(Zr.childChangedChange(n,i,s))),t.isLeafNode()&&i.isEmpty()?t:t.updateImmediateChild(n,i).withIndex(this.index_))},t.prototype.updateFullNode=function(t,n,i){return null!=i&&(t.isLeafNode()||t.forEachChild(cr,(function(t,e){n.hasChild(t)||i.trackChildChange(Zr.childRemovedChange(t,e))})),n.isLeafNode()||n.forEachChild(cr,(function(n,e){if(t.hasChild(n)){var r=t.getImmediateChild(n);r.equals(e)||i.trackChildChange(Zr.childChangedChange(n,e,r))}else i.trackChildChange(Zr.childAddedChange(n,e))}))),n.withIndex(this.index_)},t.prototype.updatePriority=function(t,n){return t.isEmpty()?yr.EMPTY_NODE:t.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),no=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var n=t.type,i=t.childName;Bn(n===Zr.CHILD_ADDED||n===Zr.CHILD_CHANGED||n===Zr.CHILD_REMOVED,"Only child changes supported for tracking"),Bn(".priority"!==i,"Only non-priority child changes can be tracked.");var e=this.changeMap.get(i);if(e){var r=e.type;if(n===Zr.CHILD_ADDED&&r===Zr.CHILD_REMOVED)this.changeMap.set(i,Zr.childChangedChange(i,t.snapshotNode,e.snapshotNode));else if(n===Zr.CHILD_REMOVED&&r===Zr.CHILD_ADDED)this.changeMap.delete(i);else if(n===Zr.CHILD_REMOVED&&r===Zr.CHILD_CHANGED)this.changeMap.set(i,Zr.childRemovedChange(i,e.oldSnap));else if(n===Zr.CHILD_CHANGED&&r===Zr.CHILD_ADDED)this.changeMap.set(i,Zr.childAddedChange(i,t.snapshotNode));else{if(n!==Zr.CHILD_CHANGED||r!==Zr.CHILD_CHANGED)throw zn("Illegal combination of changes: "+t+" occurred after "+e);this.changeMap.set(i,Zr.childChangedChange(i,t.snapshotNode,e.oldSnap))}}else this.changeMap.set(i,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),io=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,n,i){return null},t}()),eo=function(){function t(t,n,i){void 0===i&&(i=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}return t.prototype.getCompleteChild=function(t){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var i=null!=this.optCompleteServerCache_?new Qr(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,i)},t.prototype.getChildAfterChild=function(t,n,i){var e=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(e,n,1,i,t);return 0===r.length?null:r[0]},t}(),ro=function(t,n){this.viewCache=t,this.changes=n},oo=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Bn(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Bn(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(n,i,e,r){var o,s,u=new no;if(i.type===zr.OVERWRITE){var a=i;a.source.fromUser?o=this.applyUserOverwrite_(n,a.path,a.snap,e,r,u):(Bn(a.source.fromServer,"Unknown source."),s=a.source.tagged||n.getServerCache().isFiltered()&&!a.path.isEmpty(),o=this.applyServerOverwrite_(n,a.path,a.snap,e,r,s,u))}else if(i.type===zr.MERGE){var c=i;c.source.fromUser?o=this.applyUserMerge_(n,c.path,c.children,e,r,u):(Bn(c.source.fromServer,"Unknown source."),s=c.source.tagged||n.getServerCache().isFiltered(),o=this.applyServerMerge_(n,c.path,c.children,e,r,s,u))}else if(i.type===zr.ACK_USER_WRITE){var h=i;o=h.revert?this.revertUserWrite_(n,h.path,e,r,u):this.ackUserWrite_(n,h.path,h.affectedTree,e,r,u)}else{if(i.type!==zr.LISTEN_COMPLETE)throw zn("Unknown operation type: "+i.type);o=this.listenComplete_(n,i.path,e,u)}var f=u.getChanges();return t.maybeAddValueEvent_(n,o,f),new ro(o,f)},t.maybeAddValueEvent_=function(t,n,i){var e=n.getEventCache();if(e.isFullyInitialized()){var r=e.getNode().isLeafNode()||e.getNode().isEmpty(),o=t.getCompleteEventSnap();(i.length>0||!t.getEventCache().isFullyInitialized()||r&&!e.getNode().equals(o)||!e.getNode().getPriority().equals(o.getPriority()))&&i.push(Zr.valueChange(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,n,i,e,r){var o=t.getEventCache();if(null!=i.shadowingWrite(n))return t;var s=void 0,u=void 0;if(n.isEmpty())if(Bn(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var a=t.getCompleteServerSnap(),c=a instanceof yr?a:yr.EMPTY_NODE,h=i.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var f=i.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,r)}else{var l=n.getFront();if(".priority"===l){Bn(1===n.getLength(),"Can't have a priority with additional path components");var d=o.getNode();u=t.getServerCache().getNode();var m=i.calcEventCacheAfterServerOverwrite(n,d,u);s=null!=m?this.filter_.updatePriority(d,m):o.getNode()}else{var v=n.popFront(),p=void 0;if(o.isCompleteForChild(l)){u=t.getServerCache().getNode();var g=i.calcEventCacheAfterServerOverwrite(n,o.getNode(),u);p=null!=g?o.getNode().getImmediateChild(l).updateChild(v,g):o.getNode().getImmediateChild(l)}else p=i.calcCompleteChild(l,t.getServerCache());s=null!=p?this.filter_.updateChild(o.getNode(),l,p,v,e,r):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,n,i,e,r,o,s){var u,a=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())u=c.updateFullNode(a.getNode(),i,null);else if(c.filtersNodes()&&!a.isFiltered()){var h=a.getNode().updateChild(n,i);u=c.updateFullNode(a.getNode(),h,null)}else{var f=n.getFront();if(!a.isCompleteForPath(n)&&n.getLength()>1)return t;var l=n.popFront(),d=a.getNode().getImmediateChild(f).updateChild(l,i);u=".priority"===f?c.updatePriority(a.getNode(),d):c.updateChild(a.getNode(),f,d,l,io,null)}var m=t.updateServerSnap(u,a.isFullyInitialized()||n.isEmpty(),c.filtersNodes()),v=new eo(e,m,r);return this.generateEventCacheAfterServerEvent_(m,n,e,v,s)},t.prototype.applyUserOverwrite_=function(t,n,i,e,r,o){var s,u,a=t.getEventCache(),c=new eo(e,t,r);if(n.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),i,o),s=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var h=n.getFront();if(".priority"===h)u=this.filter_.updatePriority(t.getEventCache().getNode(),i),s=t.updateEventSnap(u,a.isFullyInitialized(),a.isFiltered());else{var f=n.popFront(),l=a.getNode().getImmediateChild(h),d=void 0;if(f.isEmpty())d=i;else{var m=c.getCompleteChild(h);d=null!=m?".priority"===f.getBack()&&m.getChild(f.parent()).isEmpty()?m:m.updateChild(f,i):yr.EMPTY_NODE}if(l.equals(d))s=t;else{var v=this.filter_.updateChild(a.getNode(),h,d,f,c,o);s=t.updateEventSnap(v,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,n){return t.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(n,i,e,r,o,s){var u=this,a=n;return e.foreach((function(e,c){var h=i.child(e);t.cacheHasChild_(n,h.getFront())&&(a=u.applyUserOverwrite_(a,h,c,r,o,s))})),e.foreach((function(e,c){var h=i.child(e);t.cacheHasChild_(n,h.getFront())||(a=u.applyUserOverwrite_(a,h,c,r,o,s))})),a},t.prototype.applyMerge_=function(t,n){return n.foreach((function(n,i){t=t.updateChild(n,i)})),t},t.prototype.applyServerMerge_=function(t,n,i,e,r,o,s){var u=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var a,c=t;a=n.isEmpty()?i:Hr.Empty.setTree(n,i);var h=t.getServerCache().getNode();return a.children.inorderTraversal((function(n,i){if(h.hasChild(n)){var a=t.getServerCache().getNode().getImmediateChild(n),f=u.applyMerge_(a,i);c=u.applyServerOverwrite_(c,new _e(n),f,e,r,o,s)}})),a.children.inorderTraversal((function(n,i){var a=!t.getServerCache().isCompleteForChild(n)&&null==i.value;if(!h.hasChild(n)&&!a){var f=t.getServerCache().getNode().getImmediateChild(n),l=u.applyMerge_(f,i);c=u.applyServerOverwrite_(c,new _e(n),l,e,r,o,s)}})),c},t.prototype.ackUserWrite_=function(t,n,i,e,r,o){if(null!=e.shadowingWrite(n))return t;var s=t.getServerCache().isFiltered(),u=t.getServerCache();if(null!=i.value){if(n.isEmpty()&&u.isFullyInitialized()||u.isCompleteForPath(n))return this.applyServerOverwrite_(t,n,u.getNode().getChild(n),e,r,s,o);if(n.isEmpty()){var a=Hr.Empty;return u.getNode().forEachChild(tr,(function(t,n){a=a.set(new _e(t),n)})),this.applyServerMerge_(t,n,a,e,r,s,o)}return t}var c=Hr.Empty;return i.foreach((function(t,i){var e=n.child(t);u.isCompleteForPath(e)&&(c=c.set(t,u.getNode().getChild(e)))})),this.applyServerMerge_(t,n,c,e,r,s,o)},t.prototype.listenComplete_=function(t,n,i,e){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||n.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,n,i,io,e)},t.prototype.revertUserWrite_=function(t,n,i,e,r){var o;if(null!=i.shadowingWrite(n))return t;var s=new eo(i,t,e),u=t.getEventCache().getNode(),a=void 0;if(n.isEmpty()||".priority"===n.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=i.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Bn(h instanceof yr,"serverChildren would be complete if leaf node"),c=i.calcCompleteEventChildren(h)}c=c,a=this.filter_.updateFullNode(u,c,r)}else{var f=n.getFront(),l=i.calcCompleteChild(f,t.getServerCache());null==l&&t.getServerCache().isCompleteForChild(f)&&(l=u.getImmediateChild(f)),(a=null!=l?this.filter_.updateChild(u,f,l,n.popFront(),s,r):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,yr.EMPTY_NODE,n.popFront(),s,r):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=i.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(a=this.filter_.updateFullNode(a,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=i.shadowingWrite(_e.Empty),t.updateEventSnap(a,o,this.filter_.filtersNodes())},t}(),so=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,n,i){var e=this,r=[],o=[];return t.forEach((function(t){t.type===Zr.CHILD_CHANGED&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Zr.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(r,Zr.CHILD_REMOVED,t,i,n),this.generateEventsForType_(r,Zr.CHILD_ADDED,t,i,n),this.generateEventsForType_(r,Zr.CHILD_MOVED,o,i,n),this.generateEventsForType_(r,Zr.CHILD_CHANGED,t,i,n),this.generateEventsForType_(r,Zr.VALUE,t,i,n),r},t.prototype.generateEventsForType_=function(t,n,i,e,r){var o=this,s=i.filter((function(t){return t.type===n}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(n){var i=o.materializeSingleChange_(n,r);e.forEach((function(e){e.respondsTo(n.type)&&t.push(e.createEvent(i,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,n){if(null==t.childName||null==n.childName)throw zn("Should only compare child_ events.");var i=new Qe(t.childName,t.snapshotNode),e=new Qe(n.childName,n.snapshotNode);return this.index_.compare(i,e)},t}(),uo=function(){function t(t,n){this.query_=t,this.eventRegistrations_=[];var i=this.query_.getQueryParams(),e=new to(i.getIndex()),r=i.getNodeFilter();this.processor_=new oo(r);var o=n.getServerCache(),s=n.getEventCache(),u=e.updateFullNode(yr.EMPTY_NODE,o.getNode(),null),a=r.updateFullNode(yr.EMPTY_NODE,s.getNode(),null),c=new Qr(u,o.isFullyInitialized(),e.filtersNodes()),h=new Qr(a,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=new Jr(h,c),this.eventGenerator_=new so(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!n.getImmediateChild(t.getFront()).isEmpty())?n.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,n){var i=[];if(n){Bn(null==t,"A cancel should cancel all event registrations.");var e=this.query_.path;this.eventRegistrations_.forEach((function(t){n=n;var r=t.createCancelEvent(n,e);r&&i.push(r)}))}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(s)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return i},t.prototype.applyOperation=function(t,n,i){t.type===zr.MERGE&&null!==t.source.queryId&&(Bn(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Bn(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var e=this.viewCache_,r=this.processor_.applyOperation(e,t,n,i);return this.processor_.assertIndexed(r.viewCache),Bn(r.viewCache.getServerCache().isFullyInitialized()||!e.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var n=this.viewCache_.getEventCache(),i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(cr,(function(t,n){i.push(Zr.childAddedChange(t,n))}));return n.isFullyInitialized()&&i.push(Zr.valueChange(n.getNode())),this.generateEventsForChanges_(i,n.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,n,i){var e=i?[i]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,n,e)},t}(),ao=function(){function t(){this.views=new Map}return Object.defineProperty(t,"mm",{get:function(){return Bn(Gr,"Reference.ts has not been loaded"),Gr},set:function(t){Bn(!Gr,"__referenceConstructor has already been defined"),Gr=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,n,i){var e,r,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return Bn(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,n,i)}var u=[];try{for(var a=dt(this.views.values()),c=a.next();!c.done;c=a.next()){s=c.value;u=u.concat(s.applyOperation(t,n,i))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return u},t.prototype.addEventRegistration=function(t,n,i,e,r){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var u=i.calcCompleteEventCache(r?e:null),a=!1;u?a=!0:e instanceof yr?(u=i.calcCompleteEventChildren(e),a=!1):(u=yr.EMPTY_NODE,a=!1);var c=new Jr(new Qr(u,a,!1),new Qr(e,r,!1));s=new uo(t,c),this.views.set(o,s)}return s.addEventRegistration(n),s.getInitialEvents(n)},t.prototype.removeEventRegistration=function(n,i,e){var r,o,s=n.queryIdentifier(),u=[],a=[],c=this.hasCompleteView();if("default"===s)try{for(var h=dt(this.views.entries()),f=h.next();!f.done;f=h.next()){var l=mt(f.value,2),d=l[0],m=l[1];a=a.concat(m.removeEventRegistration(i,e)),m.isEmpty()&&(this.views.delete(d),m.getQuery().getQueryParams().loadsAllData()||u.push(m.getQuery()))}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}else(m=this.views.get(s))&&(a=a.concat(m.removeEventRegistration(i,e)),m.isEmpty()&&(this.views.delete(s),m.getQuery().getQueryParams().loadsAllData()||u.push(m.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.mm(n.repo,n.path)),{removed:u,events:a}},t.prototype.getQueryViews=function(){var t,n,i=[];try{for(var e=dt(this.views.values()),r=e.next();!r.done;r=e.next()){var o=r.value;o.getQuery().getQueryParams().loadsAllData()||i.push(o)}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}return i},t.prototype.getCompleteServerCache=function(t){var n,i,e=null;try{for(var r=dt(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;e=e||s.getCompleteServerCache(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var n=t.queryIdentifier();return this.views.get(n)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,n;try{for(var i=dt(this.views.values()),e=i.next();!e.done;e=i.next()){var r=e.value;if(r.getQuery().getQueryParams().loadsAllData())return r}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},t}(),co=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(n,i){if(n.isEmpty())return new t(new Hr(i));var e=this.writeTree_.findRootMostValueAndPath(n);if(null!=e){var r=e.path,o=e.value,s=_e.relativePath(r,n);return o=o.updateChild(s,i),new t(this.writeTree_.set(r,o))}var u=new Hr(i);return new t(this.writeTree_.setTree(n,u))},t.prototype.addWrites=function(t,n){var i=this;return pe(n,(function(n,e){i=i.addWrite(t.child(n),e)})),i},t.prototype.removeWrite=function(n){return n.isEmpty()?t.Empty:new t(this.writeTree_.setTree(n,Hr.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var n=this.writeTree_.findRootMostValueAndPath(t);return null!=n?this.writeTree_.get(n.path).getChild(_e.relativePath(n.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],n=this.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cr,(function(n,i){t.push(new Qe(n,i))})):this.writeTree_.children.inorderTraversal((function(n,i){null!=i.value&&t.push(new Qe(n,i.value))})),t},t.prototype.childCompoundWrite=function(n){if(n.isEmpty())return this;var i=this.getCompleteNode(n);return new t(null!=i?new Hr(i):this.writeTree_.subtree(n))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(n,i,e){if(null!=i.value)return e.updateChild(n,i.value);var r=null;return i.children.inorderTraversal((function(i,o){".priority"===i?(Bn(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):e=t(n.child(i),o,e)})),e.getChild(n).isEmpty()||null===r||(e=e.updateChild(n.child(".priority"),r)),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(_e.Empty,this.writeTree_,t)},t.Empty=new t(new Hr(null)),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=function(){function t(){this.visibleWrites_=co.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new fo(t,this)},t.prototype.addOverwrite=function(t,n,i,e){Bn(i>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===e&&(e=!0),this.allWrites_.push({path:t,snap:n,writeId:i,visible:e}),e&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,n)),this.lastWriteId_=i},t.prototype.addMerge=function(t,n,i){Bn(i>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:n,writeId:i,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,n),this.lastWriteId_=i},t.prototype.getWrite=function(t){for(var n=0;n<this.allWrites_.length;n++){var i=this.allWrites_[n];if(i.writeId===t)return i}return null},t.prototype.removeWrite=function(t){var n=this,i=this.allWrites_.findIndex((function(n){return n.writeId===t}));Bn(i>=0,"removeWrite called with nonexistent writeId.");var e=this.allWrites_[i];this.allWrites_.splice(i,1);for(var r=e.visible,o=!1,s=this.allWrites_.length-1;r&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=i&&this.recordContainsPath_(u,e.path)?r=!1:e.path.contains(u.path)&&(o=!0)),s--}if(r){if(o)return this.resetTree_(),!0;e.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(e.path):pe(e.children,(function(t){n.visibleWrites_=n.visibleWrites_.removeWrite(e.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(n,i,e,r){if(e||r){var o=this.visibleWrites_.childCompoundWrite(n);if(!r&&o.isEmpty())return i;if(r||null!=i||o.hasCompleteWrite(_e.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||r)&&(!e||!~e.indexOf(t.writeId))&&(t.path.contains(n)||n.contains(t.path))}),n);c=i||yr.EMPTY_NODE;return s.apply(c)}return null}var u=this.visibleWrites_.getCompleteNode(n);if(null!=u)return u;var a=this.visibleWrites_.childCompoundWrite(n);if(a.isEmpty())return i;if(null!=i||a.hasCompleteWrite(_e.Empty)){var c=i||yr.EMPTY_NODE;return a.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,n){var i=yr.EMPTY_NODE,e=this.visibleWrites_.getCompleteNode(t);if(e)return e.isLeafNode()||e.forEachChild(cr,(function(t,n){i=i.updateImmediateChild(t,n)})),i;if(n){var r=this.visibleWrites_.childCompoundWrite(t);return n.forEachChild(cr,(function(t,n){var e=r.childCompoundWrite(new _e(t)).apply(n);i=i.updateImmediateChild(t,e)})),r.getCompleteChildren().forEach((function(t){i=i.updateImmediateChild(t.name,t.node)})),i}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){i=i.updateImmediateChild(t.name,t.node)})),i},t.prototype.calcEventCacheAfterServerOverwrite=function(t,n,i,e){Bn(i||e,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(n);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?e.getChild(n):o.apply(e.getChild(n))},t.prototype.calcCompleteChild=function(t,n,i){var e=t.child(n),r=this.visibleWrites_.getCompleteNode(e);return null!=r?r:i.isCompleteForChild(n)?this.visibleWrites_.childCompoundWrite(e).apply(i.getNode().getImmediateChild(n)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,n,i,e,r,o){var s,u=this.visibleWrites_.childCompoundWrite(t),a=u.getCompleteNode(_e.Empty);if(null!=a)s=a;else{if(null==n)return[];s=u.apply(n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=o.getCompare(),f=r?s.getReverseIteratorFrom(i,o):s.getIteratorFrom(i,o),l=f.getNext();l&&c.length<e;)0!==h(l,i)&&c.push(l),l=f.getNext();return c},t.prototype.recordContainsPath_=function(t,n){if(t.snap)return t.path.contains(n);for(var i in t.children)if(t.children.hasOwnProperty(i)&&t.path.child(i).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,_e.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,n,i){for(var e=co.Empty,r=0;r<t.length;++r){var o=t[r];if(n(o)){var s=o.path,u=void 0;if(o.snap)i.contains(s)?(u=_e.relativePath(i,s),e=e.addWrite(u,o.snap)):s.contains(i)&&(u=_e.relativePath(s,i),e=e.addWrite(_e.Empty,o.snap.getChild(u)));else{if(!o.children)throw zn("WriteRecord should have .snap or .children");if(i.contains(s))u=_e.relativePath(i,s),e=e.addWrites(u,o.children);else if(s.contains(i))if((u=_e.relativePath(s,i)).isEmpty())e=e.addWrites(_e.Empty,o.children);else{var a=ui(o.children,u.getFront());if(a){var c=a.getChild(u.popFront());e=e.addWrite(_e.Empty,c)}}}}}return e},t}(),fo=function(){function t(t,n){this.treePath_=t,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(t,n,i){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,n,i)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,n,i){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,n,i)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,n,i,e,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,n,i,e,r)},t.prototype.calcCompleteChild=function(t,n){return this.writeTree_.calcCompleteChild(this.treePath_,t,n)},t.prototype.child=function(n){return new t(this.treePath_.child(n),this.writeTree_)},t}(),lo=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Hr.Empty,this.pendingWriteTree_=new ho,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,n,i,e){return this.pendingWriteTree_.addOverwrite(t,n,i,e),e?this.applyOperationToSyncPoints_(new Yr($r.User,t,n)):[]},t.prototype.applyUserMerge=function(t,n,i){this.pendingWriteTree_.addMerge(t,n,i);var e=Hr.fromObject(n);return this.applyOperationToSyncPoints_(new Kr($r.User,t,e))},t.prototype.ackUserWrite=function(t,n){void 0===n&&(n=!1);var i=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var e=Hr.Empty;return null!=i.snap?e=e.set(_e.Empty,!0):pe(i.children,(function(t,n){e=e.set(new _e(t),n)})),this.applyOperationToSyncPoints_(new Wr(i.path,e,n))}return[]},t.prototype.applyServerOverwrite=function(t,n){return this.applyOperationToSyncPoints_(new Yr($r.Server,t,n))},t.prototype.applyServerMerge=function(t,n){var i=Hr.fromObject(n);return this.applyOperationToSyncPoints_(new Kr($r.Server,t,i))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Xr($r.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(n,i,e){var r=this.queryKeyForTag_(e);if(null!=r){var o=t.parseQueryKey_(r),s=o.path,u=o.queryId,a=_e.relativePath(s,n),c=new Yr($r.forServerTaggedQuery(u),a,i);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(n,i,e){var r=this.queryKeyForTag_(e);if(r){var o=t.parseQueryKey_(r),s=o.path,u=o.queryId,a=_e.relativePath(s,n),c=Hr.fromObject(i),h=new Kr($r.forServerTaggedQuery(u),a,c);return this.applyTaggedOperation_(s,h)}return[]},t.prototype.applyTaggedListenComplete=function(n,i){var e=this.queryKeyForTag_(i);if(e){var r=t.parseQueryKey_(e),o=r.path,s=r.queryId,u=_e.relativePath(o,n),a=new Xr($r.forServerTaggedQuery(s),u);return this.applyTaggedOperation_(o,a)}return[]},t.prototype.addEventRegistration=function(n,i){var e=n.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(e,(function(t,n){var i=_e.relativePath(t,e);r=r||n.getCompleteServerCache(i),o=o||n.hasCompleteView()}));var s,u=this.syncPointTree_.get(e);(u?(o=o||u.hasCompleteView(),r=r||u.getCompleteServerCache(_e.Empty)):(u=new ao,this.syncPointTree_=this.syncPointTree_.set(e,u)),null!=r)?s=!0:(s=!1,r=yr.EMPTY_NODE,this.syncPointTree_.subtree(e).foreachChild((function(t,n){var i=n.getCompleteServerCache(_e.Empty);i&&(r=r.updateImmediateChild(t,i))})));var a=u.viewExistsForQuery(n);if(!a&&!n.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(n);Bn(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var f=this.pendingWriteTree_.childWrites(e),l=u.addEventRegistration(n,i,f,r,s);if(!a&&!o){var d=u.viewForQuery(n);l=l.concat(this.setupListener_(n,d))}return l},t.prototype.removeEventRegistration=function(n,i,e){var r=this,o=n.path,s=this.syncPointTree_.get(o),u=[];if(s&&("default"===n.queryIdentifier()||s.viewExistsForQuery(n))){var a=s.removeEventRegistration(n,i,e);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=a.removed;u=a.events;var h=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),f=this.syncPointTree_.findOnPath(o,(function(t,n){return n.hasCompleteView()}));if(h&&!f){var l=this.syncPointTree_.subtree(o);if(!l.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(l),m=0;m<d.length;++m){var v=d[m],p=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(p),this.tagForQuery_(p),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!e)if(h){this.listenProvider_.stopListening(t.queryForListening_(n),null)}else c.forEach((function(n){var i=r.queryToTagMap.get(t.makeQueryKey_(n));r.listenProvider_.stopListening(t.queryForListening_(n),i)}));this.removeTags_(c)}return u},t.prototype.calcCompleteEventCache=function(t,n){var i=this.pendingWriteTree_,e=this.syncPointTree_.findOnPath(t,(function(n,i){var e=_e.relativePath(n,t),r=i.getCompleteServerCache(e);if(r)return r}));return i.calcCompleteEventCache(t,e,n,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,n,i){if(n&&n.hasCompleteView())return[n.getCompleteView()];var e=[];return n&&(e=n.getQueryViews()),pe(i,(function(t,n){e=e.concat(n)})),e}))},t.prototype.removeTags_=function(n){for(var i=0;i<n.length;++i){var e=n[i];if(!e.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(e),o=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(n,i){var e=n.path,r=this.tagForQuery_(n),o=this.createListenerForView_(i),s=this.listenProvider_.startListening(t.queryForListening_(n),r,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(e);if(r)Bn(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var a=u.fold((function(t,n,i){if(!t.isEmpty()&&n&&n.hasCompleteView())return[n.getCompleteView().getQuery()];var e=[];return n&&(e=e.concat(n.getQueryViews().map((function(t){return t.getQuery()})))),pe(i,(function(t,n){e=e.concat(n)})),e})),c=0;c<a.length;++c){var h=a[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var n=this,i=t.getQuery(),e=this.tagForQuery_(i);return{hashFn:function(){return(t.getServerCache()||yr.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return e?n.applyTaggedListenComplete(i.path,e):n.applyListenComplete(i.path);var r=function(t,n){var i="Unknown Error";"too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?i="Client doesn't have permission to access the desired data.":"unavailable"===t&&(i="The service is unavailable");var e=new Error(t+" at "+n.path.toString()+": "+i);return e.code=t.toUpperCase(),e}(t,i);return n.removeEventRegistration(i,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var n=t.indexOf("$");return Bn(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new _e(t.substr(0,n))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(n){var i=t.makeQueryKey_(n);return this.queryToTagMap.get(i)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,n){var i=this.syncPointTree_.get(t);Bn(i,"Missing sync point for query tag that we're tracking");var e=this.pendingWriteTree_.childWrites(t);return i.applyOperation(n,e,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(_e.Empty))},t.prototype.applyOperationHelper_=function(t,n,i,e){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,n,i,e);var r=n.get(_e.Empty);null==i&&null!=r&&(i=r.getCompleteServerCache(_e.Empty));var o=[],s=t.path.getFront(),u=t.operationForChild(s),a=n.children.get(s);if(a&&u){var c=i?i.getImmediateChild(s):null,h=e.child(s);o=o.concat(this.applyOperationHelper_(u,a,c,h))}return r&&(o=o.concat(r.applyOperation(t,e,i))),o},t.prototype.applyOperationDescendantsHelper_=function(t,n,i,e){var r=this,o=n.get(_e.Empty);null==i&&null!=o&&(i=o.getCompleteServerCache(_e.Empty));var s=[];return n.children.inorderTraversal((function(n,o){var u=i?i.getImmediateChild(n):null,a=e.child(n),c=t.operationForChild(n);c&&(s=s.concat(r.applyOperationDescendantsHelper_(c,o,u,a)))})),o&&(s=s.concat(o.applyOperation(t,e,i))),s},t.nextQueryTag_=1,t}(),mo=function(){function t(){this.rootNode_=yr.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},t}(),vo=function(){function t(t,n){var i=this;this.app_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(t){return i.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(n){return n.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(n){return n.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ue(t)},t}(),po=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,n){void 0===n&&(n=1),si(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},t.prototype.get=function(){return $n(this.counters_)},t}(),go=function(){function t(){}return t.getCollection=function(t){var n=t.toString();return this.collections_[n]||(this.collections_[n]=new po),this.collections_[n]},t.getOrCreateReporter=function(t,n){var i=t.toString();return this.reporters_[i]||(this.reporters_[i]=n()),this.reporters_[i]},t.collections_={},t.reporters_={},t}(),bo=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),n=ct({},t);return this.last_&&pe(this.last_,(function(t,i){n[t]=n[t]-i})),this.last_=t,n},t}(),wo=function(){function t(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bo(t);var i=1e4+2e4*Math.random();ye(this.reportStats_.bind(this),Math.floor(i))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),i={},e=!1;pe(n,(function(n,r){r>0&&si(t.statsToReport_,n)&&(i[n]=r,e=!0)})),e&&this.server_.reportStats(i),ye(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),xo=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var n=null,i=0;i<t.length;i++){var e=t[i],r=e.getPath();null===n||r.equals(n.getPath())||(this.eventLists_.push(n),n=null),null===n&&(n=new yo(r)),n.add(e)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(t,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_((function(n){return n.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_((function(n){return n.contains(t)||t.contains(n)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var n=!0,i=0;i<this.eventLists_.length;i++){var e=this.eventLists_[i];if(e)t(e.getPath())?(this.eventLists_[i].raise(),this.eventLists_[i]=null):n=!1}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),yo=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var n=this.events_[t];if(null!==n){this.events_[t]=null;var i=n.getEventRunner();te&&ee("event: "+n.toString()),xe(i)}}},t.prototype.getPath=function(){return this.path_},t}(),_o=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Bn(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(Array.isArray(this.listeners_[t]))for(var e=vt(this.listeners_[t]),r=0;r<e.length;r++)e[r].callback.apply(e[r].context,n)},t.prototype.on=function(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});var e=this.getInitialEvent(t);e&&n.apply(i,e)},t.prototype.off=function(t,n,i){this.validateEventType_(t);for(var e=this.listeners_[t]||[],r=0;r<e.length;r++)if(e[r].callback===n&&(!i||i===e[r].context))return void e.splice(r,1)},t.prototype.validateEventType_=function(t){Bn(this.allowedEvents_.find((function(n){return n===t})),"Unknown event: "+t)},t}(),Eo=function(t){function n(){var n,i,e=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(i="visibilitychange",n="hidden"):void 0!==document.mozHidden?(i="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(i="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(i="webkitvisibilitychange",n="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[n];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return at(n,t),n.getInstance=function(){return new n},n.prototype.getInitialEvent=function(t){return Bn("visible"===t,"Unknown event type: "+t),[this.visible_]},n}(_o),Io=function(t){function n(){var n=t.call(this,["online"])||this;return n.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Yn()||(window.addEventListener("online",(function(){n.online_||(n.online_=!0,n.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){n.online_&&(n.online_=!1,n.trigger("online",!1))}),!1)),n}return at(n,t),n.getInstance=function(){return new n},n.prototype.getInitialEvent=function(t){return Bn("online"===t,"Unknown event type: "+t),[this.online_]},n.prototype.currentlyOnline=function(){return this.online_},n}(_o),To=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,n){var i=this;this.pendingResponses[t]=n;for(var e=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var n=function(n){t[n]&&xe((function(){i.onMessage_(t[n])}))},e=0;e<t.length;++e)n(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===e())break}},t}(),Ao=function(){function t(t,n,i,e){this.connId=t,this.repoInfo=n,this.transportSessionId=i,this.lastSessionId=e,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=re(t),this.stats_=go.getCollection(n),this.urlFn=function(t){return n.connectionURL("long_polling",t)}}return t.prototype.open=function(t,n){var i=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new To(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var n=!1,i=function(){document.body?n||(n=!0,t()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i))}}((function(){if(!i.isClosed_){i.scriptTagHolder=new ko((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=mt(t,5),r=e[0],o=e[1],s=e[2];e[3],e[4];if(i.incrementIncomingBytes_(t),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,"start"===r)i.id=o,i.password=s;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(o,(function(){i.onClosed_()}))):i.onClosed_()}}),(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=mt(t,2),r=e[0],o=e[1];i.incrementIncomingBytes_(t),i.myPacketOrderer.handleResponse(r,o)}),(function(){i.onClosed_()}),i.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=i.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",i.transportSessionId&&(t.s=i.transportSessionId),i.lastSessionId&&(t.ls=i.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var n=i.urlFn(t);i.log_("Connecting via long-poll to "+n),i.scriptTagHolder.addTag(n,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var n=ri(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var i,e=(i=Vn(n),qn.encodeByteArray(i,!0)),r=ve(e,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var i={dframe:"t"};i.id=t,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var n=ri(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),ko=function(){function t(n,i,e,r){this.onDisconnect=e,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Qi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){ee("frame writing exception"),t.stack&&ee(t.stack),ee(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ee("No IE domain setting required")}catch(i){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var n=this.urlFn(t),i="",e=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+i.length<=1870))break;var r=this.pendingSegs.shift();i=i+"&seg"+e+"="+r.seg+"&ts"+e+"="+r.ts+"&d"+e+"="+r.d,e++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,n){var i=this;this.outstandingRequests.add(n);var e=function(){i.outstandingRequests.delete(n),i.newRequest_()},r=setTimeout(e,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(r),e()}))},t.prototype.addTag=function(t,n){var i=this;setTimeout((function(){try{if(!i.sendNewPolls)return;var e=i.myIFrame.doc.createElement("script");e.type="text/javascript",e.async=!0,e.src=t,e.onload=e.onreadystatechange=function(){var t=e.readyState;t&&"loaded"!==t&&"complete"!==t||(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),n())},e.onerror=function(){ee("Long-poll script failed to load: "+t),i.sendNewPolls=!1,i.close()},i.myIFrame.doc.body.appendChild(e)}catch(t){}}),Math.floor(1))},t}(),So="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Oo=null;"undefined"!=typeof MozWebSocket?Oo=MozWebSocket:"undefined"!=typeof WebSocket&&(Oo=WebSocket);var No=function(){function t(n,i,e,r){this.connId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=re(this.connId),this.stats_=go.getCollection(i),this.connURL=t.connectionURL_(i,e,r)}return t.connectionURL_=function(t,n,i){var e={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),i&&(e.ls=i),t.connectionURL("websocket",e)},t.prototype.open=function(t,n){var i=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xi.set("previous_websocket_failure",!0);try{if(Jn()){var e=Fn?"AdminNode":"Node",r={headers:{"User-Agent":"Firebase/5/"+So+"/"+process.platform+"/"+e}},o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Oo(this.connURL,[],r)}else this.mySock=new Oo(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(t){i.handleIncomingFrame(t)},this.mySock.onerror=function(t){i.log_("WebSocket error.  Closing connection.");var n=t.message||t.data;n&&i.log_(n),i.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var n=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Oo&&!t.forceDisallow_},t.previouslyFailed=function(){return Xi.isInMemoryStorage||!0===Xi.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){Xi.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var i=ei(n);this.onMessage(i)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Bn(null===this.frames,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{var i=this.extractFrameCount_(n);null!==i&&this.appendFrame_(i)}}},t.prototype.send=function(t){this.resetKeepAlive();var n=ri(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var i=ve(n,16384);i.length>1&&this.sendString_(String(i.length));for(var e=0;e<i.length;e++)this.sendString_(i[e])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ro=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ao,No]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(n){var i,e,r=No&&No.isAvailable(),o=r&&!No.previouslyFailed();if(n.webSocketOnly&&(r||ue("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[No];else{var s=this.transports_=[];try{for(var u=dt(t.ALL_TRANSPORTS),a=u.next();!a.done;a=u.next()){var c=a.value;c&&c.isAvailable()&&s.push(c)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Co=function(){function t(t,n,i,e,r,o,s){this.id=t,this.repoInfo_=n,this.onMessage_=i,this.onReady_=e,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=re("c:"+this.id+":"),this.transportManager_=new Ro(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var i=this.connReceiver_(this.conn_),e=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(i,e)}),Math.floor(0));var r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=ye((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var n=this;return function(i){t===n.conn_?n.onConnectionLost_(i):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var n=this;return function(i){2!==n.state_&&(t===n.rx_?n.onPrimaryMessageReceived_(i):t===n.secondaryConn_?n.onSecondaryMessageReceived_(i):n.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var n=de("t",t),i=de("d",t);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var n=de("t",t),i=de("d",t);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var n=de("t",t);if("d"in t){var i=t.d;if("h"===n)this.onHandshake_(i);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?oe("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oe("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(t){var n=t.ts,i=t.v,e=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(e),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&ue("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var i=this.connReceiver_(this.secondaryConn_),e=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,e),ye((function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,n){var i=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ye((function(){i.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Do=function(){function t(){}return t.prototype.put=function(t,n,i,e){},t.prototype.merge=function(t,n,i,e){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,n,i){},t.prototype.onDisconnectMerge=function(t,n,i){},t.prototype.onDisconnectCancel=function(t,n){},t.prototype.reportStats=function(t){},t}(),Po=function(t){function n(i,e,r,o,s,u){var a=t.call(this)||this;if(a.repoInfo_=i,a.onDataUpdate_=e,a.onConnectStatus_=r,a.onServerInfoUpdate_=o,a.authTokenProvider_=s,a.authOverride_=u,a.id=n.nextPersistentConnectionId_++,a.log_=re("p:"+a.id+":"),a.interruptReasons_={},a.listens=new Map,a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=1e3,a.maxReconnectDelay_=3e5,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,u&&!Jn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),Eo.getInstance().on("visible",a.onVisible_,a),-1===i.host.indexOf("fblocal")&&Io.getInstance().on("online",a.onOnline_,a),a}return at(n,t),n.prototype.sendRequest=function(t,n,i){var e=++this.requestNumber_,r={r:e,a:t,b:n};this.log_(ri(r)),Bn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[e]=i)},n.prototype.listen=function(t,n,i,e){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),Bn(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Bn(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var s={onComplete:e,hashFn:n,query:t,tag:i};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)},n.prototype.sendListen_=function(t){var i=this,e=t.query,r=e.path.toString(),o=e.queryIdentifier();this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=e.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var u=s.d,a=s.s;n.warnOnListenWarnings_(u,e),(i.listens.get(r)&&i.listens.get(r).get(o))===t&&(i.log_("listen response",s),"ok"!==a&&i.removeListen_(r,o),t.onComplete&&t.onComplete(a,u))}))},n.warnOnListenWarnings_=function(t,n){if(t&&"object"==typeof t&&si(t,"w")){var i=ui(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var e='".indexOn": "'+n.getQueryParams().getIndex().toString()+'"',r=n.path.toString();ue("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+r+" to your security rules for better performance.")}}},n.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},n.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var n;(t&&40===t.length||"object"==typeof(n=oi(t).claims)&&!0===n.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},n.prototype.tryAuth=function(){var t,n=this;if(this.connected_&&this.authToken_){var i=this.authToken_,e=(t=oi(i).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",r={cred:i};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(e,r,(function(t){var e=t.s,r=t.d||"error";n.authToken_===i&&("ok"===e?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(e,r))}))}},n.prototype.unlisten=function(t,n){var i=t.path.toString(),e=t.queryIdentifier();this.log_("Unlisten called for "+i+" "+e),Bn(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,e)&&this.connected_&&this.sendUnlisten_(i,e,t.queryObject(),n)},n.prototype.sendUnlisten_=function(t,n,i,e){this.log_("Unlisten on "+t+" for "+n);var r={p:t};e&&(r.q=i,r.t=e),this.sendRequest("n",r)},n.prototype.onDisconnectPut=function(t,n,i){this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})},n.prototype.onDisconnectMerge=function(t,n,i){this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})},n.prototype.onDisconnectCancel=function(t,n){this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})},n.prototype.sendOnDisconnect_=function(t,n,i,e){var r={p:n,d:i};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){e&&setTimeout((function(){e(t.s,t.d)}),Math.floor(0))}))},n.prototype.put=function(t,n,i,e){this.putInternal("p",t,n,i,e)},n.prototype.merge=function(t,n,i,e){this.putInternal("m",t,n,i,e)},n.prototype.putInternal=function(t,n,i,e,r){var o={p:n,d:i};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:e}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)},n.prototype.sendPut_=function(t){var n=this,i=this.outstandingPuts_[t].action,e=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,e,(function(e){n.log_(i+" response",e),delete n.outstandingPuts_[t],n.outstandingPutCount_--,0===n.outstandingPutCount_&&(n.outstandingPuts_=[]),r&&r(e.s,e.d)}))},n.prototype.reportStats=function(t){var n=this;if(this.connected_){var i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,(function(t){if("ok"!==t.s){var i=t.d;n.log_("reportStats","Error sending stats: "+i)}}))}},n.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+ri(t));var n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},n.prototype.onDataPush_=function(t,n){this.log_("handleServerMessage",t,n),"d"===t?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===t?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===t?this.onListenRevoked_(n.p,n.q):"ac"===t?this.onAuthRevoked_(n.s,n.d):"sd"===t?this.onSecurityDebugPacket_(n):oe("Unrecognized action received from server: "+ri(t)+"\nAre you using the latest client?")},n.prototype.onReady_=function(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},n.prototype.scheduleConnect_=function(t){var n=this;Bn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){n.establishConnectionTimer_=null,n.establishConnection_()}),Math.floor(t))},n.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},n.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},n.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},n.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),e=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+n.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,a=null,c=function(){a?a.close():(u=!0,e())};this.realtime_={close:c,sendRequest:function(t){Bn(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(n){u?ee("getToken() completed but was canceled"):(ee("getToken() completed. Creating connection."),o.authToken_=n&&n.accessToken,a=new Co(r,o.repoInfo_,t,i,e,(function(t){ue(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),u||c()}))}},n.prototype.interrupt=function(t){ee("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},n.prototype.resume=function(t){ee("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ai(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},n.prototype.handleTimestamp_=function(t){var n=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})},n.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},n.prototype.onListenRevoked_=function(t,n){var i;i=n?n.map((function(t){return me(t)})).join("$"):"default";var e=this.removeListen_(t,i);e&&e.onComplete&&e.onComplete("permission_denied")},n.prototype.removeListen_=function(t,n){var i,e=new _e(t).toString();if(this.listens.has(e)){var r=this.listens.get(e);i=r.get(n),r.delete(n),0===r.size&&this.listens.delete(e)}else i=void 0;return i},n.prototype.onAuthRevoked_=function(t,n){ee("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},n.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},n.prototype.restoreState_=function(){var t,n,i,e;this.tryAuth();try{for(var r=dt(this.listens.values()),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var u=(i=void 0,dt(s.values())),a=u.next();!a.done;a=u.next()){var c=a.value;this.sendListen_(c)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},n.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+So.replace(/\./g,"-")]=1,Yn()?t["framework.cordova"]=1:Qn()&&(t["framework.reactnative"]=1),this.reportStats(t)},n.prototype.shouldReconnect_=function(){var t=Io.getInstance().currentlyOnline();return ai(this.interruptReasons_)&&t},n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n}(Do),Mo=function(t){function n(n,i,e){var r=t.call(this)||this;return r.repoInfo_=n,r.onDataUpdate_=i,r.authTokenProvider_=e,r.log_=re("p:rest:"),r.listens_={},r}return at(n,t),n.prototype.reportStats=function(t){throw new Error("Method not implemented.")},n.getListenId_=function(t,n){return void 0!==n?"tag$"+n:(Bn(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},n.prototype.listen=function(t,i,e,r){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=n.getListenId_(t,e),a={};this.listens_[u]=a;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,n){var i=n;(404===t&&(i=null,t=null),null===t&&o.onDataUpdate_(s,i,!1,e),ui(o.listens_,u)===a)&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},n.prototype.unlisten=function(t,i){var e=n.getListenId_(t,i);delete this.listens_[e]},n.prototype.refreshAuthToken=function(t){},n.prototype.restRequest_=function(t,n,i){var e=this;void 0===n&&(n={}),n.format="export",this.authTokenProvider_.getToken(!1).then((function(r){var o=r&&r.accessToken;o&&(n.auth=o);var s=(e.repoInfo_.secure?"https://":"http://")+e.repoInfo_.host+t+"?ns="+e.repoInfo_.namespace+function(t){for(var n=[],i=function(t,i){Array.isArray(i)?i.forEach((function(i){n.push(encodeURIComponent(t)+"="+encodeURIComponent(i))})):n.push(encodeURIComponent(t)+"="+encodeURIComponent(i))},e=0,r=Object.entries(t);e<r.length;e++){var o=r[e];i(o[0],o[1])}return n.length?"&"+n.join("&"):""}(n);e.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(i&&4===u.readyState){e.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=ei(u.responseText)}catch(t){ue("Failed to parse JSON response for "+s+": "+u.responseText)}i(null,t)}else 401!==u.status&&404!==u.status&&ue("Got unsuccessful REST response for "+s+" Status: "+u.status),i(u.status);i=null}},u.open("GET",s,!0),u.send()}))},n}(Do),jo=function(){function t(t,n,i,e){var r=this;this.repoInfo_=t,this.app=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Vr,this.persistentConnection_=null;var o=new vo(i,e);if(this.stats_=go.getCollection(t),n||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Mo(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=i.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ri(s)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Po(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=go.getOrCreateReporter(t,(function(){return new wo(r.stats_,r.server_)})),this.transactionsInit_(),this.infoData_=new mo,this.infoSyncTree_=new lo({startListening:function(t,n,i,e){var o=[],s=r.infoData_.getNode(t.path);return s.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){e("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new lo({startListening:function(t,n,i,e){return r.server_.listen(t,i,n,(function(n,i){var o=e(n,i);r.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,n){r.server_.unlisten(t,n)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,n,i,e){this.dataUpdateCount++;var r=new _e(t);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,n):n;var o=[];if(e)if(i){var s=ci(n,(function(t){return Er(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(r,s,e)}else{var u=Er(n);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,u,e)}else if(i){var a=ci(n,(function(t){return Er(t)}));o=this.serverSyncTree_.applyServerMerge(r,a)}else{var c=Er(n);o=this.serverSyncTree_.applyServerOverwrite(r,c)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var n=this;pe(t,(function(t,i){n.updateInfo_(t,i)}))},t.prototype.updateInfo_=function(t,n){var i=new _e("/.info/"+t),e=Er(n);this.infoData_.updateSnapshot(i,e);var r=this.infoSyncTree_.applyServerOverwrite(i,e);this.eventQueue_.raiseEventsForChangedPath(i,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,n,i,e){var r=this;this.log_("set",{path:t.toString(),value:n,priority:i});var o=this.generateServerValues(),s=Er(n,i),u=this.serverSyncTree_.calcCompleteEventCache(t),a=Ur(s,u,o),c=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(t,a,c,!0);this.eventQueue_.queueEvents(h),this.server_.put(t.toString(),s.val(!0),(function(n,i){var o="ok"===n;o||ue("set at "+t+" failed: "+n);var s=r.serverSyncTree_.ackUserWrite(c,!o);r.eventQueue_.raiseEventsForChangedPath(t,s),r.callOnCompleteCallback(e,n,i)}));var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(t,n,i){var e=this;this.log_("update",{path:t.toString(),value:n});var r=!0,o=this.generateServerValues(),s={};if(pe(n,(function(n,i){r=!1,s[n]=Fr(t.child(n),Er(i),e.serverSyncTree_,o)})),r)ee("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(i,"ok");else{var u=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserMerge(t,s,u);this.eventQueue_.queueEvents(a),this.server_.merge(t.toString(),n,(function(n,r){var o="ok"===n;o||ue("update at "+t+" failed: "+n);var s=e.serverSyncTree_.ackUserWrite(u,!o),a=s.length>0?e.rerunTransactions_(t):t;e.eventQueue_.raiseEventsForChangedPath(a,s),e.callOnCompleteCallback(i,n,r)})),pe(n,(function(n){var i=e.abortTransactions_(t.child(n));e.rerunTransactions_(i)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),i=new Vr;this.onDisconnect_.forEachTree(_e.Empty,(function(e,r){var o=Fr(e,r,t.serverSyncTree_,n);i.remember(e,o)}));var e=[];i.forEachTree(_e.Empty,(function(n,i){e=e.concat(t.serverSyncTree_.applyServerOverwrite(n,i));var r=t.abortTransactions_(n);t.rerunTransactions_(r)})),this.onDisconnect_=new Vr,this.eventQueue_.raiseEventsForChangedPath(_e.Empty,e)},t.prototype.onDisconnectCancel=function(t,n){var i=this;this.server_.onDisconnectCancel(t.toString(),(function(e,r){"ok"===e&&i.onDisconnect_.forget(t),i.callOnCompleteCallback(n,e,r)}))},t.prototype.onDisconnectSet=function(t,n,i){var e=this,r=Er(n);this.server_.onDisconnectPut(t.toString(),r.val(!0),(function(n,o){"ok"===n&&e.onDisconnect_.remember(t,r),e.callOnCompleteCallback(i,n,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,n,i,e){var r=this,o=Er(n,i);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,i){"ok"===n&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(e,n,i)}))},t.prototype.onDisconnectUpdate=function(t,n,i){var e=this;if(ai(n))return ee("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(i,"ok");this.server_.onDisconnectMerge(t.toString(),n,(function(r,o){"ok"===r&&pe(n,(function(n,i){var r=Er(i);e.onDisconnect_.remember(t.child(n),r)})),e.callOnCompleteCallback(i,r,o)}))},t.prototype.addEventCallbackForQuery=function(t,n){var i;i=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,n):this.serverSyncTree_.addEventRegistration(t,n),this.eventQueue_.raiseEventsAtPath(t.path,i)},t.prototype.removeEventCallbackForQuery=function(t,n){var i;i=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,n):this.serverSyncTree_.removeEventRegistration(t,n),this.eventQueue_.raiseEventsAtPath(t.path,i)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(this.statsListener_||(this.statsListener_=new bo(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var i=Object.keys(n).reduce((function(t,n){return Math.max(n.length,t)}),0);pe(n,(function(t,n){for(var e=t,r=t.length;r<i+2;r++)e+=" ";console.log(e+n)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i="";this.persistentConnection_&&(i=this.persistentConnection_.id+":"),ee.apply(void 0,vt([i],t))},t.prototype.callOnCompleteCallback=function(t,n,i){t&&xe((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),r=e;i&&(r+=": "+i);var o=new Error(r);o.code=e,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.vm||(this.vm=new Wo(this))},enumerable:!0,configurable:!0}),t}(),Lo=function(){function t(n){this.indexedFilter_=new to(n.getIndex()),this.index_=n.getIndex(),this.startPost_=t.getStartPost_(n),this.endPost_=t.getEndPost_(n)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,n,i,e,r,o){return this.matches(new Qe(n,i))||(i=yr.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,e,r,o)},t.prototype.updateFullNode=function(t,n,i){n.isLeafNode()&&(n=yr.EMPTY_NODE);var e=n.withIndex(this.index_);e=e.updatePriority(yr.EMPTY_NODE);var r=this;return n.forEachChild(cr,(function(t,n){r.matches(new Qe(t,n))||(e=e.updateImmediateChild(t,yr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,e,i)},t.prototype.updatePriority=function(t,n){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()},t}(),Fo=function(){function t(t){this.rangedFilter_=new Lo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,n,i,e,r,o){return this.rangedFilter_.matches(new Qe(n,i))||(i=yr.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,e,r,o):this.fullLimitUpdateChild_(t,n,i,r,o)},t.prototype.updateFullNode=function(t,n,i){var e;if(n.isLeafNode()||n.isEmpty())e=yr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){e=yr.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;e=e.updateImmediateChild(s.name,s.node),o++}}else{e=(e=n.withIndex(this.index_)).updatePriority(yr.EMPTY_NODE);var u=void 0,a=void 0,c=void 0;r=void 0;if(this.reverse_){r=e.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(t,n){return h(n,t)}}else r=e.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;r.hasNext();){s=r.getNext();!f&&c(u,s)<=0&&(f=!0),f&&o<this.limit_&&c(s,a)<=0?o++:e=e.updateImmediateChild(s.name,yr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,e,i)},t.prototype.updatePriority=function(t,n){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,n,i,e,r){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,n){return s(n,t)}}else o=this.index_.getCompare();var u=t;Bn(u.numChildren()===this.limit_,"");var a=new Qe(n,i),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(u.hasChild(n)){for(var f=u.getImmediateChild(n),l=e.getChildAfterChild(this.index_,c,this.reverse_);null!=l&&(l.name===n||u.hasChild(l.name));)l=e.getChildAfterChild(this.index_,l,this.reverse_);var d=null==l?1:o(l,a);if(h&&!i.isEmpty()&&d>=0)return null!=r&&r.trackChildChange(Zr.childChangedChange(n,i,f)),u.updateImmediateChild(n,i);null!=r&&r.trackChildChange(Zr.childRemovedChange(n,f));var m=u.updateImmediateChild(n,yr.EMPTY_NODE);return null!=l&&this.rangedFilter_.matches(l)?(null!=r&&r.trackChildChange(Zr.childAddedChange(l.name,l.node)),m.updateImmediateChild(l.name,l.node)):m}return i.isEmpty()?t:h&&o(c,a)>=0?(null!=r&&(r.trackChildChange(Zr.childRemovedChange(c.name,c.node)),r.trackChildChange(Zr.childAddedChange(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(c.name,yr.EMPTY_NODE)):t},t}(),Uo=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cr}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Bn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Bn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ce},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Bn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Bn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:he},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Bn(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var n=new t;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n},t.prototype.limit=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="",n},t.prototype.limitToFirst=function(n){var i=this.copy_();return i.limitSet_=!0,i.limit_=n,i.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,i},t.prototype.limitToLast=function(n){var i=this.copy_();return i.limitSet_=!0,i.limit_=n,i.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,i},t.prototype.startAt=function(t,n){var i=this.copy_();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i},t.prototype.endAt=function(t,n){var i=this.copy_();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i},t.prototype.orderBy=function(t){var n=this.copy_();return n.index_=t,n},t.prototype.getQueryObject=function(){var n=t.WIRE_PROTOCOL_CONSTANTS_,i={};if(this.startSet_&&(i[n.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(i[n.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(i[n.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(i[n.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){i[n.LIMIT]=this.limit_;var e=this.viewFrom_;""===e&&(e=this.isViewFromLeft()?n.VIEW_FROM_LEFT:n.VIEW_FROM_RIGHT),i[n.VIEW_FROM]=e}return this.index_!==cr&&(i[n.INDEX]=this.index_.toString()),i},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===cr},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new to(this.getIndex()):this.hasLimit()?new Fo(this):new Lo(this)},t.prototype.toRestQueryStringParameters=function(){var n,i=t.REST_QUERY_CONSTANTS_,e={};return this.isDefault()||(this.index_===cr?n=i.PRIORITY_INDEX:this.index_===Tr?n=i.VALUE_INDEX:this.index_===tr?n=i.KEY_INDEX:(Bn(this.index_ instanceof Ar,"Unrecognized index type!"),n=this.index_.toString()),e[i.ORDER_BY]=ri(n),this.startSet_&&(e[i.START_AT]=ri(this.indexStartValue_),this.startNameSet_&&(e[i.START_AT]+=","+ri(this.indexStartName_))),this.endSet_&&(e[i.END_AT]=ri(this.indexEndValue_),this.endNameSet_&&(e[i.END_AT]+=","+ri(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?e[i.LIMIT_TO_FIRST]=this.limit_:e[i.LIMIT_TO_LAST]=this.limit_)),e},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Bo=function(t){function n(n,i){if(!(n instanceof jo))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,n,i,Uo.DEFAULT,!1)||this}return at(n,t),n.prototype.getKey=function(){return mi("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},n.prototype.child=function(t){return mi("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof _e||(null===this.path.getFront()?Ge("Reference.child",1,t,!1):qe("Reference.child",1,t,!1)),new n(this.repo,this.path.child(t))},n.prototype.getParent=function(){mi("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new n(this.repo,t)},n.prototype.getRoot=function(){mi("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},n.prototype.databaseProp=function(){return this.repo.database},n.prototype.set=function(t,n){mi("Reference.set",1,2,arguments.length),$e("Reference.set",this.path),Le("Reference.set",1,t,this.path,!1),pi("Reference.set",2,n,!0);var i=new Hn;return this.repo.setWithPriority(this.path,t,null,i.wrapCallback(n)),i.promise},n.prototype.update=function(t,n){if(mi("Reference.update",1,2,arguments.length),$e("Reference.update",this.path),Array.isArray(t)){for(var i={},e=0;e<t.length;++e)i[""+e]=t[e];t=i,ue("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ue("Reference.update",1,t,this.path,!1),pi("Reference.update",2,n,!0);var r=new Hn;return this.repo.update(this.path,t,r.wrapCallback(n)),r.promise},n.prototype.setWithPriority=function(t,n,i){if(mi("Reference.setWithPriority",2,3,arguments.length),$e("Reference.setWithPriority",this.path),Le("Reference.setWithPriority",1,t,this.path,!1),Be("Reference.setWithPriority",2,n,!1),pi("Reference.setWithPriority",3,i,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var e=new Hn;return this.repo.setWithPriority(this.path,t,n,e.wrapCallback(i)),e.promise},n.prototype.remove=function(t){return mi("Reference.remove",0,1,arguments.length),$e("Reference.remove",this.path),pi("Reference.remove",1,t,!0),this.set(null,t)},n.prototype.transaction=function(t,n,i){if(mi("Reference.transaction",1,3,arguments.length),$e("Reference.transaction",this.path),pi("Reference.transaction",1,t,!1),pi("Reference.transaction",2,n,!0),He("Reference.transaction",3,i,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===i&&(i=!0);var e=new Hn;"function"==typeof n&&e.promise.catch((function(){}));var r=function(t,i,r){t?e.reject(t):e.resolve(new Ye(i,r)),"function"==typeof n&&n(t,i,r)};return this.repo.startTransaction(this.path,t,r,i),e.promise},n.prototype.setPriority=function(t,n){mi("Reference.setPriority",1,2,arguments.length),$e("Reference.setPriority",this.path),Be("Reference.setPriority",1,t,!1),pi("Reference.setPriority",2,n,!0);var i=new Hn;return this.repo.setWithPriority(this.path.child(".priority"),t,null,i.wrapCallback(n)),i.promise},n.prototype.push=function(t,n){mi("Reference.push",0,2,arguments.length),$e("Reference.push",this.path),Le("Reference.push",1,t,this.path,!0),pi("Reference.push",2,n,!0);var i,e=this.repo.serverTime(),r=Ke(e),o=this.child(r),s=this.child(r);return i=null!=t?o.set(t,n).then((function(){return s})):Promise.resolve(s),o.then=i.then.bind(i),o.catch=i.then.bind(i,void 0),"function"==typeof n&&i.catch((function(){})),o},n.prototype.onDisconnect=function(){return $e("Reference.onDisconnect",this.path),new Xe(this.repo,this.path)},Object.defineProperty(n.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),n}(Cr);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.mm=Bo,ao.mm=Bo;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zo,Vo=function(){this.children={},this.childCount=0,this.value=null},qo=function(){function t(t,n,i){void 0===t&&(t=""),void 0===n&&(n=null),void 0===i&&(i=new Vo),this.name_=t,this.parent_=n,this.node_=i}return t.prototype.subTree=function(n){for(var i=n instanceof _e?n:new _e(n),e=this,r=i.getFront();null!==r;){e=new t(r,e,ui(e.node_.children,r)||new Vo),r=(i=i.popFront()).getFront()}return e},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Bn(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(n){var i=this;pe(this.node_.children,(function(e,r){n(new t(e,i,r))}))},t.prototype.forEachDescendant=function(t,n,i){n&&!i&&t(this),this.forEachChild((function(n){n.forEachDescendant(t,!0,i)})),n&&i&&t(this)},t.prototype.forEachAncestor=function(t,n){for(var i=n?this:this.parent();null!==i;){if(t(i))return!0;i=i.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(n){null!==n.getValue()?t(n):n.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new _e(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,n){var i=n.isEmpty(),e=si(this.node_.children,t);i&&e?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):i||e||(this.node_.children[t]=n.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(zo||(zo={})),jo.MAX_TRANSACTION_RETRIES_=25,jo.prototype.transactionsInit_=function(){this.transactionQueueTree_=new qo},jo.prototype.startTransaction=function(t,n,i,e){this.log_("transaction on "+t);var r=function(){},o=new Bo(this,t);o.on("value",r);var s={path:t,update:n,onComplete:i,status:null,order:Qi(),applyLocally:e,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var a=s.update(u.val());if(void 0===a){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new kr(s.currentInputSnapshot,new Bo(this,s.path),cr);s.onComplete(null,!1,c)}}else{Fe("transaction failed: Data returned ",a,s.path),s.status=zo.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var l=void 0;if("object"==typeof a&&null!==a&&si(a,".priority"))l=ui(a,".priority"),Bn(je(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else l=(this.serverSyncTree_.calcCompleteEventCache(t)||yr.EMPTY_NODE).getPriority().val();l=l;var d=this.generateServerValues(),m=Er(a,l),v=Ur(m,u,d);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var p=this.serverSyncTree_.applyUserOverwrite(t,v,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,p),this.sendReadyTransactions_()}},jo.prototype.getLatestState_=function(t,n){return this.serverSyncTree_.calcCompleteEventCache(t,n)||yr.EMPTY_NODE},jo.prototype.sendReadyTransactions_=function(t){var n=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var i=this.buildTransactionQueue_(t);Bn(i.length>0,"Sending zero length transaction queue"),i.every((function(t){return t.status===zo.RUN}))&&this.sendTransactionQueue_(t.path(),i)}else t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},jo.prototype.sendTransactionQueue_=function(t,n){for(var i=this,e=n.map((function(t){return t.currentWriteId})),r=this.getLatestState_(t,e),o=r,s=r.hash(),u=0;u<n.length;u++){var a=n[u];Bn(a.status===zo.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=zo.SENT,a.retryCount++;var c=_e.relativePath(t,a.path);o=o.updateChild(c,a.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,(function(e){i.log_("transaction put response",{path:f.toString(),status:e});var r=[];if("ok"===e){for(var o=[],s=0;s<n.length;s++){if(n[s].status=zo.COMPLETED,r=r.concat(i.serverSyncTree_.ackUserWrite(n[s].currentWriteId)),n[s].onComplete){var u=n[s].currentOutputSnapshotResolved,a=new Bo(i,n[s].path),c=new kr(u,a,cr);o.push(n[s].onComplete.bind(null,null,!0,c))}n[s].unwatcher()}i.pruneCompletedTransactionsBelowNode_(i.transactionQueueTree_.subTree(t)),i.sendReadyTransactions_(),i.eventQueue_.raiseEventsForChangedPath(t,r);for(s=0;s<o.length;s++)xe(o[s])}else{if("datastale"===e)for(s=0;s<n.length;s++)n[s].status===zo.SENT_NEEDS_ABORT?n[s].status=zo.NEEDS_ABORT:n[s].status=zo.RUN;else{ue("transaction at "+f.toString()+" failed: "+e);for(s=0;s<n.length;s++)n[s].status=zo.NEEDS_ABORT,n[s].abortReason=e}i.rerunTransactions_(t)}}),s)},jo.prototype.rerunTransactions_=function(t){var n=this.getAncestorTransactionNode_(t),i=n.path(),e=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(e,i),i},jo.prototype.rerunTransactionQueue_=function(t,n){if(0!==t.length){for(var i,e=[],r=[],o=t.filter((function(t){return t.status===zo.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],a=_e.relativePath(n,u.path),c=!1,h=void 0;if(Bn(null!==a,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===zo.NEEDS_ABORT)c=!0,h=u.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===zo.RUN)if(u.retryCount>=jo.MAX_TRANSACTION_RETRIES_)c=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,o);u.currentInputSnapshot=f;var l=t[s].update(f.val());if(void 0!==l){Fe("transaction failed: Data returned ",l,u.path);var d=Er(l);"object"==typeof l&&null!=l&&si(l,".priority")||(d=d.updatePriority(f.getPriority()));var m=u.currentWriteId,v=this.generateServerValues(),p=Ur(d,f,v);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=p,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(m),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(u.path,p,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(m,!0))}else c=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,r),r=[],c&&(t[s].status=zo.COMPLETED,i=t[s].unwatcher,setTimeout(i,Math.floor(0)),t[s].onComplete))if("nodata"===h){var g=new Bo(this,t[s].path),b=t[s].currentInputSnapshot,w=new kr(b,g,cr);e.push(t[s].onComplete.bind(null,null,!1,w))}else e.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<e.length;s++)xe(e[s]);this.sendReadyTransactions_()}},jo.prototype.getAncestorTransactionNode_=function(t){var n,i=this.transactionQueueTree_;for(n=t.getFront();null!==n&&null===i.getValue();)i=i.subTree(n),n=(t=t.popFront()).getFront();return i},jo.prototype.buildTransactionQueue_=function(t){var n=[];return this.aggregateTransactionQueuesForNode_(t,n),n.sort((function(t,n){return t.order-n.order})),n},jo.prototype.aggregateTransactionQueuesForNode_=function(t,n){var i=this,e=t.getValue();if(null!==e)for(var r=0;r<e.length;r++)n.push(e[r]);t.forEachChild((function(t){i.aggregateTransactionQueuesForNode_(t,n)}))},jo.prototype.pruneCompletedTransactionsBelowNode_=function(t){var n=this,i=t.getValue();if(i){for(var e=0,r=0;r<i.length;r++)i[r].status!==zo.COMPLETED&&(i[e]=i[r],e++);i.length=e,t.setValue(i.length>0?i:null)}t.forEachChild((function(t){n.pruneCompletedTransactionsBelowNode_(t)}))},jo.prototype.abortTransactions_=function(t){var n=this,i=this.getAncestorTransactionNode_(t).path(),e=this.transactionQueueTree_.subTree(t);return e.forEachAncestor((function(t){n.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(e),e.forEachDescendant((function(t){n.abortTransactionsOnNode_(t)})),i},jo.prototype.abortTransactionsOnNode_=function(t){var n=t.getValue();if(null!==n){for(var i=[],e=[],r=-1,o=0;o<n.length;o++)if(n[o].status===zo.SENT_NEEDS_ABORT);else if(n[o].status===zo.SENT)Bn(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=zo.SENT_NEEDS_ABORT,n[o].abortReason="set";else if(Bn(n[o].status===zo.RUN,"Unexpected transaction status in abort"),n[o].unwatcher(),e=e.concat(this.serverSyncTree_.ackUserWrite(n[o].currentWriteId,!0)),n[o].onComplete){i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))}-1===r?t.setValue(null):n.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),e);for(o=0;o<i.length;o++)xe(i[o])}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Go,$o=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Go||(Go=new t),Go},t.prototype.interrupt=function(){var t,n,i,e;try{for(var r=dt(Object.keys(this.repos_)),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var u=(i=void 0,dt(Object.keys(this.repos_[s]))),a=u.next();!a.done;a=u.next()){var c=a.value;this.repos_[s][c].interrupt()}}catch(t){i={error:t}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,n,i,e;try{for(var r=dt(Object.keys(this.repos_)),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var u=(i=void 0,dt(Object.keys(this.repos_[s]))),a=u.next();!a.done;a=u.next()){var c=a.value;this.repos_[s][c].resume()}}catch(t){i={error:t}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,n,i){var e=i||t.options.databaseURL;void 0===e&&se("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=Ne(e),o=r.repoInfo,s=void 0;return"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s&&(e="http://"+s+"?ns="+o.namespace,o=(r=Ne(e)).repoInfo),We("Invalid Firebase Database URL",1,r),r.path.isEmpty()||se("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,n).database},t.prototype.deleteRepo=function(t){var n=ui(this.repos_,t.app.name);n&&ui(n,t.repoInfo_.toURLString())===t||se("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete n[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,n,i){var e=ui(this.repos_,n.name);e||(e={},this.repos_[n.name]=e);var r=ui(e,t.toURLString());return r&&se("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new jo(t,this.useRestClient_,n,i),e[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Wo=function(){function t(t){this.repo_=t,t instanceof jo||se("Don't call new Database() directly - please use firebase.database()."),this.root_=new Bo(t,_e.Empty),this.INTERNAL=new Ho(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),mi("database.ref",0,1,arguments.length),t instanceof Bo?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var n="database.refFromURL";this.checkDeleted_(n),mi(n,1,1,arguments.length);var i=Ne(t);We(n,1,i);var e=i.repoInfo;return e.host!==this.repo_.repoInfo_.host&&se(n+": Host name does not match the current database: (found "+e.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(i.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&se("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){mi("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){mi("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Ho=function(){function t(t){this.database=t}return t.prototype.delete=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){return this.database.checkDeleted_("delete"),$o.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),Xo=Object.freeze({__proto__:null,forceLongPolling:function(){No.forceDisallow(),Ao.forceAllow()},forceWebSockets:function(){Ao.forceDisallow()},isWebSocketsAvailable:function(){return No.isAvailable()},setSecurityDebugCallback:function(t,n){t.repo.persistentConnection_.securityDebugCallback_=n},stats:function(t,n){t.repo.stats(n)},statsIncrementCounter:function(t,n){t.repo.statsIncrementCounter(n)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,n){return t.repo.interceptServerData_(n)}}),Yo=Po;Po.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Po.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)};var Ko,Qo=Co,Jo=Ie,Zo=Object.freeze({__proto__:null,DataConnection:Yo,RealTimeConnection:Qo,hijackHash:function(t){var n=Po.prototype.put;return Po.prototype.put=function(i,e,r,o){void 0!==o&&(o=t()),n.call(this,i,e,r,o)},function(){Po.prototype.put=n}},ConnectionTarget:Jo,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){$o.getInstance().forceRestClient(t)}}),ts=Wo.ServerValue;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function ns(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],e=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(t){So=t})((Ko=Gi).SDK_VERSION),Ko.INTERNAL.registerComponent(new wi("database",(function(t,n){var i=t.getProvider("app").getImmediate(),e=t.getProvider("auth-internal");return $o.getInstance().databaseFromApp(i,e,n)}),"PUBLIC").setServiceProps({Reference:Bo,Query:Cr,Database:Wo,DataSnapshot:kr,enableLogging:ie,INTERNAL:Xo,ServerValue:ts,TEST_ACCESS:Zo}).setMultipleInstances(!0)),Ko.registerVersion("@firebase/database","0.6.3");var is,es="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rs=rs||{},os=es||self;function ss(){}function us(t){var n=typeof t;if("object"==n){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return n;var i=Object.prototype.toString.call(t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==n&&void 0===t.call)return"object";return n}function as(t){var n=us(t);return"array"==n||"object"==n&&"number"==typeof t.length}function cs(t){var n=typeof t;return"object"==n&&null!=t||"function"==n}var hs="closure_uid_"+(1e9*Math.random()>>>0),fs=0;function ls(t,n,i){return t.call.apply(t.bind,arguments)}function ds(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function ms(t,n,i){return(ms=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ls:ds).apply(null,arguments)}function vs(t,n){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var ps=Date.now||function(){return+new Date};function gs(t,n){function i(){}i.prototype=n.prototype,t.M=n.prototype,t.prototype=new i,t.prototype.constructor=t}function bs(){this.j=this.j,this.i=this.i}bs.prototype.j=!1,bs.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))(function(t){Object.prototype.hasOwnProperty.call(t,hs)&&t[hs]||(t[hs]=++fs)})(this)},bs.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ws=Array.prototype.indexOf?function(t,n){return Array.prototype.indexOf.call(t,n,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===n)return i;return-1},xs=Array.prototype.forEach?function(t,n,i){Array.prototype.forEach.call(t,n,i)}:function(t,n,i){for(var e=t.length,r="string"==typeof t?t.split(""):t,o=0;o<e;o++)o in r&&n.call(i,r[o],o,t)};function ys(t){return Array.prototype.concat.apply([],arguments)}function _s(t){var n=t.length;if(0<n){for(var i=Array(n),e=0;e<n;e++)i[e]=t[e];return i}return[]}function Es(t){return/^[\s\xa0]*$/.test(t)}var Is,Ts=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function As(t,n){return-1!=t.indexOf(n)}function ks(t,n){return t<n?-1:t>n?1:0}t:{var Ss=os.navigator;if(Ss){var Os=Ss.userAgent;if(Os){Is=Os;break t}}Is=""}function Ns(t,n,i){for(var e in t)n.call(i,t[e],e,t)}function Rs(t){var n={};for(var i in t)n[i]=t[i];return n}var Cs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ds(t,n){for(var i,e,r=1;r<arguments.length;r++){for(i in e=arguments[r])t[i]=e[i];for(var o=0;o<Cs.length;o++)i=Cs[o],Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}}function Ps(t){return Ps[" "](t),t}Ps[" "]=ss;var Ms,js,Ls=As(Is,"Opera"),Fs=As(Is,"Trident")||As(Is,"MSIE"),Us=As(Is,"Edge"),Bs=Us||Fs,zs=As(Is,"Gecko")&&!(As(Is.toLowerCase(),"webkit")&&!As(Is,"Edge"))&&!(As(Is,"Trident")||As(Is,"MSIE"))&&!As(Is,"Edge"),Vs=As(Is.toLowerCase(),"webkit")&&!As(Is,"Edge");function qs(){var t=os.document;return t?t.documentMode:void 0}t:{var Gs="",$s=(js=Is,zs?/rv:([^\);]+)(\)|;)/.exec(js):Us?/Edge\/([\d\.]+)/.exec(js):Fs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(js):Vs?/WebKit\/(\S+)/.exec(js):Ls?/(?:Version)[ \/]?(\S+)/.exec(js):void 0);if($s&&(Gs=$s?$s[1]:""),Fs){var Ws=qs();if(null!=Ws&&Ws>parseFloat(Gs)){Ms=String(Ws);break t}}Ms=Gs}var Hs,Xs={};function Ys(t){return function(t,n){var i=Xs;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=n(t)}(t,(function(){for(var n=0,i=Ts(String(Ms)).split("."),e=Ts(String(t)).split("."),r=Math.max(i.length,e.length),o=0;0==n&&o<r;o++){var s=i[o]||"",u=e[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=ks(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||ks(0==s[2].length,0==u[2].length)||ks(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n}))}if(os.document&&Fs){var Ks=qs();Hs=Ks||(parseInt(Ms,10)||void 0)}else Hs=void 0;var Qs=Hs,Js=!Fs||9<=Number(Qs),Zs=Fs&&!Ys("9"),tu=function(){if(!os.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});try{os.addEventListener("test",ss,n),os.removeEventListener("test",ss,n)}catch(t){}return t}();function nu(t,n){this.type=t,this.a=this.target=n,this.defaultPrevented=!1}function iu(t,n){if(nu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var i=this.type=t.type,e=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=n,n=t.relatedTarget){if(zs){t:{try{Ps(n.nodeName);var r=!0;break t}catch(t){}r=!1}r||(n=null)}}else"mouseover"==i?n=t.fromElement:"mouseout"==i&&(n=t.toElement);this.relatedTarget=n,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:eu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nu.prototype.b=function(){this.defaultPrevented=!0},gs(iu,nu);var eu={2:"touch",3:"pen",4:"mouse"};iu.prototype.b=function(){iu.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Zs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ru="closure_listenable_"+(1e6*Math.random()|0),ou=0;function su(t,n,i,e,r){this.listener=t,this.proxy=null,this.src=n,this.type=i,this.capture=!!e,this.aa=r,this.key=++ou,this.V=this.X=!1}function uu(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function au(t){this.src=t,this.a={},this.b=0}function cu(t,n){var i=n.type;if(i in t.a){var e,r=t.a[i],o=ws(r,n);(e=0<=o)&&Array.prototype.splice.call(r,o,1),e&&(uu(n),0==t.a[i].length&&(delete t.a[i],t.b--))}}function hu(t,n,i,e){for(var r=0;r<t.length;++r){var o=t[r];if(!o.V&&o.listener==n&&o.capture==!!i&&o.aa==e)return r}return-1}au.prototype.add=function(t,n,i,e,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=hu(t,n,e,r);return-1<s?(n=t[s],i||(n.X=!1)):((n=new su(n,this.src,o,!!e,r)).X=i,t.push(n)),n};var fu="closure_lm_"+(1e6*Math.random()|0),lu={};function du(t,n,i,e,r){if(e&&e.once)return function t(n,i,e,r,o){if(Array.isArray(i)){for(var s=0;s<i.length;s++)t(n,i[s],e,r,o);return null}return e=yu(e),n&&n[ru]?n.sa(i,e,cs(r)?!!r.capture:!!r,o):mu(n,i,e,!0,r,o)}(t,n,i,e,r);if(Array.isArray(n)){for(var o=0;o<n.length;o++)du(t,n[o],i,e,r);return null}return i=yu(i),t&&t[ru]?t.ra(n,i,cs(e)?!!e.capture:!!e,r):mu(t,n,i,!1,e,r)}function mu(t,n,i,e,r,o){if(!n)throw Error("Invalid event type");var s=cs(r)?!!r.capture:!!r;if(s&&!Js)return null;var u=wu(t);if(u||(t[fu]=u=new au(t)),(i=u.add(n,i,e,s,o)).proxy)return i;if(e=function(){var t=bu,n=Js?function(i){return t.call(n.src,n.listener,i)}:function(i){if(!(i=t.call(n.src,n.listener,i)))return i};return n}(),i.proxy=e,e.src=t,e.listener=i,t.addEventListener)tu||(r=s),void 0===r&&(r=!1),t.addEventListener(n.toString(),e,r);else if(t.attachEvent)t.attachEvent(pu(n.toString()),e);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(e)}return i}function vu(t){if("number"!=typeof t&&t&&!t.V){var n=t.src;if(n&&n[ru])cu(n.c,t);else{var i=t.type,e=t.proxy;n.removeEventListener?n.removeEventListener(i,e,t.capture):n.detachEvent?n.detachEvent(pu(i),e):n.addListener&&n.removeListener&&n.removeListener(e),(i=wu(n))?(cu(i,t),0==i.b&&(i.src=null,n[fu]=null)):uu(t)}}}function pu(t){return t in lu?lu[t]:lu[t]="on"+t}function gu(t,n){var i=t.listener,e=t.aa||t.src;return t.X&&vu(t),i.call(e,n)}function bu(t,n){if(t.V)return!0;if(!Js){if(!n)t:{n=["window","event"];for(var i=os,e=0;e<n.length;e++)if(null==(i=i[n[e]])){n=null;break t}n=i}return gu(t,n=new iu(n,this))}return gu(t,new iu(n,this))}function wu(t){return(t=t[fu])instanceof au?t:null}var xu="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(t){return"function"==us(t)?t:(t[xu]||(t[xu]=function(n){return t.handleEvent(n)}),t[xu])}function _u(){bs.call(this),this.c=new au(this),this.J=this,this.A=null}function Eu(t,n,i,e){if(!(n=t.c.a[String(n)]))return!0;n=n.concat();for(var r=!0,o=0;o<n.length;++o){var s=n[o];if(s&&!s.V&&s.capture==i){var u=s.listener,a=s.aa||s.src;s.X&&cu(t.c,s),r=!1!==u.call(a,e)&&r}}return r&&!e.defaultPrevented}gs(_u,bs),_u.prototype[ru]=!0,(is=_u.prototype).addEventListener=function(t,n,i,e){du(this,t,n,i,e)},is.removeEventListener=function(t,n,i,e){!function t(n,i,e,r,o){if(Array.isArray(i))for(var s=0;s<i.length;s++)t(n,i[s],e,r,o);else r=cs(r)?!!r.capture:!!r,e=yu(e),n&&n[ru]?(n=n.c,(i=String(i).toString())in n.a&&(-1<(e=hu(s=n.a[i],e,r,o))&&(uu(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.a[i],n.b--)))):n&&(n=wu(n))&&(i=n.a[i.toString()],n=-1,i&&(n=hu(i,e,r,o)),(e=-1<n?i[n]:null)&&vu(e))}(this,t,n,i,e)},is.dispatchEvent=function(t){var n,i=this.A;if(i)for(n=[];i;i=i.A)n.push(i);i=this.J;var e=t.type||t;if("string"==typeof t)t=new nu(t,i);else if(t instanceof nu)t.target=t.target||i;else{var r=t;Ds(t=new nu(e,i),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.a=n[o];r=Eu(s,e,!0,t)&&r}if(r=Eu(s=t.a=i,e,!0,t)&&r,r=Eu(s,e,!1,t)&&r,n)for(o=0;o<n.length;o++)r=Eu(s=t.a=n[o],e,!1,t)&&r;return r},is.C=function(){if(_u.M.C.call(this),this.c){var t,n=this.c;for(t in n.a){for(var i=n.a[t],e=0;e<i.length;e++)uu(i[e]);delete n.a[t],n.b--}}this.A=null},is.ra=function(t,n,i,e){return this.c.add(String(t),n,!1,i,e)},is.sa=function(t,n,i,e){return this.c.add(String(t),n,!0,i,e)};var Iu=os.JSON.stringify;function Tu(){this.b=this.a=null}var Au,ku=new(function(){function t(t,n,i){this.f=i,this.c=t,this.g=n,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ou}),(function(t){t.reset()}),100);function Su(){var t=Du,n=null;return t.a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),n}function Ou(){this.next=this.b=this.a=null}function Nu(t){os.setTimeout((function(){throw t}),0)}function Ru(t,n){Au||function(){var t=os.Promise.resolve(void 0);Au=function(){t.then(Pu)}}(),Cu||(Au(),Cu=!0),Du.add(t,n)}Tu.prototype.add=function(t,n){var i=ku.get();i.set(t,n),this.b?this.b.next=i:this.a=i,this.b=i},Ou.prototype.set=function(t,n){this.a=t,this.b=n,this.next=null},Ou.prototype.reset=function(){this.next=this.b=this.a=null};var Cu=!1,Du=new Tu;function Pu(){for(var t;t=Su();){try{t.a.call(t.b)}catch(t){Nu(t)}var n=ku;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}Cu=!1}function Mu(t,n){_u.call(this),this.b=t||1,this.a=n||os,this.f=ms(this.Ua,this),this.g=ps()}function ju(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Lu(t,n,i){if("function"==us(t))i&&(t=ms(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ms(t.handleEvent,t)}return 2147483647<Number(n)?-1:os.setTimeout(t,n||0)}function Fu(t,n,i){bs.call(this),this.f=null!=i?ms(t,i):t,this.c=n,this.b=ms(this.Pa,this),this.a=[]}function Uu(t){t.T=Lu(t.b,t.c),t.f.apply(null,t.a)}function Bu(t){bs.call(this),this.b=t,this.a={}}gs(Mu,_u),(is=Mu.prototype).Z=!1,is.L=null,is.Ua=function(){if(this.Z){var t=ps()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(ju(this),this.start()))}},is.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=ps())},is.C=function(){Mu.M.C.call(this),ju(this),delete this.a},gs(Fu,bs),(is=Fu.prototype).ba=!1,is.T=null,is.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Uu(this)},is.C=function(){Fu.M.C.call(this),this.T&&(os.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},is.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Uu(this))},gs(Bu,bs);var zu=[];function Vu(t,n,i,e){Array.isArray(i)||(i&&(zu[0]=i.toString()),i=zu);for(var r=0;r<i.length;r++){var o=du(n,i[r],e||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qu(t){Ns(t.a,(function(t,n){this.a.hasOwnProperty(n)&&vu(t)}),t),t.a={}}function Gu(){}Bu.prototype.C=function(){Bu.M.C.call(this),qu(this)},Bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $u=null;function Wu(){return $u=$u||new _u}function Hu(t){nu.call(this,"serverreachability",t)}function Xu(t){var n=Wu();n.dispatchEvent(new Hu(n,t))}function Yu(t){nu.call(this,"statevent",t)}function Ku(t){var n=Wu();n.dispatchEvent(new Yu(n,t))}function Qu(t){nu.call(this,"timingevent",t)}function Ju(t,n){if("function"!=us(t))throw Error("Fn must not be null and must be a function");return os.setTimeout((function(){t()}),n)}gs(Hu,nu),gs(Yu,nu),gs(Qu,nu);var Zu={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},ta={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function na(){}function ia(t){var n;return(n=t.a)||(n=t.a={}),n}function ea(){}na.prototype.a=null;var ra,oa={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function sa(){nu.call(this,"d")}function ua(){nu.call(this,"c")}function aa(){}function ca(t,n,i){this.g=t,this.W=n,this.U=i||1,this.G=new Bu(this),this.N=ha,t=Bs?125:void 0,this.O=new Mu(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}gs(sa,nu),gs(ua,nu),gs(aa,na),ra=new aa;var ha=45e3,fa={},la={};function da(t,n,i){t.B=1,t.f=Ma(Oa(n)),t.j=i,t.F=!0,ma(t,null)}function ma(t,n){t.s=ps(),ga(t),t.A=Oa(t.f);var i=t.A,e=t.U;Array.isArray(e)||(e=[String(e)]),Xa(i.b,"t",e),t.w=0,t.a=Uc(t.g,t.g.w?n:null),0<t.J&&(t.D=new Fu(ms(t.ya,t,t.a),t.J)),Vu(t.G,t.a,"readystatechange",t.Sa),n=t.m?Rs(t.m):{},t.j?(t.v||(t.v="POST"),n["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,n)):(t.v="GET",t.a.$(t.A,t.v,null,n)),Xu(1)}function va(t,n,i){for(var e=!0;!t.l&&t.w<i.length;){var r=pa(t,i);if(r==la){4==n&&(t.c=4,Ku(14),e=!1);break}if(r==fa){t.c=4,Ku(15),e=!1;break}_a(t,r)}4==n&&0==i.length&&(t.c=1,Ku(16),e=!1),t.b=t.b&&e,e||(ya(t),xa(t))}function pa(t,n){var i=t.w,e=n.indexOf("\n",i);return-1==e?la:(i=Number(n.substring(i,e)),isNaN(i)?fa:(e+=1)+i>n.length?la:(n=n.substr(e,i),t.w=e+i,n))}function ga(t){t.P=ps()+t.N,ba(t,t.N)}function ba(t,n){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Ju(ms(t.Qa,t),n)}function wa(t){t.h&&(os.clearTimeout(t.h),t.h=null)}function xa(t){0==t.g.u||t.l||Pc(t.g,t)}function ya(t){wa(t);var n=t.D;n&&"function"==typeof n.da&&n.da(),t.D=null,ju(t.O),qu(t.G),t.a&&(n=t.a,t.a=null,n.abort(),n.da())}function _a(t,n){try{var i=t.g;if(0!=i.u&&(i.a==t||nc(i.b,t)))if(i.A=t.H,!t.o&&nc(i.b,t)&&3==i.u){try{var e=i.ja.a.parse(n)}catch(t){e=null}if(Array.isArray(e)&&3==e.length){var r=e;if(0==r[0]){t:if(!i.i){if(i.a){if(!(i.a.s+3e3<t.s))break t;Dc(i),i.a.cancel(),i.a=null}Cc(i),Ku(18)}}else i.ia=r[1],0<i.ia-i.G&&37500>r[2]&&i.U&&0==i.m&&!i.l&&(i.l=Ju(ms(i.Na,i),6e3));if(1>=tc(i.b)&&i.O){try{i.O()}catch(t){}i.O=void 0}}else jc(i,11)}else if((t.o||i.a==t)&&Dc(i),!Es(n))for(n=e=i.ja.a.parse(n),e=0;e<n.length;e++)if(r=n[e],i.G=r[0],r=r[1],2==i.u)if("c"==r[0]){i.B=r[1],i.R=r[2];var o=r[3];null!=o&&(i.oa=o);var s=r[5];null!=s&&"number"==typeof s&&0<s&&(i.D=1.5*s);var u=i,a=t.a;if(a){var c=a.a?a.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(As(c,"spdy")||As(c,"quic")||As(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ic(h,h.b),h.b=null))}if(u.s){var f=a.a?a.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.ha=f,Pa(u.v,u.s,f))}}i.u=3,i.c&&i.c.na();var l=t;if((u=i).ea=Fc(u,u.w?u.R:null,u.P),l.o){ec(u.b,l);var d=l,m=u.D;m&&d.setTimeout(m),d.h&&(wa(d),ga(d)),u.a=l}else Rc(u);0<i.f.length&&kc(i)}else"stop"!=r[0]&&"close"!=r[0]||jc(i,7);else 3==i.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?jc(i,7):Ic(i):"noop"!=r[0]&&i.c&&i.c.ma(r),i.m=0);Xu(4)}catch(t){}}function Ea(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(as(t)||"string"==typeof t)xs(t,n,void 0);else{if(t.K&&"function"==typeof t.K)var i=t.K();else if(t.I&&"function"==typeof t.I)i=void 0;else if(as(t)||"string"==typeof t){i=[];for(var e=t.length,r=0;r<e;r++)i.push(r)}else for(r in i=[],e=0,t)i[e++]=r;r=(e=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(as(t)){for(var n=[],i=t.length,e=0;e<i;e++)n.push(t[e]);return n}for(e in n=[],i=0,t)n[i++]=t[e];return n}(t)).length;for(var o=0;o<r;o++)n.call(void 0,e[o],i&&i[o],t)}}function Ia(t,n){this.b={},this.a=[],this.c=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var e=0;e<i;e+=2)this.set(arguments[e],arguments[e+1])}else if(t)if(t instanceof Ia)for(i=t.K(),e=0;e<i.length;e++)this.set(i[e],t.get(i[e]));else for(e in t)this.set(e,t[e])}function Ta(t){if(t.c!=t.a.length){for(var n=0,i=0;n<t.a.length;){var e=t.a[n];Aa(t.b,e)&&(t.a[i++]=e),n++}t.a.length=i}if(t.c!=t.a.length){var r={};for(i=n=0;n<t.a.length;)Aa(r,e=t.a[n])||(t.a[i++]=e,r[e]=1),n++;t.a.length=i}}function Aa(t,n){return Object.prototype.hasOwnProperty.call(t,n)}(is=ca.prototype).setTimeout=function(t){this.N=t},is.Sa=function(t){t=t.target;var n=this.D;n&&3==xc(t)?n.Ia():this.ya(t)},is.ya=function(t){try{if(t==this.a)t:{var n=xc(this.a),i=this.a.qa(),e=this.a.S();if(!(3>n||3==n&&!Bs&&!this.a.Y())){this.l||4!=n||7==i||Xu(8==i||0>=e?3:2),wa(this);var r=this.a.S();this.H=r;var o=this.a.Y();if(this.b=200==r){if(this.R&&!this.o){n:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Es(s)){var a=s;break n}}a=null}if(!a){this.b=!1,this.c=3,Ku(12),ya(this),xa(this);break t}this.o=!0,_a(this,a)}this.F?(va(this,n,o),Bs&&this.b&&3==n&&(Vu(this.G,this.O,"tick",this.Ra),this.O.start())):_a(this,o),4==n&&ya(this),this.b&&!this.l&&(4==n?Pc(this.g,this):(this.b=!1,ga(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Ku(12)):(this.c=0,Ku(13)),ya(this),xa(this)}}}catch(t){}},is.Ra=function(){if(this.a){var t=xc(this.a),n=this.a.Y();this.w<n.length&&(wa(this),va(this,t,n),this.b&&4!=t&&ga(this))}},is.cancel=function(){this.l=!0,ya(this)},is.Qa=function(){this.h=null;var t=ps();0<=t-this.P?(2!=this.B&&(Xu(3),Ku(17)),ya(this),this.c=2,xa(this)):ba(this,this.P-t)},(is=Ia.prototype).I=function(){Ta(this);for(var t=[],n=0;n<this.a.length;n++)t.push(this.b[this.a[n]]);return t},is.K=function(){return Ta(this),this.a.concat()},is.get=function(t,n){return Aa(this.b,t)?this.b[t]:n},is.set=function(t,n){Aa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=n},is.forEach=function(t,n){for(var i=this.K(),e=0;e<i.length;e++){var r=i[e],o=this.get(r);t.call(n,o,r,this)}};var ka=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sa(t,n){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Sa){this.a=void 0!==n?n:t.a,Na(this,t.f),this.j=t.j,Ra(this,t.c),Ca(this,t.h),this.g=t.g,n=t.b;var i=new Ga;i.c=n.c,n.a&&(i.a=new Ia(n.a),i.b=n.b),Da(this,i),this.i=t.i}else t&&(i=String(t).match(ka))?(this.a=!!n,Na(this,i[1]||"",!0),this.j=ja(i[2]||""),Ra(this,i[3]||"",!0),Ca(this,i[4]),this.g=ja(i[5]||"",!0),Da(this,i[6]||"",!0),this.i=ja(i[7]||"")):(this.a=!!n,this.b=new Ga(null,this.a))}function Oa(t){return new Sa(t)}function Na(t,n,i){t.f=i?ja(n,!0):n,t.f&&(t.f=t.f.replace(/:$/,""))}function Ra(t,n,i){t.c=i?ja(n,!0):n}function Ca(t,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);t.h=n}else t.h=null}function Da(t,n,i){n instanceof Ga?(t.b=n,function(t,n){n&&!t.f&&($a(t),t.c=null,t.a.forEach((function(t,n){var i=n.toLowerCase();n!=i&&(Wa(this,n),Xa(this,i,t))}),t)),t.f=n}(t.b,t.a)):(i||(n=La(n,Va)),t.b=new Ga(n,t.a))}function Pa(t,n,i){t.b.set(n,i)}function Ma(t){return Pa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ps()).toString(36)),t}function ja(t,n){return t?n?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function La(t,n,i){return"string"==typeof t?(t=encodeURI(t).replace(n,Fa),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sa.prototype.toString=function(){var t=[],n=this.f;n&&t.push(La(n,Ua,!0),":");var i=this.c;return(i||"file"==n)&&(t.push("//"),(n=this.j)&&t.push(La(n,Ua,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.h)&&t.push(":",String(i))),(i=this.g)&&(this.c&&"/"!=i.charAt(0)&&t.push("/"),t.push(La(i,"/"==i.charAt(0)?za:Ba,!0))),(i=this.b.toString())&&t.push("?",i),(i=this.i)&&t.push("#",La(i,qa)),t.join("")};var Ua=/[#\/\?@]/g,Ba=/[#\?:]/g,za=/[#\?]/g,Va=/[#\?@]/g,qa=/#/g;function Ga(t,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function $a(t){t.a||(t.a=new Ia,t.b=0,t.c&&function(t,n){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var e=t[i].indexOf("="),r=null;if(0<=e){var o=t[i].substring(0,e);r=t[i].substring(e+1)}else o=t[i];n(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(n,i){t.add(decodeURIComponent(n.replace(/\+/g," ")),i)})))}function Wa(t,n){$a(t),n=Ya(t,n),Aa(t.a.b,n)&&(t.c=null,t.b-=t.a.get(n).length,Aa((t=t.a).b,n)&&(delete t.b[n],t.c--,t.a.length>2*t.c&&Ta(t)))}function Ha(t,n){return $a(t),n=Ya(t,n),Aa(t.a.b,n)}function Xa(t,n,i){Wa(t,n),0<i.length&&(t.c=null,t.a.set(Ya(t,n),_s(i)),t.b+=i.length)}function Ya(t,n){return n=String(n),t.f&&(n=n.toLowerCase()),n}function Ka(t,n){this.b=t,this.a=n}function Qa(t){this.g=t||Ja,os.PerformanceNavigationTiming?t=0<(t=os.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(os.ca&&os.ca.ua&&os.ca.ua()&&os.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(is=Ga.prototype).add=function(t,n){$a(this),this.c=null,t=Ya(this,t);var i=this.a.get(t);return i||this.a.set(t,i=[]),i.push(n),this.b+=1,this},is.forEach=function(t,n){$a(this),this.a.forEach((function(i,e){xs(i,(function(i){t.call(n,i,e,this)}),this)}),this)},is.K=function(){$a(this);for(var t=this.a.I(),n=this.a.K(),i=[],e=0;e<n.length;e++)for(var r=t[e],o=0;o<r.length;o++)i.push(n[e]);return i},is.I=function(t){$a(this);var n=[];if("string"==typeof t)Ha(this,t)&&(n=ys(n,this.a.get(Ya(this,t))));else{t=this.a.I();for(var i=0;i<t.length;i++)n=ys(n,t[i])}return n},is.set=function(t,n){return $a(this),this.c=null,Ha(this,t=Ya(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[n]),this.b+=1,this},is.get=function(t,n){return t&&0<(t=this.I(t)).length?String(t[0]):n},is.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],n=this.a.K(),i=0;i<n.length;i++){var e=n[i],r=encodeURIComponent(String(e));e=this.I(e);for(var o=0;o<e.length;o++){var s=r;""!==e[o]&&(s+="="+encodeURIComponent(String(e[o]))),t.push(s)}}return this.c=t.join("&")};var Ja=10;function Za(t){return!!t.b||!!t.a&&t.a.size>=t.f}function tc(t){return t.b?1:t.a?t.a.size:0}function nc(t,n){return t.b?t.b==n:!!t.a&&t.a.has(n)}function ic(t,n){t.a?t.a.add(n):t.b=n}function ec(t,n){t.b&&t.b==n?t.b=null:t.a&&t.a.has(n)&&t.a.delete(n)}function rc(t){var n,i;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var e=t.c;try{for(var r=ns(t.a.values()),o=r.next();!o.done;o=r.next()){var s=o.value;e=e.concat(s.i)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return e}return _s(t.c)}function oc(){}function sc(){this.a=new oc}function uc(t,n,i){var e=i||"";try{Ea(t,(function(t,i){var r=t;cs(t)&&(r=Iu(t)),n.push(e+i+"="+encodeURIComponent(r))}))}catch(t){throw n.push(e+"type="+encodeURIComponent("_badmap")),t}}function ac(t,n,i,e,r){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,r(e)}catch(t){}}Qa.prototype.cancel=function(){var t,n;if(this.c=rc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var i=ns(this.a.values()),e=i.next();!e.done;e=i.next()){e.value.cancel()}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.a.clear()}},oc.prototype.stringify=function(t){return os.JSON.stringify(t,void 0)},oc.prototype.parse=function(t){return os.JSON.parse(t,void 0)};var cc=os.JSON.parse;function hc(t){_u.call(this),this.headers=new Ia,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=fc,this.B=this.F=!1}gs(hc,_u);var fc="",lc=/^https?$/i,dc=["POST","PUT"];function mc(t){return"content-type"==t.toLowerCase()}function vc(t,n){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=n,t.h=5,pc(t),bc(t)}function pc(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function gc(t){if(t.b&&void 0!==rs&&(!t.s[1]||4!=xc(t)||2!=t.S()))if(t.l&&4==xc(t))Lu(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==xc(t)){t.b=!1;try{var n,i=t.S();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(n=e)){var r;if(r=0===i){var o=String(t.D).match(ka)[1]||null;if(!o&&os.self&&os.self.location){var s=os.self.location.protocol;o=s.substr(0,s.length-1)}r=!lc.test(o?o.toLowerCase():"")}n=r}if(n)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<xc(t)?t.a.statusText:""}catch(t){u=""}t.f=u+" ["+t.S()+"]",pc(t)}}finally{bc(t)}}}function bc(t,n){if(t.a){wc(t);var i=t.a,e=t.s[0]?ss:null;t.a=null,t.s=null,n||t.dispatchEvent("ready");try{i.onreadystatechange=e}catch(t){}}}function wc(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(os.clearTimeout(t.m),t.m=null)}function xc(t){return t.a?t.a.readyState:0}function yc(t,n,i){t:{for(e in i){var e=!1;break t}e=!0}e||(i=function(t){var n="";return Ns(t,(function(t,i){n+=i,n+=":",n+=t,n+="\r\n"})),n}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):Pa(t,n,i))}function _c(t,n,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||n}function Ec(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=_c("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=_c("baseRetryDelayMs",5e3,t),this.Ga=_c("retryDelaySeedMs",1e4,t),this.Da=_c("forwardChannelMaxRetries",2,t),this.ga=_c("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Qa(t&&t.concurrentRequestLimit),this.ja=new sc,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Ic(t){if(Tc(t),3==t.u){var n=t.H++,i=Oa(t.v);Pa(i,"SID",t.B),Pa(i,"RID",n),Pa(i,"TYPE","terminate"),Oc(t,i),(n=new ca(t,n,void 0)).B=2,n.f=Ma(Oa(i)),i=!1,os.navigator&&os.navigator.sendBeacon&&(i=os.navigator.sendBeacon(n.f.toString(),"")),!i&&os.Image&&((new Image).src=n.f,i=!0),i||(n.a=Uc(n.g,null),n.a.$(n.f)),n.s=ps(),ga(n)}Lc(t)}function Tc(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(os.clearTimeout(t.i),t.i=null),Dc(t),t.b.cancel(),t.g&&("number"==typeof t.g&&os.clearTimeout(t.g),t.g=null)}function Ac(t,n){t.f.push(new Ka(t.Fa++,n)),3==t.u&&kc(t)}function kc(t){Za(t.b)||t.g||(t.g=!0,Ru(t.xa,t),t.o=0)}function Sc(t,n){var i;i=n?n.W:t.H++;var e=Oa(t.v);Pa(e,"SID",t.B),Pa(e,"RID",i),Pa(e,"AID",t.G),Oc(t,e),t.h&&t.j&&yc(e,t.h,t.j),i=new ca(t,i,t.o+1),null===t.h&&(i.m=t.j),n&&(t.f=n.i.concat(t.f)),n=Nc(t,i,1e3),i.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),ic(t.b,i),da(i,e,n)}function Oc(t,n){t.c&&Ea({},(function(t,i){Pa(n,i,t)}))}function Nc(t,n,i){i=Math.min(t.f.length,i);var e=t.c?ms(t.c.Ha,t.c,t):null;t:for(var r=t.f,o=-1;;){var s=["count="+i];-1==o?0<i?(o=r[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<i;a++){var c=r[a].b,h=r[a].a;if(0>(c-=o))o=Math.max(0,r[a].b-100),u=!1;else try{uc(h,s,"req"+c+"_")}catch(t){e&&e(h)}}if(u){e=s.join("&");break t}}return t=t.f.splice(0,i),n.i=t,e}function Rc(t){t.a||t.i||(t.J=1,Ru(t.wa,t),t.m=0)}function Cc(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=Ju(ms(t.wa,t),Mc(t,t.m)),t.m++,!0)}function Dc(t){null!=t.l&&(os.clearTimeout(t.l),t.l=null)}function Pc(t,n){var i=null;if(t.a==n){Dc(t),t.a=null;var e=2}else{if(!nc(t.b,n))return;i=n.i,ec(t.b,n),e=1}if(t.A=n.H,0!=t.u)if(n.b)if(1==e){i=n.j?n.j.length:0,n=ps()-n.s;var r=t.o;(e=Wu()).dispatchEvent(new Qu(e,i,n,r)),kc(t)}else Rc(t);else if(3==(r=n.c)||0==r&&0<t.A||!(1==e&&function(t,n){return!(tc(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=n.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=Ju(ms(t.xa,t,n),Mc(t,t.o)),t.o++,!0))}(t,n)||2==e&&Cc(t)))switch(i&&0<i.length&&(n=t.b,n.c=n.c.concat(i)),r){case 1:jc(t,5);break;case 4:jc(t,10);break;case 3:jc(t,6);break;default:jc(t,2)}}function Mc(t,n){var i=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(i*=2),i*n}function jc(t,n){if(2==n){var i=null;t.c&&(i=null);var e=ms(t.Ta,t);i||(i=new Sa("//www.google.com/images/cleardot.gif"),os.location&&"http"==os.location.protocol||Na(i,"https"),Ma(i)),function(t,n){var i=new Gu;if(os.Image){var e=new Image;e.onload=vs(ac,i,e,"TestLoadImage: loaded",!0,n),e.onerror=vs(ac,i,e,"TestLoadImage: error",!1,n),e.onabort=vs(ac,i,e,"TestLoadImage: abort",!1,n),e.ontimeout=vs(ac,i,e,"TestLoadImage: timeout",!1,n),os.setTimeout((function(){e.ontimeout&&e.ontimeout()}),1e4),e.src=t}else n(!1)}(i.toString(),e)}else Ku(2);t.u=0,t.c&&t.c.la(n),Lc(t),Tc(t)}function Lc(t){t.u=0,t.A=-1,t.c&&(0==rc(t.b).length&&0==t.f.length||(t.b.c.length=0,_s(t.f),t.f.length=0),t.c.ka())}function Fc(t,n,i){var e=function(t){return t instanceof Sa?Oa(t):new Sa(t,void 0)}(i);if(""!=e.c)n&&Ra(e,n+"."+e.c),Ca(e,e.h);else{var r=os.location;e=function(t,n,i,e){var r=new Sa(null,void 0);return t&&Na(r,t),n&&Ra(r,n),i&&Ca(r,i),e&&(r.g=e),r}(r.protocol,n?n+"."+r.hostname:r.hostname,+r.port,i)}return t.N&&Ns(t.N,(function(t,n){Pa(e,n,t)})),n=t.s,i=t.ha,n&&i&&Pa(e,n,i),Pa(e,"VER",t.oa),Oc(t,e),e}function Uc(t,n){if(n&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new hc(t.Ea)).F=t.w,n}function Bc(){}function zc(){if(Fs&&!(10<=Number(Qs)))throw Error("Environmental error: no available transport.")}function Vc(t,n){_u.call(this),this.a=new Ec(n),this.l=t,this.b=n&&n.messageUrlParams||null,t=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(t?t["X-WebChannel-Content-Type"]=n.messageContentType:t={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.pa&&(t?t["X-WebChannel-Client-Profile"]=n.pa:t={"X-WebChannel-Client-Profile":n.pa}),this.a.F=t,(t=n&&n.httpHeadersOverwriteParam)&&!Es(t)&&(this.a.h=t),this.h=n&&n.supportsCrossDomainXhr||!1,this.g=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Es(n)&&(this.a.s=n,null!==(t=this.b)&&n in t&&(n in(t=this.b)&&delete t[n])),this.f=new $c(this)}function qc(t){sa.call(this);var n=t.pm;if(n){t:{for(var i in n){t=i;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==n&&t in n?n[t]:void 0):this.data=n}else this.data=t}function Gc(){ua.call(this),this.status=1}function $c(t){this.a=t}(is=hc.prototype).$=function(t,n,i,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);n=n?n.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?ia(this.G):ia(ra),this.a.onreadystatechange=ms(this.va,this);try{this.w=!0,this.a.open(n,String(t),!0),this.w=!1}catch(t){return void vc(this,t)}t=i||"";var r=new Ia(this.headers);e&&Ea(e,(function(t,n){r.set(n,t)})),e=function(t){t:{for(var n=mc,i=t.length,e="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in e&&n.call(void 0,e[r],r,t)){n=r;break t}n=-1}return 0>n?null:"string"==typeof t?t.charAt(n):t[n]}(r.K()),i=os.FormData&&t instanceof os.FormData,!(0<=ws(dc,n))||e||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,n){this.a.setRequestHeader(n,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wc(this),0<this.o&&((this.B=function(t){return Fs&&Ys(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ms(this.ta,this)):this.m=Lu(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){vc(this,t)}},is.ta=function(){void 0!==rs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},is.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bc(this))},is.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bc(this,!0)),hc.M.C.call(this)},is.va=function(){this.j||(this.w||this.l||this.g?gc(this):this.Oa())},is.Oa=function(){gc(this)},is.S=function(){try{return 2<xc(this)?this.a.status:-1}catch(t){return-1}},is.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},is.Ja=function(t){if(this.a){var n=this.a.responseText;return t&&0==n.indexOf(t)&&(n=n.substring(t.length)),cc(n)}},is.qa=function(){return this.h},is.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(is=Ec.prototype).oa=8,is.u=1,is.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var n,i=new ca(this,t=this.H++,void 0),e=this.j;if(this.F&&(e?Ds(e=Rs(e),this.F):e=this.F),null===this.h&&(i.m=e),this.fa)t:{for(var r=n=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.gm)?o.length:void 0))break;if(4096<(n+=o)){n=r;break t}if(4096===n||r===this.f.length-1){n=r+1;break t}}n=1e3}else n=1e3;n=Nc(this,i,n),Pa(r=Oa(this.v),"RID",t),Pa(r,"CVER",22),this.s&&Pa(r,"X-HTTP-Session-Id",this.s),Oc(this,r),this.h&&e&&yc(r,this.h,e),ic(this.b,i),this.fa?(Pa(r,"$req",n),Pa(r,"SID","null"),i.R=!0,da(i,r,null)):da(i,r,n),this.u=2}}else 3==this.u&&(t?Sc(this,t):0==this.f.length||Za(this.b)||Sc(this))},is.wa=function(){this.i=null,this.a=new ca(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Oa(this.ea);Pa(t,"RID","rpc"),Pa(t,"SID",this.B),Pa(t,"CI",this.U?"0":"1"),Pa(t,"AID",this.G),Oc(this,t),Pa(t,"TYPE","xmlhttp"),this.h&&this.j&&yc(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var n=this.a,i=this.R;n.B=1,n.f=Ma(Oa(t)),n.j=null,n.F=!0,ma(n,i)},is.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Cc(this),Ku(19))},is.Ta=function(t){Ku(t?2:1)},(is=Bc.prototype).na=function(){},is.ma=function(){},is.la=function(){},is.ka=function(){},is.Ha=function(){},zc.prototype.a=function(t,n){return new Vc(t,n)},gs(Vc,_u),(is=Vc.prototype).addEventListener=function(t,n,i,e){Vc.M.addEventListener.call(this,t,n,i,e)},is.removeEventListener=function(t,n,i,e){Vc.M.removeEventListener.call(this,t,n,i,e)},is.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,n=this.l,i=this.b||void 0;Ku(0),t.P=n,t.N=i||{},t.U=t.W,t.v=Fc(t,null,t.P),kc(t)},is.close=function(){Ic(this.a)},is.La=function(t){if("string"==typeof t){var n={};n.gm=t,Ac(this.a,n)}else this.g?((n={}).gm=Iu(t),Ac(this.a,n)):Ac(this.a,t)},is.C=function(){this.a.c=null,delete this.f,Ic(this.a),delete this.a,Vc.M.C.call(this)},gs(qc,sa),gs(Gc,ua),gs($c,Bc),$c.prototype.na=function(){this.a.dispatchEvent("a")},$c.prototype.ma=function(t){this.a.dispatchEvent(new qc(t))},$c.prototype.la=function(t){this.a.dispatchEvent(new Gc(t))},$c.prototype.ka=function(){this.a.dispatchEvent("b")},zc.prototype.createWebChannel=zc.prototype.a,Vc.prototype.send=Vc.prototype.La,Vc.prototype.open=Vc.prototype.Ka,Vc.prototype.close=Vc.prototype.close,Zu.NO_ERROR=0,Zu.TIMEOUT=8,Zu.HTTP_ERROR=6,ta.COMPLETE="complete",ea.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",_u.prototype.listen=_u.prototype.ra,hc.prototype.listenOnce=hc.prototype.sa,hc.prototype.getLastError=hc.prototype.Ma,hc.prototype.getLastErrorCode=hc.prototype.qa,hc.prototype.getStatus=hc.prototype.S,hc.prototype.getResponseJson=hc.prototype.Ja,hc.prototype.getResponseText=hc.prototype.Y,hc.prototype.send=hc.prototype.$;var Wc={createWebChannelTransport:function(){return new zc},ErrorCode:Zu,EventType:ta,WebChannel:ea,XhrIo:hc},Hc=Wc.createWebChannelTransport,Xc=Wc.ErrorCode,Yc=Wc.EventType,Kc=Wc.WebChannel,Qc=Wc.XhrIo,Jc=Gi.SDK_VERSION,Zc=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zc.UNAUTHENTICATED=new Zc(null),Zc.i=new Zc("google-credentials-uid"),Zc.h=new Zc("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var th={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nh=function(t){function n(n,i){var e=this;return(e=t.call(this,i)||this).code=n,e.message=i,e.name="FirebaseError",e.toString=function(){return e.name+": [code="+e.code+"]: "+e.message},e}return at(n,t),n}(Error),ih=function(t,n){this.user=n,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},eh=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(Zc.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),rh=function(){function t(t){var n=this;this.I=null,this.currentUser=Zc.UNAUTHENTICATED,this.R=!1,this.m=0,this.u=null,this.forceRefresh=!1,this.I=function(){n.m++,n.currentUser=n.A(),n.R=!0,n.u&&n.u(n.currentUser)},this.m=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){n.auth=t,n.I&&n.auth.addAuthTokenListener(n.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,n=this.m,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((function(i){if(t.m!==n)throw new nh(th.ABORTED,"getToken aborted due to token change.");return i?(hl("string"==typeof i.accessToken),new ih(i.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return hl(null===t||"string"==typeof t),new Zc(t)},t}(),oh=function(){function t(t,n){this.P=t,this.V=n,this.type="FirstParty",this.user=Zc.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},n=this.P.auth.g([]);return n&&(t.Authorization=n),t},enumerable:!0,configurable:!0}),t}(),sh=function(){function t(t,n){this.P=t,this.V=n}return t.prototype.getToken=function(){return Promise.resolve(new oh(this.P,this.V))},t.prototype.l=function(t){t(Zc.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),uh=function(){function t(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new nh(th.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nh(th.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new nh(th.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nh(th.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(n){return t.fromMillis(n.getTime())},t.fromMillis=function(n){var i=Math.floor(n/1e3);return new t(i,1e6*(n-1e3*i))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?dl(this.nanoseconds,t.nanoseconds):dl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ah=function(){function t(t){this.timestamp=t}return t.v=function(n){return new t(n)},t.min=function(){return new t(new uh(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),ch=function(){function t(t,n,i){void 0===n?n=0:n>t.length&&cl(),void 0===i?i=t.length-n:i>t.length-n&&cl(),this.segments=t,this.offset=n,this.F=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(n){return 0===t.N(this,n)},t.prototype.child=function(n){var i=this.segments.slice(this.offset,this.limit());return n instanceof t?n.forEach((function(t){i.push(t)})):i.push(n),this.$(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.k=function(t){return t=void 0===t?1:t,this.$(this.segments,this.offset+t,this.length-t)},t.prototype.M=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.L=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},t.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,n){for(var i=Math.min(t.length,n.length),e=0;e<i;e++){var r=t.get(e),o=n.get(e);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0},t}(),hh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.$=function(t,i,e){return new n(t,i,e)},n.prototype.j=function(){return this.W().join("/")},n.prototype.toString=function(){return this.j()},n.K=function(t){if(t.indexOf("//")>=0)throw new nh(th.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new n(t.split("/").filter((function(t){return t.length>0})))},n}(ch);hh.G=new hh([]);var fh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.$=function(t,i,e){return new n(t,i,e)},n.H=function(t){return fh.test(t)},n.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),n.H(t)||(t="`"+t+"`"),t})).join(".")},n.prototype.toString=function(){return this.j()},n.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},n.J=function(){return new n(["__name__"])},n.X=function(t){for(var i=[],e="",r=0,o=function(){if(0===e.length)throw new nh(th.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(e),e=""},s=!1;r<t.length;){var u=t[r];if("\\"===u){if(r+1===t.length)throw new nh(th.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new nh(th.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);e+=a,r+=2}else"`"===u?(s=!s,r++):"."!==u||s?(e+=u,r++):(o(),r++)}if(o(),s)throw new nh(th.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(i)},n}(ch);lh.G=new lh([]);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dh=function(){function t(t){this.path=t}return t.Z=function(n){return new t(hh.K(n).k(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===hh.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,n){return hh.N(t.path,n.path)},t.et=function(t){return t.length%2==0},t.st=function(n){return new t(new hh(n.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){var n=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n++;return n}function vh(t,n){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n(i,t[i])}function ph(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dh.EMPTY=new dh(new hh([]));var gh=function(){function t(t){this.it=t}return t.fromBase64String=function(n){return new t(il.nt().atob(n))},t.fromUint8Array=function(n){return new t(function(t){for(var n="",i=0;i<t.length;++i)n+=String.fromCharCode(t[i]);return n}(n))},t.prototype.toBase64=function(){return il.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return dl(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function bh(t){return null==t}function wh(t){return-0===t&&1/t==-1/0}function xh(t){return"number"==typeof t&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==t?void 0:t.mapValue)||void 0===n?void 0:n.fields)||{}).bm)||void 0===i?void 0:i.stringValue)}function _h(t){var n=Nh(t.mapValue.fields.wm.timestampValue);return new uh(n.seconds,n.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gh.ht=new gh("");var Eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ih(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yh(t)?4:10:cl()}function Th(t,n){var i=Ih(t);if(i!==Ih(n))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===n.booleanValue;case 4:return _h(t).isEqual(_h(n));case 3:return function(t,n){if("string"==typeof t.timestampValue&&"string"==typeof n.timestampValue&&t.timestampValue.length===n.timestampValue.length)return t.timestampValue===n.timestampValue;var i=Nh(t.timestampValue),e=Nh(n.timestampValue);return i.seconds===e.seconds&&i.nanos===e.nanos}(t,n);case 5:return t.stringValue===n.stringValue;case 6:return function(t,n){return Ch(t.bytesValue).isEqual(Ch(n.bytesValue))}(t,n);case 7:return t.referenceValue===n.referenceValue;case 8:return function(t,n){return Rh(t.geoPointValue.latitude)===Rh(n.geoPointValue.latitude)&&Rh(t.geoPointValue.longitude)===Rh(n.geoPointValue.longitude)}(t,n);case 2:return function(t,n){if("integerValue"in t&&"integerValue"in n)return Rh(t.integerValue)===Rh(n.integerValue);if("doubleValue"in t&&"doubleValue"in n){var i=Rh(t.doubleValue),e=Rh(n.doubleValue);return i===e?wh(i)===wh(e):isNaN(i)&&isNaN(e)}return!1}(t,n);case 9:return ml(t.arrayValue.values||[],n.arrayValue.values||[],Th);case 10:return function(t,n){var i=t.mapValue.fields||{},e=n.mapValue.fields||{};if(mh(i)!==mh(e))return!1;for(var r in i)if(i.hasOwnProperty(r)&&(void 0===e[r]||!Th(i[r],e[r])))return!1;return!0}(t,n);default:return cl()}}function Ah(t,n){return void 0!==(t.values||[]).find((function(t){return Th(t,n)}))}function kh(t,n){var i=Ih(t),e=Ih(n);if(i!==e)return dl(i,e);switch(i){case 0:return 0;case 1:return dl(t.booleanValue,n.booleanValue);case 2:return function(t,n){var i=Rh(t.integerValue||t.doubleValue),e=Rh(n.integerValue||n.doubleValue);return i<e?-1:i>e?1:i===e?0:isNaN(i)?isNaN(e)?0:-1:1}(t,n);case 3:return Sh(t.timestampValue,n.timestampValue);case 4:return Sh(_h(t),_h(n));case 5:return dl(t.stringValue,n.stringValue);case 6:return function(t,n){var i=Ch(t),e=Ch(n);return i.S(e)}(t.bytesValue,n.bytesValue);case 7:return function(t,n){for(var i=t.split("/"),e=n.split("/"),r=0;r<i.length&&r<e.length;r++){var o=dl(i[r],e[r]);if(0!==o)return o}return dl(i.length,e.length)}(t.referenceValue,n.referenceValue);case 8:return function(t,n){var i=dl(Rh(t.latitude),Rh(n.latitude));return 0!==i?i:dl(Rh(t.longitude),Rh(n.longitude))}(t.geoPointValue,n.geoPointValue);case 9:return function(t,n){for(var i=t.values||[],e=n.values||[],r=0;r<i.length&&r<e.length;++r){var o=kh(i[r],e[r]);if(o)return o}return dl(i.length,e.length)}(t.arrayValue,n.arrayValue);case 10:return function(t,n){var i=t.fields||{},e=Object.keys(i),r=n.fields||{},o=Object.keys(r);e.sort(),o.sort();for(var s=0;s<e.length&&s<o.length;++s){var u=dl(e[s],o[s]);if(0!==u)return u;var a=kh(i[e[s]],r[o[s]]);if(0!==a)return a}return dl(e.length,o.length)}(t.mapValue,n.mapValue);default:throw cl()}}function Sh(t,n){if("string"==typeof t&&"string"==typeof n&&t.length===n.length)return dl(t,n);var i=Nh(t),e=Nh(n),r=dl(i.seconds,e.seconds);return 0!==r?r:dl(i.nanos,e.nanos)}function Oh(t){return function t(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){var n=Nh(t);return"time("+n.seconds+","+n.nanos+")"}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ch(n.bytesValue).toBase64():"referenceValue"in n?(e=n.referenceValue,dh.Z(e).toString()):"geoPointValue"in n?"geo("+(i=n.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in n?function(n){for(var i="[",e=!0,r=0,o=n.values||[];r<o.length;r++){var s=o[r];e?e=!1:i+=",",i+=t(s)}return i+"]"}(n.arrayValue):"mapValue"in n?function(n){for(var i="{",e=!0,r=0,o=Object.keys(n.fields||{}).sort();r<o.length;r++){var s=o[r];e?e=!1:i+=",",i+=s+":"+t(n.fields[s])}return i+"}"}(n.mapValue):cl();var i,e}(t)}function Nh(t){if(hl(!!t),"string"==typeof t){var n=0,i=Eh.exec(t);if(hl(!!i),i[1]){var e=i[1];e=(e+"000000000").substr(0,9),n=Number(e)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:Rh(t.seconds),nanos:Rh(t.nanos)}}function Rh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ch(t){return"string"==typeof t?gh.fromBase64String(t):gh.fromUint8Array(t)}function Dh(t,n){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+n.path.j()}}function Ph(t){return!!t&&"integerValue"in t}function Mh(t){return!!t&&"arrayValue"in t}function jh(t){return!!t&&"nullValue"in t}function Lh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fh(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uh=function(){function t(){}return t.prototype.ot=function(t,n){return function(t,n){var i={fields:{bm:{stringValue:"server_timestamp"},wm:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return n&&(i.fields.xm=n),{mapValue:i}}(n,t)},t.prototype.at=function(t,n){return n},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(n){return n instanceof t},t}();Uh.instance=new Uh;var Bh=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,n){return this.apply(t)},t.prototype.at=function(t,n){return this.apply(t)},t.prototype.apply=function(t){for(var n=qh(t),i=function(t){n.some((function(n){return Th(n,t)}))||n.push(t)},e=0,r=this.elements;e<r.length;e++)i(r[e]);return{arrayValue:{values:n}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(n){return n instanceof t&&ml(this.elements,n.elements,Th)},t}(),zh=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,n){return this.apply(t)},t.prototype.at=function(t,n){return this.apply(t)},t.prototype.apply=function(t){for(var n=qh(t),i=function(t){n=n.filter((function(n){return!Th(n,t)}))},e=0,r=this.elements;e<r.length;e++)i(r[e]);return{arrayValue:{values:n}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(n){return n instanceof t&&ml(this.elements,n.elements,Th)},t}(),Vh=function(){function t(t,n){this.serializer=t,this.ct=n}return t.prototype.ot=function(t,n){var i=this.ut(t),e=this.asNumber(i)+this.asNumber(this.ct);return Ph(i)&&Ph(this.ct)?this.serializer._t(e):this.serializer.lt(e)},t.prototype.at=function(t,n){return n},t.prototype.ut=function(t){return Ph(n=t)||function(t){return!!t&&"doubleValue"in t}(n)?t:{integerValue:0};var n},t.prototype.isEqual=function(n){return n instanceof t&&Th(this.ct,n.ct)},t.prototype.asNumber=function(t){return Rh(t.integerValue||t.doubleValue)},t}();function qh(t){return Mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){function t(t){this.fields=t,t.sort(lh.N)}return t.prototype.dt=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].q(t))return!0;return!1},t.prototype.isEqual=function(t){return ml(this.fields,t.fields,(function(t,n){return t.isEqual(n)}))},t}(),$h=function(){function t(t,n){this.field=t,this.transform=n}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Wh=function(t,n){this.version=t,this.transformResults=n},Hh=function(){function t(t,n){this.updateTime=t,this.exists=n}return t.ft=function(){return new t},t.exists=function(n){return new t(void 0,n)},t.updateTime=function(n){return new t(n)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof uf&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof uf},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),Xh=function(){function t(){}return t.prototype.It=function(t){},t.wt=function(t){return t instanceof uf?t.version:ah.min()},t}(),Yh=function(t){function n(n,i,e){var r=this;return(r=t.call(this)||this).key=n,r.value=i,r.Rt=e,r.type=0,r}return at(n,t),n.prototype.at=function(t,n){this.It(t);var i=n.version;return new uf(this.key,i,this.value,{hasCommittedMutations:!0})},n.prototype.ot=function(t,n,i){if(this.It(t),!this.Rt.Et(t))return t;var e=Xh.wt(t);return new uf(this.key,e,this.value,{At:!0})},n.prototype.Pt=function(t){return null},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},n}(Xh),Kh=function(t){function n(n,i,e,r){var o=this;return(o=t.call(this)||this).key=n,o.data=i,o.Vt=e,o.Rt=r,o.type=1,o}return at(n,t),n.prototype.at=function(t,n){if(this.It(t),!this.Rt.Et(t))return new cf(this.key,n.version);var i=this.gt(t);return new uf(this.key,n.version,i,{hasCommittedMutations:!0})},n.prototype.ot=function(t,n,i){if(this.It(t),!this.Rt.Et(t))return t;var e=Xh.wt(t),r=this.gt(t);return new uf(this.key,e,r,{At:!0})},n.prototype.Pt=function(t){return null},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},n.prototype.gt=function(t){var n;return n=t instanceof uf?t.data():tf.empty(),this.pt(n)},n.prototype.pt=function(t){var n=this,i=new nf(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var e=n.data.field(t);null!==e?i.set(t,e):i.delete(t)}})),i.yt()},n}(Xh),Qh=function(t){function n(n,i){var e=this;return(e=t.call(this)||this).key=n,e.fieldTransforms=i,e.type=2,e.Rt=Hh.exists(!0),e}return at(n,t),n.prototype.at=function(t,n){if(this.It(t),hl(null!=n.transformResults),!this.Rt.Et(t))return new cf(this.key,n.version);var i=this.bt(t),e=this.vt(t,n.transformResults),r=n.version,o=this.St(i.data(),e);return new uf(this.key,r,o,{hasCommittedMutations:!0})},n.prototype.ot=function(t,n,i){if(this.It(t),!this.Rt.Et(t))return t;var e=this.bt(t),r=this.Dt(i,t,n),o=this.St(e.data(),r);return new uf(this.key,e.version,o,{At:!0})},n.prototype.Pt=function(t){for(var n=null,i=0,e=this.fieldTransforms;i<e.length;i++){var r=e[i],o=t instanceof uf?t.field(r.field):void 0,s=r.transform.ut(o||null);null!=s&&(n=null==n?(new nf).set(r.field,s):n.set(r.field,s))}return n?n.yt():null},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&ml(this.fieldTransforms,t.fieldTransforms,(function(t,n){return t.isEqual(n)}))&&this.Rt.isEqual(t.Rt)},n.prototype.bt=function(t){return t},n.prototype.vt=function(t,n){var i=[];hl(this.fieldTransforms.length===n.length);for(var e=0;e<n.length;e++){var r=this.fieldTransforms[e],o=r.transform,s=null;t instanceof uf&&(s=t.field(r.field)),i.push(o.at(s,n[e]))}return i},n.prototype.Dt=function(t,n,i){for(var e=[],r=0,o=this.fieldTransforms;r<o.length;r++){var s=o[r],u=s.transform,a=null;n instanceof uf&&(a=n.field(s.field)),null===a&&i instanceof uf&&(a=i.field(s.field)),e.push(u.ot(a,t))}return e},n.prototype.St=function(t,n){for(var i=new nf(t),e=0;e<this.fieldTransforms.length;e++){var r=this.fieldTransforms[e].field;i.set(r,n[e])}return i.yt()},n}(Xh),Jh=function(t){function n(n,i){var e=this;return(e=t.call(this)||this).key=n,e.Rt=i,e.type=3,e}return at(n,t),n.prototype.at=function(t,n){return this.It(t),new af(this.key,n.version,{hasCommittedMutations:!0})},n.prototype.ot=function(t,n,i){return this.It(t),this.Rt.Et(t)?new af(this.key,ah.min()):t},n.prototype.Pt=function(t){return null},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},n}(Xh),Zh=function(t){function n(n,i){var e=this;return(e=t.call(this)||this).key=n,e.Rt=i,e.type=4,e}return at(n,t),n.prototype.at=function(t,n){cl()},n.prototype.ot=function(t,n,i){cl()},n.prototype.Pt=function(t){cl()},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},n}(Xh),tf=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var n=this.proto,i=0;i<t.length-1;++i){if(!n.mapValue.fields)return null;if(!Fh(n=n.mapValue.fields[t.get(i)]))return null}return(n=(n.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return Th(this.proto,t.proto)},t}(),nf=function(){function t(t){void 0===t&&(t=tf.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,n){return this.Nt(t,n),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,n){for(var i=this.Ft,e=0;e<t.length-1;++e){var r=t.get(e),o=i.get(r);o instanceof Map?i=o:o&&10===Ih(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),i.set(r,o),i=o):(o=new Map,i.set(r,o),i=o)}i.set(t.O(),n)},t.prototype.yt=function(){var t=this.$t(lh.G,this.Ft);return null!=t?new tf(t):this.Ct},t.prototype.$t=function(t,n){var i=this,e=!1,r=this.Ct.field(t),o=Fh(r)?Object.assign({},r.mapValue.fields):{};return n.forEach((function(n,r){if(n instanceof Map){var s=i.$t(t.child(r),n);null!=s&&(o[r]=s,e=!0)}else null!==n?(o[r]=n,e=!0):o.hasOwnProperty(r)&&(delete o[r],e=!0)})),e?{mapValue:{fields:o}}:null},t}();function ef(t){var n=[];return vh(t.fields||{},(function(t,i){var e=new lh([t]);if(Fh(i)){var r=ef(i.mapValue).fields;if(0===r.length)n.push(e);else for(var o=0,s=r;o<s.length;o++){var u=s[o];n.push(e.child(u))}}else n.push(e)})),new Gh(n)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var rf,of,sf=function(t,n){this.key=t,this.version=n},uf=function(t){function n(n,i,e,r){var o=this;return(o=t.call(this,n,i)||this).kt=e,o.At=!!r.At,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return at(n,t),n.prototype.field=function(t){return this.kt.field(t)},n.prototype.data=function(){return this.kt},n.prototype.Mt=function(){return this.kt.proto},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.kt.isEqual(t.kt)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.kt.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),n}(sf),af=function(t){function n(n,i,e){var r=this;return(r=t.call(this,n,i)||this).hasCommittedMutations=!(!e||!e.hasCommittedMutations),r}return at(n,t),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(sf),cf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(sf),hf=function(){function t(t,n,i,e,r,o,s){void 0===n&&(n=null),void 0===i&&(i=[]),void 0===e&&(e=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=e,this.limit=r,this.startAt=o,this.endAt=s,this.Lt=null}return t.prototype.canonicalId=function(){if(null===this.Lt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),bh(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Lt=t}return this.Lt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),bh(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<this.orderBy.length;n++)if(!this.orderBy[n].isEqual(t.orderBy[n]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var i=0;i<this.filters.length;i++)if(!this.filters[i].isEqual(t.filters[i]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Ot=function(){return dh.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),ff=function(){function t(t,n,i,e,r,o,s,u){void 0===n&&(n=null),void 0===i&&(i=[]),void 0===e&&(e=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=n,this.xt=i,this.filters=e,this.limit=r,this.Bt=o,this.startAt=s,this.endAt=u,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(n){return new t(n)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),n=this.Kt();if(null!==t&&null===n)t.Y()||this.qt.push(new wf(t)),this.qt.push(new wf(lh.J(),"asc"));else{for(var i=!1,e=0,r=this.xt;e<r.length;e++){var o=r[e];this.qt.push(o),o.field.Y()&&(i=!0)}if(!i){var s=this.xt.length>0?this.xt[this.xt.length-1].dir:"asc";this.qt.push(new wf(lh.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(n){var i=this.filters.concat([n]);return new t(this.path,this.collectionGroup,this.xt.slice(),i,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(n){var i=this.xt.concat([n]);return new t(this.path,this.collectionGroup,i,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(n){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),n,"F",this.startAt,this.endAt)},t.prototype.Yt=function(n){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),n,"L",this.startAt,this.endAt)},t.prototype.Jt=function(n){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,n,this.endAt)},t.prototype.Xt=function(n){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,n)},t.prototype.Zt=function(n){return new t(n,null,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.xt.length||1===this.xt.length&&this.xt[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,n){for(var i=!1,e=0,r=this.orderBy;e<r.length;e++){var o=r[e],s=o.compare(t,n);if(0!==s)return s;i=i||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!bh(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!bh(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.xt.length>0?this.xt[0].field:null},t.prototype.jt=function(){for(var t=0,n=this.filters;t<n.length;t++){var i=n[t];if(i instanceof lf&&i.ue())return i.field}return null},t.prototype.ce=function(t){for(var n=0,i=this.filters;n<i.length;n++){var e=i[n];if(e instanceof lf&&t.indexOf(e.op)>=0)return e.op}return null},t.prototype.Ot=function(){return this.ee().Ot()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new hf(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],n=0,i=this.orderBy;n<i.length;n++){var e=i[n],r="desc"===e.dir?"asc":"desc";t.push(new wf(e.field,r))}var o=this.endAt?new bf(this.endAt.position,!this.endAt.before):null,s=this.startAt?new bf(this.startAt.position,!this.startAt.before):null;this.Ut=new hf(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Ut},t.prototype.ie=function(t){var n=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(n):dh.et(this.path)?this.path.isEqual(n):this.path.U(n)},t.prototype.ne=function(t){for(var n=0,i=this.xt;n<i.length;n++){var e=i[n];if(!e.field.Y()&&null===t.field(e.field))return!1}return!0},t.prototype.re=function(t){for(var n=0,i=this.filters;n<i.length;n++)if(!i[n].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),lf=function(t){function n(n,i,e){var r=this;return(r=t.call(this)||this).field=n,r.op=i,r.value=e,r}return at(n,t),n.create=function(t,i,e){if(t.Y())return"in"===i?new mf(t,e):new df(t,i,e);if(jh(e)){if("=="!==i)throw new nh(th.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new n(t,i,e)}if(Lh(e)){if("=="!==i)throw new nh(th.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new n(t,i,e)}return"array-contains"===i?new vf(t,e):"in"===i?new pf(t,e):"array-contains-any"===i?new gf(t,e):new n(t,i,e)},n.prototype.matches=function(t){var n=t.field(this.field);return null!==n&&Ih(this.value)===Ih(n)&&this.de(kh(n,this.value))},n.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return cl()}},n.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},n.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+Oh(this.value)},n.prototype.isEqual=function(t){return t instanceof n&&this.op===t.op&&this.field.isEqual(t.field)&&Th(this.value,t.value)},n.prototype.toString=function(){return this.field.j()+" "+this.op+" "+Oh(this.value)},n}((function(){})),df=function(t){function n(n,i,e){var r=this;return(r=t.call(this,n,i,e)||this).key=dh.Z(e.referenceValue),r}return at(n,t),n.prototype.matches=function(t){var n=dh.N(t.key,this.key);return this.de(n)},n}(lf),mf=function(t){function n(n,i){var e=this;return(e=t.call(this,n,"in",i)||this).keys=(i.arrayValue.values||[]).map((function(t){return dh.Z(t.referenceValue)})),e}return at(n,t),n.prototype.matches=function(t){return this.keys.some((function(n){return n.isEqual(t.key)}))},n}(lf),vf=function(t){function n(n,i){return t.call(this,n,"array-contains",i)||this}return at(n,t),n.prototype.matches=function(t){var n=t.field(this.field);return Mh(n)&&Ah(n.arrayValue,this.value)},n}(lf),pf=function(t){function n(n,i){return t.call(this,n,"in",i)||this}return at(n,t),n.prototype.matches=function(t){var n=t.field(this.field);return null!==n&&Ah(this.value.arrayValue,n)},n}(lf),gf=function(t){function n(n,i){return t.call(this,n,"array-contains-any",i)||this}return at(n,t),n.prototype.matches=function(t){var n=this,i=t.field(this.field);return!(!Mh(i)||!i.arrayValue.values)&&i.arrayValue.values.some((function(t){return Ah(n.value.arrayValue,t)}))},n}(lf),bf=function(){function t(t,n){this.position=t,this.before=n}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return Oh(t)})).join(",")},t.prototype.le=function(t,n){for(var i=0,e=0;e<this.position.length;e++){var r=t[e],o=this.position[e];if(i=r.field.Y()?dh.N(dh.Z(o.referenceValue),n.key):kh(o,n.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return this.before?i<=0:i<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var n=0;n<this.position.length;n++)if(!Th(this.position[n],t.position[n]))return!1;return!0},t}(),wf=function(){function t(t,n){this.field=t,void 0===n&&(n="asc"),this.dir=n,this.fe=t.Y()}return t.prototype.compare=function(t,n){var i=this.fe?dh.N(t.key,n.key):function(t,n,i){var e=n.field(t),r=i.field(t);return null!==e&&null!==r?kh(e,r):cl()}(this.field,t,n);switch(this.dir){case"asc":return i;case"desc":return-1*i;default:return cl()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),xf=function(){function t(t,n,i,e,r,o,s){void 0===r&&(r=ah.min()),void 0===o&&(o=ah.min()),void 0===s&&(s=gh.ht),this.target=t,this.targetId=n,this.Te=i,this.sequenceNumber=e,this.Ee=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Ie=function(n){return new t(this.target,this.targetId,this.Te,n,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.we=function(n,i){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n)},t.prototype.Re=function(n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,n,this.resumeToken)},t}(),yf=function(t){this.count=t};function _f(t){switch(t){case th.OK:return cl();case th.CANCELLED:case th.UNKNOWN:case th.DEADLINE_EXCEEDED:case th.RESOURCE_EXHAUSTED:case th.INTERNAL:case th.UNAVAILABLE:case th.UNAUTHENTICATED:return!1;case th.INVALID_ARGUMENT:case th.NOT_FOUND:case th.ALREADY_EXISTS:case th.PERMISSION_DENIED:case th.FAILED_PRECONDITION:case th.ABORTED:case th.OUT_OF_RANGE:case th.UNIMPLEMENTED:case th.DATA_LOSS:return!0;default:return cl()}}function Ef(t){if(void 0===t)return ul("GRPC error has no .code"),th.UNKNOWN;switch(t){case rf.OK:return th.OK;case rf.CANCELLED:return th.CANCELLED;case rf.UNKNOWN:return th.UNKNOWN;case rf.DEADLINE_EXCEEDED:return th.DEADLINE_EXCEEDED;case rf.RESOURCE_EXHAUSTED:return th.RESOURCE_EXHAUSTED;case rf.INTERNAL:return th.INTERNAL;case rf.UNAVAILABLE:return th.UNAVAILABLE;case rf.UNAUTHENTICATED:return th.UNAUTHENTICATED;case rf.INVALID_ARGUMENT:return th.INVALID_ARGUMENT;case rf.NOT_FOUND:return th.NOT_FOUND;case rf.ALREADY_EXISTS:return th.ALREADY_EXISTS;case rf.PERMISSION_DENIED:return th.PERMISSION_DENIED;case rf.FAILED_PRECONDITION:return th.FAILED_PRECONDITION;case rf.ABORTED:return th.ABORTED;case rf.OUT_OF_RANGE:return th.OUT_OF_RANGE;case rf.UNIMPLEMENTED:return th.UNIMPLEMENTED;case rf.DATA_LOSS:return th.DATA_LOSS;default:return cl()}}(of=rf||(rf={}))[of.OK=0]="OK",of[of.CANCELLED=1]="CANCELLED",of[of.UNKNOWN=2]="UNKNOWN",of[of.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",of[of.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",of[of.NOT_FOUND=5]="NOT_FOUND",of[of.ALREADY_EXISTS=6]="ALREADY_EXISTS",of[of.PERMISSION_DENIED=7]="PERMISSION_DENIED",of[of.UNAUTHENTICATED=16]="UNAUTHENTICATED",of[of.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",of[of.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",of[of.ABORTED=10]="ABORTED",of[of.OUT_OF_RANGE=11]="OUT_OF_RANGE",of[of.UNIMPLEMENTED=12]="UNIMPLEMENTED",of[of.INTERNAL=13]="INTERNAL",of[of.UNAVAILABLE=14]="UNAVAILABLE",of[of.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var If=function(){function t(t,n){this.N=t,this.root=n||Af.EMPTY}return t.prototype.me=function(n,i){return new t(this.N,this.root.me(n,i,this.N).Ae(null,null,Af.Pe,null,null))},t.prototype.remove=function(n){return new t(this.N,this.root.remove(n,this.N).Ae(null,null,Af.Pe,null,null))},t.prototype.get=function(t){for(var n=this.root;!n.B();){var i=this.N(t,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.B();){var e=this.N(t,i.key);if(0===e)return n+i.left.size;e<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(n,i){return t(n,i),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(n,i){return t.push(n+":"+i),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Tf(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Tf(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Tf(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Tf(this.root,t,this.N,!0)},t}(),Tf=function(){function t(t,n,i,e){this.Ce=e,this.Fe=[];for(var r=1;!t.B();)if(r=n?i(t.key,n):1,e&&(r*=-1),r<0)t=this.Ce?t.left:t.right;else{if(0===r){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),n={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return n},t.prototype.$e=function(){return this.Fe.length>0},t.prototype.ke=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),Af=function(){function t(n,i,e,r,o){this.key=n,this.value=i,this.color=null!=e?e:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.Ae=function(n,i,e,r,o){return new t(null!=n?n:this.key,null!=i?i:this.value,null!=e?e:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.me=function(t,n,i){var e=this,r=i(t,e.key);return(e=r<0?e.Ae(null,null,null,e.left.me(t,n,i),null):0===r?e.Ae(null,n,null,null,null):e.Ae(null,null,null,null,e.right.me(t,n,i))).Me()},t.prototype.Le=function(){if(this.left.B())return t.EMPTY;var n=this;return n.left.Oe()||n.left.left.Oe()||(n=n.xe()),(n=n.Ae(null,null,null,n.left.Le(),null)).Me()},t.prototype.remove=function(n,i){var e,r=this;if(i(n,r.key)<0)r.left.B()||r.left.Oe()||r.left.left.Oe()||(r=r.xe()),r=r.Ae(null,null,null,r.left.remove(n,i),null);else{if(r.left.Oe()&&(r=r.Be()),r.right.B()||r.right.Oe()||r.right.left.Oe()||(r=r.qe()),0===i(n,r.key)){if(r.right.B())return t.EMPTY;e=r.right.min(),r=r.Ae(e.key,e.value,null,null,r.right.Le())}r=r.Ae(null,null,null,null,r.right.remove(n,i))}return r.Me()},t.prototype.Oe=function(){return this.color},t.prototype.Me=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.Ue()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Be()),t.left.Oe()&&t.right.Oe()&&(t=t.Qe()),t},t.prototype.xe=function(){var t=this.Qe();return t.right.left.Oe()&&(t=(t=(t=t.Ae(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.Oe()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var n=this.Ae(null,null,t.RED,null,this.right.left);return this.right.Ae(null,null,this.color,n,null)},t.prototype.Be=function(){var n=this.Ae(null,null,t.RED,this.left.right,null);return this.left.Ae(null,null,this.color,null,n)},t.prototype.Qe=function(){var t=this.left.Ae(null,null,!this.left.color,null,null),n=this.right.Ae(null,null,!this.right.color,null,null);return this.Ae(null,null,!this.color,t,n)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.Oe()&&this.left.Oe())throw cl();if(this.right.Oe())throw cl();var t=this.left.je();if(t!==this.right.je())throw cl();return t+(this.Oe()?0:1)},t}();Af.EMPTY=null,Af.RED=!0,Af.Pe=!1,Af.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw cl()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw cl()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw cl()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw cl()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw cl()},enumerable:!0,configurable:!0}),t.prototype.Ae=function(t,n,i,e,r){return this},t.prototype.me=function(t,n,i){return new Af(t,n)},t.prototype.remove=function(t,n){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kf=function(){function t(t){this.N=t,this.data=new If(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(n,i){return t(n),!1}))},t.prototype.Ke=function(t,n){for(var i=this.data.ve(t[0]);i.$e();){var e=i.Ne();if(this.N(e.key,t[1])>=0)return;n(e.key)}},t.prototype.Ge=function(t,n){var i;for(i=void 0!==n?this.data.ve(n):this.data.be();i.$e();)if(!t(i.Ne().key))return},t.prototype.ze=function(t){var n=this.data.ve(t);return n.$e()?n.Ne().key:null},t.prototype.be=function(){return new Sf(this.data.be())},t.prototype.ve=function(t){return new Sf(this.data.ve(t))},t.prototype.add=function(t){return this.Ae(this.data.remove(t).me(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.Ae(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach((function(t){n=n.add(t)})),n},t.prototype.isEqual=function(n){if(!(n instanceof t))return!1;if(this.size!==n.size)return!1;for(var i=this.data.be(),e=n.data.be();i.$e();){var r=i.Ne().key,o=e.Ne().key;if(0!==this.N(r,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(n){t.push(n)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(n){return t.push(n)})),"SortedSet("+t.toString()+")"},t.prototype.Ae=function(n){var i=new t(this.N);return i.data=n,i},t}(),Sf=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.$e=function(){return this.Ye.$e()},t}(),Of=new If(dh.N);function Nf(){return Of}function Rf(){return Nf()}var Cf=new If(dh.N);function Df(){return Cf}var Pf=new If(dh.N);function Mf(){return Pf}var jf=new kf(dh.N);function Lf(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=jf,e=0,r=t;e<r.length;e++){var o=r[e];i=i.add(o)}return i}var Ff=new kf(dl);function Uf(){return Ff}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function t(t){this.N=t?function(n,i){return t(n,i)||dh.N(n.key,i.key)}:function(t,n){return dh.N(t.key,n.key)},this.Je=Df(),this.Xe=new If(this.N)}return t.Ze=function(n){return new t(n.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var n=this.Je.get(t);return n?this.Xe.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(n,i){return t(n),!1}))},t.prototype.add=function(t){var n=this.delete(t.key);return n.Ae(n.Je.me(t.key,t),n.Xe.me(t,null))},t.prototype.delete=function(t){var n=this.get(t);return n?this.Ae(this.Je.remove(t),this.Xe.remove(n)):this},t.prototype.isEqual=function(n){if(!(n instanceof t))return!1;if(this.size!==n.size)return!1;for(var i=this.Xe.be(),e=n.Xe.be();i.$e();){var r=i.Ne().key,o=e.Ne().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(n){t.push(n.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.Ae=function(n,i){var e=new t;return e.N=this.N,e.Je=n,e.Xe=i,e},t}(),zf=function(){function t(){this.ts=new If(dh.N)}return t.prototype.track=function(t){var n=t.doc.key,i=this.ts.get(n);i?0!==t.type&&3===i.type?this.ts=this.ts.me(n,t):3===t.type&&1!==i.type?this.ts=this.ts.me(n,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.ts=this.ts.me(n,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.ts=this.ts.me(n,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.ts=this.ts.remove(n):1===t.type&&2===i.type?this.ts=this.ts.me(n,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.ts=this.ts.me(n,{type:2,doc:t.doc}):cl():this.ts=this.ts.me(n,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(n,i){t.push(i)})),t},t}(),Vf=function(){function t(t,n,i,e,r,o,s,u){this.query=t,this.docs=n,this.ss=i,this.docChanges=e,this.ns=r,this.fromCache=o,this.rs=s,this.hs=u}return t.os=function(n,i,e,r){var o=[];return i.forEach((function(t){o.push({type:0,doc:t})})),new t(n,i,Bf.Ze(i),o,e,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var e=0;e<n.length;e++)if(n[e].type!==i[e].type||!n[e].doc.isEqual(i[e].doc))return!1;return!0},t}(),qf=function(){function t(t,n,i,e,r){this.Ee=t,this.as=n,this.us=i,this.cs=e,this._s=r}return t.ls=function(n,i){var e=new Map;return e.set(n,Gf.ds(n,i)),new t(ah.min(),e,Uf(),Nf(),Lf())},t}(),Gf=function(){function t(t,n,i,e,r){this.resumeToken=t,this.fs=n,this.Ts=i,this.Es=e,this.Is=r}return t.ds=function(n,i){return new t(gh.ht,i,Lf(),Lf(),Lf())},t}(),$f=function(t,n,i,e){this.ws=t,this.removedTargetIds=n,this.key=i,this.Rs=e},Wf=function(t,n){this.targetId=t,this.ms=n},Hf=function(t,n,i,e){void 0===i&&(i=gh.ht),void 0===e&&(e=null),this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=e},Xf=function(){function t(){this.As=0,this.Ps=Qf(),this.Vs=gh.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.As},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=Lf(),n=Lf(),i=Lf();return this.Ps.forEach((function(e,r){switch(r){case 0:t=t.add(e);break;case 2:n=n.add(e);break;case 1:i=i.add(e);break;default:cl()}})),new Gf(this.Vs,this.gs,t,n,i)},t.prototype.Ds=function(){this.ps=!1,this.Ps=Qf()},t.prototype.Cs=function(t,n){this.ps=!0,this.Ps=this.Ps.me(t,n)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.As+=1},t.prototype.$s=function(){this.As-=1},t.prototype.ks=function(){this.ps=!0,this.gs=!0},t}(),Yf=function(){function t(t){this.Ms=t,this.Ls=new Map,this.Os=Nf(),this.xs=Kf(),this.Bs=new kf(dl)}return t.prototype.qs=function(t){for(var n=0,i=t.ws;n<i.length;n++){var e=i[n];t.Rs instanceof uf?this.Us(e,t.Rs):t.Rs instanceof af&&this.Qs(e,t.key,t.Rs)}for(var r=0,o=t.removedTargetIds;r<o.length;r++){var s=o[r];this.Qs(s,t.key,t.Rs)}},t.prototype.Ws=function(t){var n=this;this.js(t,(function(i){var e=n.Ks(i);switch(t.state){case 0:n.Gs(i)&&e.vs(t.resumeToken);break;case 1:e.$s(),e.ys||e.Ds(),e.vs(t.resumeToken);break;case 2:e.$s(),e.ys||n.removeTarget(i);break;case 3:n.Gs(i)&&(e.ks(),e.vs(t.resumeToken));break;case 4:n.Gs(i)&&(n.zs(i),e.vs(t.resumeToken));break;default:cl()}}))},t.prototype.js=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.Ls.forEach((function(t,e){i.Gs(e)&&n(e)}))},t.prototype.Hs=function(t){var n=t.targetId,i=t.ms.count,e=this.Ys(n);if(e){var r=e.target;if(r.Ot())if(0===i){var o=new dh(r.path);this.Qs(n,o,new af(o,ah.min()))}else hl(1===i);else this.Js(n)!==i&&(this.zs(n),this.Bs=this.Bs.add(n))}},t.prototype.Xs=function(t){var n=this,i=new Map;this.Ls.forEach((function(e,r){var o=n.Ys(r);if(o){if(e.fs&&o.target.Ot()){var s=new dh(o.target.path);null!==n.Os.get(s)||n.Zs(r,s)||n.Qs(r,s,new af(s,t))}e.bs&&(i.set(r,e.Ss()),e.Ds())}}));var e=Lf();this.xs.forEach((function(t,i){var r=!0;i.Ge((function(t){var i=n.Ys(t);return!i||2===i.Te||(r=!1,!1)})),r&&(e=e.add(t))}));var r=new qf(t,i,this.Bs,this.Os,e);return this.Os=Nf(),this.xs=Kf(),this.Bs=new kf(dl),r},t.prototype.Us=function(t,n){if(this.Gs(t)){var i=this.Zs(t,n.key)?2:0;this.Ks(t).Cs(n.key,i),this.Os=this.Os.me(n.key,n),this.xs=this.xs.me(n.key,this.ti(n.key).add(t))}},t.prototype.Qs=function(t,n,i){if(this.Gs(t)){var e=this.Ks(t);this.Zs(t,n)?e.Cs(n,1):e.Fs(n),this.xs=this.xs.me(n,this.ti(n).delete(t)),i&&(this.Os=this.Os.me(n,i))}},t.prototype.removeTarget=function(t){this.Ls.delete(t)},t.prototype.Js=function(t){var n=this.Ks(t).Ss();return this.Ms.ei(t).size+n.Ts.size-n.Is.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var n=this.Ls.get(t);return n||(n=new Xf,this.Ls.set(t,n)),n},t.prototype.ti=function(t){var n=this.xs.get(t);return n||(n=new kf(dl),this.xs=this.xs.me(t,n)),n},t.prototype.Gs=function(t){var n=null!==this.Ys(t);return n||sl("WatchChangeAggregator","Detected inactive target",t),n},t.prototype.Ys=function(t){var n=this.Ls.get(t);return n&&n.ys?null:this.Ms.si(t)},t.prototype.zs=function(t){var n=this;this.Ls.set(t,new Xf),this.Ms.ei(t).forEach((function(i){n.Qs(t,i,null)}))},t.prototype.Zs=function(t,n){return this.Ms.ei(t).has(n)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){return new If(dh.N)}function Qf(){return new If(dh.N)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf={asc:"ASCENDING",desc:"DESCENDING"},Zf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tl=function(){function t(t,n){this.ii=t,this.options=n}return t.prototype.ni=function(t){var n=void 0===t.code?th.UNKNOWN:Ef(t.code);return new nh(n,t.message||"")},t.prototype.ri=function(t){return this.options.hi||bh(t)?t:{value:t}},t.prototype.oi=function(t){var n;return bh(n="object"==typeof t?t.value:t)?null:n},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}},t.prototype.ai=function(t){return xh(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var n=Nh(t);return new uh(n.seconds,n.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(hl(void 0===t||"string"==typeof t),gh.fromBase64String(t||"")):(hl(void 0===t||t instanceof Uint8Array),gh.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return hl(!!t),ah.v(this.v(t))},t.prototype._i=function(t,n){return this.li(n||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var n=hh.K(t);return hl(nl(n)),n},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var n=this.di(t);return hl(n.get(1)===this.ii.projectId),hl(!n.get(3)&&!this.ii.database||n.get(3)===this.ii.database),new dh(this.Ti(n))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.Ii=function(t){var n=this.di(t);return 4===n.length?hh.G:this.Ti(n)},Object.defineProperty(t.prototype,"wi",{get:function(){return new hh(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new hh(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return hl(t.length>4&&"documents"===t.get(4)),t.k(5)},t.prototype.Ri=function(t,n){return{name:this.fi(t),fields:n.proto.mapValue.fields}},t.prototype.mi=function(t){return{name:this.fi(t.key),fields:t.Mt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.Ai=function(t,n){var i=this.Z(t.name),e=this.fromVersion(t.updateTime),r=new tf({mapValue:{fields:t.fields}});return new uf(i,e,r,{hasCommittedMutations:!!n})},t.prototype.Pi=function(t){hl(!!t.found),t.found.name,t.found.updateTime;var n=this.Z(t.found.name),i=this.fromVersion(t.found.updateTime),e=new tf({mapValue:{fields:t.found.fields}});return new uf(n,i,e,{})},t.prototype.Vi=function(t){hl(!!t.missing),hl(!!t.readTime);var n=this.Z(t.missing),i=this.fromVersion(t.readTime);return new af(n,i)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):cl()},t.prototype.pi=function(t){var n;if("targetChange"in t){t.targetChange;var i=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),e=t.targetChange.targetIds||[],r=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.ni(o);n=new Hf(i,e,r,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var a=this.Z(u.document.name),c=this.fromVersion(u.document.updateTime),h=new tf({mapValue:{fields:u.document.fields}}),f=new uf(a,c,h,{}),l=u.targetIds||[],d=u.removedTargetIds||[];n=new $f(l,d,f.key,f)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var v=this.Z(m.document),p=m.readTime?this.fromVersion(m.readTime):ah.min(),g=new af(v,p),b=m.removedTargetIds||[];n=new $f([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=this.Z(w.document),y=w.removedTargetIds||[];n=new $f([],y,x,null)}else{if(!("filter"in t))return cl();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new yf(E),T=_.targetId;n=new Wf(T,I)}return n},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:cl()},t.prototype.bi=function(t){if(!("targetChange"in t))return ah.min();var n=t.targetChange;return n.targetIds&&n.targetIds.length?ah.min():n.readTime?this.fromVersion(n.readTime):ah.min()},t.prototype.vi=function(t){var n,i=this;if(t instanceof Yh)n={update:this.Ri(t.key,t.value)};else if(t instanceof Jh)n={delete:this.fi(t.key)};else if(t instanceof Kh)n={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof Qh)n={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return i.Di(t)}))}};else{if(!(t instanceof Zh))return cl();n={verify:this.fi(t.key)}}return t.Rt.Tt||(n.currentDocument=this.Ci(t.Rt)),n},t.prototype.Fi=function(t){var n=this,i=t.currentDocument?this.Ni(t.currentDocument):Hh.ft();if(t.update){t.update.name;var e=this.Z(t.update.name),r=new tf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.$i(t.updateMask);return new Kh(e,r,o,i)}return new Yh(e,r,i)}if(t.delete){var s=this.Z(t.delete);return new Jh(s,i)}if(t.transform){var u=this.Z(t.transform.document),a=t.transform.fieldTransforms.map((function(t){return n.ki(t)}));return hl(!0===i.exists),new Qh(u,a)}if(t.verify){var c=this.Z(t.verify);return new Zh(c,i)}return cl()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cl()},t.prototype.Ni=function(t){return void 0!==t.updateTime?Hh.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Hh.exists(t.exists):Hh.ft()},t.prototype.Mi=function(t,n){var i=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(n);i.isEqual(ah.min())&&(i=this.fromVersion(n));var e=null;return t.transformResults&&t.transformResults.length>0&&(e=t.transformResults),new Wh(i,e)},t.prototype.Li=function(t,n){var i=this;return t&&t.length>0?(hl(void 0!==n),t.map((function(t){return i.Mi(t,n)}))):[]},t.prototype.Di=function(t){var n=t.transform;if(n instanceof Uh)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bh)return{fieldPath:t.field.j(),appendMissingElements:{values:n.elements}};if(n instanceof zh)return{fieldPath:t.field.j(),removeAllFromArray:{values:n.elements}};if(n instanceof Vh)return{fieldPath:t.field.j(),increment:n.ct};throw cl()},t.prototype.ki=function(t){var n=null;if("setToServerValue"in t)hl("REQUEST_TIME"===t.setToServerValue),n=Uh.instance;else if("appendMissingElements"in t){var i=t.appendMissingElements.values||[];n=new Bh(i)}else if("removeAllFromArray"in t){var e=t.removeAllFromArray.values||[];n=new zh(e)}else"increment"in t?n=new Vh(this,t.increment):cl();var r=lh.X(t.fieldPath);return new $h(r,n)},t.prototype.Oi=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.xi=function(t){hl(1===t.documents.length);var n=t.documents[0];return ff.Wt(this.Ii(n)).ee()},t.prototype.Bi=function(t){var n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=this.Ei(i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=this.Ei(i.M()),n.structuredQuery.from=[{collectionId:i.O()}]);var e=this.qi(t.filters);e&&(n.structuredQuery.where=e);var r=this.Ui(t.orderBy);r&&(n.structuredQuery.orderBy=r);var o=this.ri(t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(n.structuredQuery.endAt=this.Qi(t.endAt)),n},t.prototype.Wi=function(t){var n=this.Ii(t.parent),i=t.structuredQuery,e=i.from?i.from.length:0,r=null;if(e>0){hl(1===e);var o=i.from[0];o.allDescendants?r=o.collectionId:n=n.child(o.collectionId)}var s=[];i.where&&(s=this.ji(i.where));var u=[];i.orderBy&&(u=this.Ki(i.orderBy));var a=null;i.limit&&(a=this.oi(i.limit));var c=null;i.startAt&&(c=this.Gi(i.startAt));var h=null;return i.endAt&&(h=this.Gi(i.endAt)),new ff(n,r,u,s,a,"F",c,h).ee()},t.prototype.zi=function(t){var n=this.Hi(t.Te);return null==n?null:{"goog-listen-tags":n}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cl()}},t.prototype.ee=function(t){var n,i=t.target;return(n=i.Ot()?{documents:this.Oi(i)}:{query:this.Bi(i)}).targetId=t.targetId,t.resumeToken.rt()>0&&(n.resumeToken=this.ui(t.resumeToken)),n},t.prototype.qi=function(t){var n=this;if(0!==t.length){var i=t.map((function(t){return t instanceof lf?n.Yi(t):cl()}));return 1===i.length?i[0]:{compositeFilter:{op:"AND",filters:i}}}},t.prototype.ji=function(t){var n=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return n.ji(t)})).reduce((function(t,n){return t.concat(n)})):cl():[]},t.prototype.Ui=function(t){var n=this;if(0!==t.length)return t.map((function(t){return n.Zi(t)}))},t.prototype.Ki=function(t){var n=this;return t.map((function(t){return n.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){var n=!!t.before,i=t.values||[];return new bf(i,n)},t.prototype.en=function(t){return Jf[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return Zf[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return cl()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return lh.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new wf(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return lf.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if(Lh(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(jh(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var n=this.on(t.unaryFilter.field);return lf.create(n,"==",{doubleValue:NaN});case"IS_NULL":var i=this.on(t.unaryFilter.field);return lf.create(i,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return cl()}},t.prototype.Si=function(t){var n=[];return t.fields.forEach((function(t){return n.push(t.j())})),{fieldPaths:n}},t.prototype.$i=function(t){var n=t.fieldPaths||[];return new Gh(n.map((function(t){return lh.X(t)})))},t}();function nl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var il=function(){function t(){}return t.an=function(n){t.platform&&cl(),t.platform=n},t.nt=function(){return t.platform||cl(),t.platform},t}(),el=new Ri("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(){return el.logLevel}function ol(t){el.logLevel=t}function sl(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(el.logLevel<=Ii.DEBUG){var e=n.map(al);el.debug.apply(el,pt(["Firestore ("+Jc+"): "+t],e))}}function ul(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(el.logLevel<=Ii.ERROR){var e=n.map(al);el.error.apply(el,pt(["Firestore ("+Jc+"): "+t],e))}}function al(t){if("string"==typeof t)return t;var n=il.nt();try{return n.un(t)}catch(n){return t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){void 0===t&&(t="Unexpected state");var n="FIRESTORE ("+Jc+") INTERNAL ASSERTION FAILED: "+t;throw ul(n),new Error(n)}function hl(t,n){t||cl()}function fl(t,n){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ll=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var e=il.nt()._n(40),r=0;r<e.length;++r)i.length<20&&e[r]<n&&(i+=t.charAt(e[r]%t.length));return i},t}();function dl(t,n){return t<n?-1:t>n?1:0}function ml(t,n,i){return t.length===n.length&&t.every((function(t,e){return i(t,n[e])}))}function vl(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl=function(t,n,i,e,r){this.ii=t,this.persistenceKey=n,this.host=i,this.ssl=e,this.forceLongPolling=r},gl=function(){function t(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.projectId===this.projectId&&n.database===this.database},t.prototype.S=function(t){return dl(this.projectId,t.projectId)||dl(this.database,t.database)},t}(),bl=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var n=this.dn(t),i=this.fn[n];if(void 0!==i)for(var e=0,r=i;e<r.length;e++){var o=r[e],s=o[0],u=o[1];if(s.isEqual(t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,n){var i=this.dn(t),e=this.fn[i];if(void 0!==e){for(var r=0;r<e.length;r++)if(e[r][0].isEqual(t))return void(e[r]=[t,n]);e.push([t,n])}else this.fn[i]=[[t,n]]},t.prototype.delete=function(t){var n=this.dn(t),i=this.fn[n];if(void 0===i)return!1;for(var e=0;e<i.length;e++)if(i[e][0].isEqual(t))return 1===i.length?delete this.fn[n]:i.splice(e,1),!0;return!1},t.prototype.forEach=function(t){vh(this.fn,(function(n,i){for(var e=0,r=i;e<r.length;e++){var o=r[e],s=o[0],u=o[1];t(s,u)}}))},t.prototype.B=function(){return ph(this.fn)},t}(),wl=function(){function t(t,n,i,e){this.batchId=t,this.Tn=n,this.baseMutations=i,this.mutations=e}return t.prototype.at=function(t,n,i){for(var e=i.En,r=0;r<this.mutations.length;r++){var o=this.mutations[r];if(o.key.isEqual(t)){var s=e[r];n=o.at(n,s)}}return n},t.prototype.ot=function(t,n){for(var i=0,e=this.baseMutations;i<e.length;i++){var r=e[i];r.key.isEqual(t)&&(n=r.ot(n,n,this.Tn))}for(var o=n,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(n=a.ot(n,o,this.Tn))}return n},t.prototype.In=function(t){var n=this,i=t;return this.mutations.forEach((function(e){var r=n.ot(e.key,t.get(e.key));r&&(i=i.me(e.key,r))})),i},t.prototype.keys=function(){return this.mutations.reduce((function(t,n){return t.add(n.key)}),Lf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ml(this.mutations,t.mutations,(function(t,n){return t.isEqual(n)}))&&ml(this.baseMutations,t.baseMutations,(function(t,n){return t.isEqual(n)}))},t}(),xl=function(){function t(t,n,i,e,r){this.batch=t,this.wn=n,this.En=i,this.streamToken=e,this.Rn=r}return t.from=function(n,i,e,r){hl(n.mutations.length===e.length);for(var o=Mf(),s=n.mutations,u=0;u<s.length;u++)o=o.me(s[u].key,e[u].version);return new t(n,i,e,r,o)},t}(),yl=function(){function t(t){var n=this;this.mn=null,this.An=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t((function(t){n.Pn=!0,n.result=t,n.mn&&n.mn(t)}),(function(t){n.Pn=!0,n.error=t,n.An&&n.An(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(n,i){var e=this;return this.Vn&&cl(),this.Vn=!0,this.Pn?this.error?this.gn(i,this.error):this.pn(n,this.result):new t((function(t,r){e.mn=function(i){e.pn(n,i).next(t,r)},e.An=function(n){e.gn(i,n).next(t,r)}}))},t.prototype.yn=function(){var t=this;return new Promise((function(n,i){t.next(n,i)}))},t.prototype.bn=function(n){try{var i=n();return i instanceof t?i:t.resolve(i)}catch(n){return t.reject(n)}},t.prototype.pn=function(n,i){return n?this.bn((function(){return n(i)})):t.resolve(i)},t.prototype.gn=function(n,i){return n?this.bn((function(){return n(i)})):t.reject(i)},t.resolve=function(n){return new t((function(t,i){t(n)}))},t.reject=function(n){return new t((function(t,i){i(n)}))},t.vn=function(n){return new t((function(t,i){var e=0,r=0,o=!1;n.forEach((function(n){++e,n.next((function(){++r,o&&r===e&&t()}),(function(t){return i(t)}))})),o=!0,r===e&&t()}))},t.Sn=function(n){for(var i=t.resolve(!1),e=function(n){i=i.next((function(i){return i?t.resolve(i):n()}))},r=0,o=n;r<o.length;r++)e(o[r]);return i},t.forEach=function(t,n){var i=this,e=[];return t.forEach((function(t,r){e.push(n.call(i,t,r))})),this.vn(e)},t}(),_l=function(){function t(){this.Dn=new bl((function(t){return t.toString()})),this.Cn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),t.prototype.Nn=function(t,n){this.$n(),this.readTime=n,this.Dn.set(t.key,t)},t.prototype.kn=function(t,n){this.$n(),n&&(this.readTime=n),this.Dn.set(t,null)},t.prototype.Mn=function(t,n){this.$n();var i=this.Dn.get(n);return void 0!==i?yl.resolve(i):this.Ln(t,n)},t.prototype.getEntries=function(t,n){return this.On(t,n)},t.prototype.apply=function(t){return this.$n(),this.Cn=!0,this.xn(t)},t.prototype.$n=function(){},t}(),El="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Il=function(){function t(){this.Bn=[]}return t.prototype.qn=function(t){this.Bn.push(t)},t.prototype.Un=function(){this.Bn.forEach((function(t){return t()}))},t}(),Tl=function(){function t(t,n,i){this.Qn=t,this.Wn=n,this.jn=i}return t.prototype.Kn=function(t,n){var i=this;return this.Wn.Gn(t,n).next((function(e){return i.zn(t,n,e)}))},t.prototype.zn=function(t,n,i){return this.Qn.Mn(t,n).next((function(t){for(var e=0,r=i;e<r.length;e++)t=r[e].ot(n,t);return t}))},t.prototype.Hn=function(t,n,i){var e=Rf();return n.forEach((function(t,n){for(var r=0,o=i;r<o.length;r++)n=o[r].ot(t,n);e=e.me(t,n)})),e},t.prototype.Yn=function(t,n){var i=this;return this.Qn.getEntries(t,n).next((function(n){return i.Jn(t,n)}))},t.prototype.Jn=function(t,n){var i=this;return this.Wn.Xn(t,n).next((function(e){var r=i.Hn(t,n,e),o=Nf();return r.forEach((function(t,n){n||(n=new af(t,ah.min())),o=o.me(t,n)})),o}))},t.prototype.Zn=function(t,n,i){return n.Ot()?this.tr(t,n.path):n._e()?this.er(t,n,i):this.sr(t,n,i)},t.prototype.tr=function(t,n){return this.Kn(t,new dh(n)).next((function(t){var n=Df();return t instanceof uf&&(n=n.me(t.key,t)),n}))},t.prototype.er=function(t,n,i){var e=this,r=n.collectionGroup,o=Df();return this.jn.ir(t,r).next((function(s){return yl.forEach(s,(function(s){var u=n.Zt(s.child(r));return e.sr(t,u,i).next((function(t){t.forEach((function(t,n){o=o.me(t,n)}))}))})).next((function(){return o}))}))},t.prototype.sr=function(t,n,i){var e,r,o=this;return this.Qn.Zn(t,n,i).next((function(i){return e=i,o.Wn.nr(t,n)})).next((function(n){return r=n,o.rr(t,r,e).next((function(t){e=t;for(var n=0,i=r;n<i.length;n++)for(var o=i[n],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,h=e.get(c),f=a.ot(h,h,o.Tn);e=f instanceof uf?e.me(c,f):e.remove(c)}}))})).next((function(){return e.forEach((function(t,i){n.matches(i)||(e=e.remove(t))})),e}))},t.prototype.rr=function(t,n,i){for(var e=Lf(),r=0,o=n;r<o.length;r++)for(var s=0,u=o[r].mutations;s<u.length;s++){var a=u[s];a instanceof Kh&&null===i.get(a.key)&&(e=e.add(a.key))}var c=i;return this.Qn.getEntries(t,e).next((function(t){return t.forEach((function(t,n){null!==n&&n instanceof uf&&(c=c.me(t,n))})),c}))},t}(),Al=function(){function t(t,n,i,e){this.targetId=t,this.fromCache=n,this.hr=i,this.or=e}return t.ar=function(n,i){for(var e=Lf(),r=Lf(),o=0,s=i.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:e=e.add(u.doc.key);break;case 1:r=r.add(u.doc.key)}}return new t(n,i.fromCache,e,r)},t}(),kl=function(){function t(t,n){var i=this;this.previousValue=t,n&&(n.ur=function(t){return i.cr(t)},this._r=function(t){return n.lr(t)})}return t.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},t}();kl.dr=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sl=function(){var t=this;this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))},Ol=function(){function t(t,n,i,e,r){void 0===i&&(i=1e3),void 0===e&&(e=1.5),void 0===r&&(r=6e4),this.Tr=t,this.Er=n,this.Ir=i,this.wr=e,this.Rr=r,this.mr=0,this.Ar=null,this.Pr=Date.now(),this.reset()}return t.prototype.reset=function(){this.mr=0},t.prototype.Vr=function(){this.mr=this.Rr},t.prototype.gr=function(t){var n=this;this.cancel();var i=Math.floor(this.mr+this.pr()),e=Math.max(0,Date.now()-this.Pr),r=Math.max(0,i-e);r>0&&sl("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.mr+" ms, delay with jitter: "+i+" ms, last attempt: "+e+" ms ago)"),this.Ar=this.Tr.yr(this.Er,r,(function(){return n.Pr=Date.now(),t()})),this.mr*=this.wr,this.mr<this.Ir&&(this.mr=this.Ir),this.mr>this.Rr&&(this.mr=this.Rr)},t.prototype.cancel=function(){null!==this.Ar&&(this.Ar.cancel(),this.Ar=null)},t.prototype.pr=function(){return(Math.random()-.5)*this.mr},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){for(var n="",i=0;i<t.length;i++)n.length>0&&(n=Cl(n)),n=Rl(t.get(i),n);return Cl(n)}function Rl(t,n){for(var i=n,e=t.length,r=0;r<e;r++){var o=t.charAt(r);switch(o){case"\0":i+="";break;case"":i+="";break;default:i+=o}}return i}function Cl(t){return t+""}function Dl(t){var n=t.length;if(hl(n>=2),2===n)return hl(""===t.charAt(0)&&""===t.charAt(1)),hh.G;for(var i=n-2,e=[],r="",o=0;o<n;){var s=t.indexOf("",o);switch((s<0||s>i)&&cl(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===r.length?a=u:(a=r+=u,r=""),e.push(a);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:cl()}o=s+2}return new hh(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=function(){function t(){this.br=new Ml}return t.prototype.vr=function(t,n){return this.br.add(n),yl.resolve()},t.prototype.ir=function(t,n){return yl.resolve(this.br.getEntries(n))},t}(),Ml=function(){function t(){this.index={}}return t.prototype.add=function(t){var n=t.O(),i=t.M(),e=this.index[n]||new kf(hh.N),r=!e.has(i);return this.index[n]=e.add(i),r},t.prototype.has=function(t){var n=t.O(),i=t.M(),e=this.index[n];return e&&e.has(i)},t.prototype.getEntries=function(t){return(this.index[t]||new kf(hh.N)).W()},t}(),jl=function(){function t(){this.Sr=new Ml}return t.prototype.vr=function(t,n){var i=this;if(!this.Sr.has(n)){var e=n.O(),r=n.M();t.qn((function(){i.Sr.add(n)}));var o={collectionId:e,parent:Nl(r)};return Ll(t).put(o)}return yl.resolve()},t.prototype.ir=function(t,n){var i=[],e=IDBKeyRange.bound([n,""],[vl(n),""],!1,!0);return Ll(t).Dr(e).next((function(t){for(var e=0,r=t;e<r.length;e++){var o=r[e];if(o.collectionId!==n)break;i.push(Dl(o.parent))}return i}))},t}();function Ll(t){return Jl.Cr(t,Ed.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fl=function(){function t(t,n){this.serializer=t,this.jn=n}return t.prototype.Nn=function(t,n,i){return Bl(t).put(zl(n),i)},t.prototype.kn=function(t,n){var i=Bl(t),e=zl(n);return i.delete(e)},t.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next((function(e){return e.byteSize+=n,i.Fr(t,e)}))},t.prototype.Mn=function(t,n){var i=this;return Bl(t).get(zl(n)).next((function(t){return i.Nr(t)}))},t.prototype.$r=function(t,n){var i=this;return Bl(t).get(zl(n)).next((function(t){var n=i.Nr(t);return n?{kr:n,size:Vl(t)}:null}))},t.prototype.getEntries=function(t,n){var i=this,e=Rf();return this.Mr(t,n,(function(t,n){var r=i.Nr(n);e=e.me(t,r)})).next((function(){return e}))},t.prototype.Lr=function(t,n){var i=this,e=Rf(),r=new If(dh.N);return this.Mr(t,n,(function(t,n){var o=i.Nr(n);o?(e=e.me(t,o),r=r.me(t,Vl(n))):(e=e.me(t,null),r=r.me(t,0))})).next((function(){return{Or:e,xr:r}}))},t.prototype.Mr=function(t,n,i){if(n.B())return yl.resolve();var e=IDBKeyRange.bound(n.first().path.W(),n.last().path.W()),r=n.be(),o=r.Ne();return Bl(t).Br({range:e},(function(t,n,e){for(var s=dh.st(t);o&&dh.N(o,s)<0;)i(o,null),o=r.Ne();o&&o.isEqual(s)&&(i(o,n),o=r.$e()?r.Ne():null),o?e.qr(o.path.W()):e.done()})).next((function(){for(;o;)i(o,null),o=r.$e()?r.Ne():null}))},t.prototype.Zn=function(t,n,i){var e=this,r=Df(),o=n.path.length+1,s={};if(i.isEqual(ah.min())){var u=n.path.W();s.range=IDBKeyRange.lowerBound(u)}else{var a=n.path.W(),c=this.serializer.Ur(i);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=bd.collectionReadTimeIndex}return Bl(t).Br(s,(function(t,i,s){if(t.length===o){var u=e.serializer.Qr(i);n.path.q(u.key.path)?u instanceof uf&&n.matches(u)&&(r=r.me(u.key,u)):s.done()}})).next((function(){return r}))},t.prototype.Wr=function(t,n){var i=this,e=Nf(),r=this.serializer.Ur(n),o=Bl(t),s=IDBKeyRange.lowerBound(r,!0);return o.Br({index:bd.readTimeIndex,range:s},(function(t,n){var o=i.serializer.Qr(n);e=e.me(o.key,o),r=n.readTime})).next((function(){return{jr:e,readTime:i.serializer.Kr(r)}}))},t.prototype.Gr=function(t){var n=this,i=Bl(t),e=ah.min();return i.Br({index:bd.readTimeIndex,reverse:!0},(function(t,i,r){i.readTime&&(e=n.serializer.Kr(i.readTime)),r.done()})).next((function(){return e}))},t.prototype.zr=function(n){return new t.Hr(this,!!n&&n.Yr)},t.prototype.Jr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ul(t).get(wd.key).next((function(t){return hl(!!t),t}))},t.prototype.Fr=function(t,n){return Ul(t).put(wd.key,n)},t.prototype.Nr=function(t){if(t){var n=this.serializer.Qr(t);return n instanceof af&&n.version.isEqual(ah.min())?null:n}return null},t}();function Ul(t){return Jl.Cr(t,wd.store)}function Bl(t){return Jl.Cr(t,bd.store)}function zl(t){return t.path.W()}function Vl(t){var n;if(t.document)n=t.document;else if(t.unknownDocument)n=t.unknownDocument;else{if(!t.noDocument)throw cl();n=t.noDocument}return JSON.stringify(n).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fl.Hr=function(t){function n(n,i){var e=this;return(e=t.call(this)||this).Xr=n,e.Yr=i,e.Zr=new bl((function(t){return t.toString()})),e}return at(n,t),n.prototype.xn=function(t){var n=this,i=[],e=0,r=new kf((function(t,n){return dl(t.j(),n.j())}));return this.Dn.forEach((function(o,s){var u=n.Zr.get(o);if(s){var a=n.Xr.serializer.th(s,n.readTime);r=r.add(o.path.M());var c=Vl(a);e+=c-u,i.push(n.Xr.Nn(t,o,a))}else if(e-=u,n.Yr){var h=n.Xr.serializer.th(new af(o,ah.min()),n.readTime);i.push(n.Xr.Nn(t,o,h))}else i.push(n.Xr.kn(t,o))})),r.forEach((function(e){i.push(n.Xr.jn.vr(t,e))})),i.push(this.Xr.updateMetadata(t,e)),yl.vn(i)},n.prototype.Ln=function(t,n){var i=this;return this.Xr.$r(t,n).next((function(t){return null===t?(i.Zr.set(n,0),null):(i.Zr.set(n,t.size),t.kr)}))},n.prototype.On=function(t,n){var i=this;return this.Xr.Lr(t,n).next((function(t){var n=t.Or;return t.xr.forEach((function(t,n){i.Zr.set(t,n)})),n}))},n}(_l);var ql=function(){function t(t){this.eh=t}return t.prototype.next=function(){return this.eh+=2,this.eh},t.sh=function(){return new t(0)},t.ih=function(){return new t(-1)},t}(),Gl=function(){function t(t,n){this.nh=t,this.serializer=n}return t.prototype.rh=function(t){var n=this;return this.hh(t).next((function(i){var e=new ql(i.highestTargetId);return i.highestTargetId=e.next(),n.oh(t,i).next((function(){return i.highestTargetId}))}))},t.prototype.ah=function(t){return this.hh(t).next((function(t){return ah.v(new uh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.uh=function(t){return Hl(t._h)},t.prototype.lh=function(t,n,i){var e=this;return this.hh(t).next((function(r){return r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.C()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),e.oh(t,r)}))},t.prototype.dh=function(t,n){var i=this;return this.fh(t,n).next((function(){return i.hh(t).next((function(e){return e.targetCount+=1,i.Th(n,e),i.oh(t,e)}))}))},t.prototype.Eh=function(t,n){return this.fh(t,n)},t.prototype.Ih=function(t,n){var i=this;return this.wh(t,n.targetId).next((function(){return $l(t).delete(n.targetId)})).next((function(){return i.hh(t)})).next((function(n){return hl(n.targetCount>0),n.targetCount-=1,i.oh(t,n)}))},t.prototype.Rh=function(t,n,i){var e=this,r=0,o=[];return $l(t).Br((function(s,u){var a=e.serializer.mh(u);a.sequenceNumber<=n&&null===i.get(a.targetId)&&(r++,o.push(e.Ih(t,a)))})).next((function(){return yl.vn(o)})).next((function(){return r}))},t.prototype.js=function(t,n){var i=this;return $l(t).Br((function(t,e){var r=i.serializer.mh(e);n(r)}))},t.prototype.hh=function(t){return Wl(t._h)},t.prototype.oh=function(t,n){return(i=t,Jl.Cr(i,_d.store)).put(_d.key,n);var i},t.prototype.fh=function(t,n){return $l(t).put(this.serializer.Ah(n))},t.prototype.Th=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},t.prototype.Ph=function(t){return this.hh(t).next((function(t){return t.targetCount}))},t.prototype.Vh=function(t,n){var i=this,e=n.canonicalId(),r=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),o=null;return $l(t).Br({range:r,index:xd.queryTargetsIndexName},(function(t,e,r){var s=i.serializer.mh(e);n.isEqual(s.target)&&(o=s,r.done())})).next((function(){return o}))},t.prototype.gh=function(t,n,i){var e=this,r=[],o=Xl(t);return n.forEach((function(n){var s=Nl(n.path);r.push(o.put(new yd(i,s))),r.push(e.nh.ph(t,i,n))})),yl.vn(r)},t.prototype.yh=function(t,n,i){var e=this,r=Xl(t);return yl.forEach(n,(function(n){var o=Nl(n.path);return yl.vn([r.delete([i,o]),e.nh.bh(t,i,n)])}))},t.prototype.wh=function(t,n){var i=Xl(t),e=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(e)},t.prototype.vh=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),e=Xl(t),r=Lf();return e.Br({range:i,Sh:!0},(function(t,n,i){var e=Dl(t[1]),o=new dh(e);r=r.add(o)})).next((function(){return r}))},t.prototype.Dh=function(t,n){var i=Nl(n.path),e=IDBKeyRange.bound([i],[vl(i)],!1,!0),r=0;return Xl(t).Br({index:yd.documentTargetsIndex,Sh:!0,range:e},(function(t,n,i){var e=t[0];t[1],0!==e&&(r++,i.done())})).next((function(){return r>0}))},t.prototype.si=function(t,n){var i=this;return $l(t).get(n).next((function(t){return t?i.serializer.mh(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){return Jl.Cr(t,xd.store)}function Wl(t){return kd.Cr(t,_d.store).get(_d.key).next((function(t){return hl(null!==t),t}))}function Hl(t){return Wl(t).next((function(t){return t.highestListenSequenceNumber}))}function Xl(t){return Jl.Cr(t,yd.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function t(t){this.Ch=t}return t.prototype.Qr=function(t){if(t.document)return this.Ch.Ai(t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=dh.st(t.noDocument.path),i=this.Fh(t.noDocument.readTime);return new af(n,i,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var e=dh.st(t.unknownDocument.path),r=this.Fh(t.unknownDocument.version);return new cf(e,r)}return cl()},t.prototype.th=function(t,n){var i=this.Ur(n),e=t.key.path.M().W();if(t instanceof uf){var r=this.Ch.mi(t),o=t.hasCommittedMutations;return new bd(null,null,r,o,i,e)}if(t instanceof af){var s=t.key.path.W(),u=this.Nh(t.version),a=t.hasCommittedMutations;return new bd(null,new pd(s,u),null,a,i,e)}if(t instanceof cf){var c=t.key.path.W(),h=this.Nh(t.version);return new bd(new gd(c,h),null,null,!0,i,e)}return cl()},t.prototype.Ur=function(t){var n=t.C();return[n.seconds,n.nanoseconds]},t.prototype.Kr=function(t){var n=new uh(t[0],t[1]);return ah.v(n)},t.prototype.Nh=function(t){var n=t.C();return new fd(n.seconds,n.nanoseconds)},t.prototype.Fh=function(t){var n=new uh(t.seconds,t.nanoseconds);return ah.v(n)},t.prototype.$h=function(t,n){var i=this,e=n.baseMutations.map((function(t){return i.Ch.vi(t)})),r=n.mutations.map((function(t){return i.Ch.vi(t)}));return new md(t,n.batchId,n.Tn.toMillis(),e,r)},t.prototype.kh=function(t){var n=this,i=(t.baseMutations||[]).map((function(t){return n.Ch.Fi(t)})),e=t.mutations.map((function(t){return n.Ch.Fi(t)})),r=uh.fromMillis(t.localWriteTimeMs);return new wl(t.batchId,r,i,e)},t.prototype.mh=function(t){var n,i=this.Fh(t.readTime),e=void 0!==t.lastLimboFreeSnapshotVersion?this.Fh(t.lastLimboFreeSnapshotVersion):ah.min();return n=void 0!==t.query.documents?this.Ch.xi(t.query):this.Ch.Wi(t.query),new xf(n,t.targetId,0,t.lastListenSequenceNumber,i,e,gh.fromBase64String(t.resumeToken))},t.prototype.Ah=function(t){var n,i=this.Nh(t.Ee),e=this.Nh(t.lastLimboFreeSnapshotVersion);n=t.target.Ot()?this.Ch.Oi(t.target):this.Ch.Bi(t.target);var r=t.resumeToken.toBase64();return new xd(t.targetId,t.target.canonicalId(),i,r,t.sequenceNumber,e,n)},t}(),Kl="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ql=function(t){function n(n,i){var e=this;return(e=t.call(this)||this)._h=n,e.Mh=i,e}return at(n,t),n}(Il),Jl=function(){function t(n,i,e,r,o,s,u,a){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=e,this.Tr=s,this.Lh=a,this.Oh=null,this.xh=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bh=null,this.inForeground=!1,this.qh=null,this.Uh=null,this.Qh=Number.NEGATIVE_INFINITY,this.Wh=function(t){return Promise.resolve()},!t.jh())throw new nh(th.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.nh=new nd(this,o),this.Kh=i+t.Gh,this.serializer=new Yl(u),this.document=r.document,this.zh=new Gl(this.nh,this.serializer),this.jn=new jl,this.Qn=new Fl(this.serializer,this.jn),!r.window||!r.window.localStorage)throw new nh(th.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.Hh=this.window.localStorage}return t.Cr=function(t,n){if(t instanceof Ql)return kd.Cr(t._h,n);throw cl()},t.prototype.start=function(){var t=this;return kd.Yh(this.Kh,cd,new hd(this.serializer)).then((function(n){return t.Jh=n,t.Xh()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new nh(th.FAILED_PRECONDITION,Kl);return t.Zh(),t.to(),t.eo(),t.Jh.runTransaction("readonly",[_d.store],(function(t){return Hl(t)}))})).then((function(n){t.Oh=new kl(n,t.Lh)})).then((function(){t.xh=!0})).catch((function(n){return t.Jh&&t.Jh.close(),Promise.reject(n)}))},t.prototype.so=function(t){var n=this;return this.Wh=function(i){return ft(n,void 0,void 0,(function(){return lt(this,(function(n){return this.io?[2,t(i)]:[2]}))}))},t(this.isPrimary)},t.prototype.no=function(t){var n=this;this.Jh.ro((function(i){return ft(n,void 0,void 0,(function(){return lt(this,(function(n){switch(n.label){case 0:return null===i.newVersion?[4,t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}))},t.prototype.ho=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.oo((function(){return ft(n,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.io?[4,this.Xh()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Xh=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(n){return td(n).put(new Td(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ao(n).next((function(n){n||(t.isPrimary=!1,t.Tr.oo((function(){return t.Wh(!1)})))}))})).next((function(){return t.uo(n)})).next((function(i){return t.isPrimary&&!i?t.co(n).next((function(){return!1})):!!i&&t._o(n).next((function(){return!0}))}))})).catch((function(n){if(!t.allowTabSynchronization){if(Nd(n))return sl("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;throw n}return sl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1})).then((function(n){t.isPrimary!==n&&t.Tr.oo((function(){return t.Wh(n)})),t.isPrimary=n}))},t.prototype.ao=function(t){var n=this;return Zl(t).get(ld.key).next((function(t){return yl.resolve(n.lo(t))}))},t.prototype.do=function(t){return td(t).delete(this.clientId)},t.prototype.fo=function(){return ft(this,void 0,void 0,(function(){var n=this;return lt(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.To(this.Qh,18e5)?[3,2]:(this.Qh=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var e=t.Cr(i,Td.store);return e.Dr().next((function(t){var i=n.Eo(t,18e5),r=t.filter((function(t){return-1===i.indexOf(t)}));return yl.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:i.sent().forEach((function(t){n.window.localStorage.removeItem(n.Io(t.clientId))})),i.label=2;case 2:return[2]}}))}))},t.prototype.eo=function(){var t=this;this.Uh=this.Tr.yr("client_metadata_refresh",4e3,(function(){return t.Xh().then((function(){return t.fo()})).then((function(){return t.eo()}))}))},t.prototype.lo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uo=function(t){var n=this;return Zl(t).get(ld.key).next((function(i){if(null!==i&&n.To(i.leaseTimestampMs,5e3)&&!n.wo(i.ownerId)){if(n.lo(i)&&n.networkEnabled)return!0;if(!n.lo(i)){if(!i.allowTabSynchronization)throw new nh(th.FAILED_PRECONDITION,Kl);return!1}}return!(!n.networkEnabled||!n.inForeground)||td(t).Dr().next((function(t){return void 0===n.Eo(t,5e3).find((function(t){if(n.clientId!==t.clientId){var i=!n.networkEnabled&&t.networkEnabled,e=!n.inForeground&&t.inForeground,r=n.networkEnabled===t.networkEnabled;if(i||e&&r)return!0}return!1}))}))})).next((function(t){return n.isPrimary!==t&&sl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ro=function(){return ft(this,void 0,void 0,(function(){var t=this;return lt(this,(function(n){switch(n.label){case 0:return this.xh=!1,this.mo(),this.Uh&&(this.Uh.cancel(),this.Uh=null),this.Ao(),this.Po(),[4,this.runTransaction("shutdown","readwrite",(function(n){return t.co(n).next((function(){return t.do(n)}))})).catch((function(t){sl("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return n.sent(),this.Jh.close(),this.Vo(),[2]}}))}))},t.prototype.Eo=function(t,n){var i=this;return t.filter((function(t){return i.To(t.updateTimeMs,n)&&!i.wo(t.clientId)}))},t.prototype.po=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(n){return td(n).Dr().next((function(n){return t.Eo(n,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(n){return ft(this,void 0,void 0,(function(){var i;return lt(this,(function(e){switch(e.label){case 0:return t.jh()?(i=n+t.Gh,[4,kd.delete(i)]):[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"io",{get:function(){return this.xh},enumerable:!0,configurable:!0}),t.prototype.yo=function(t){return ed.bo(t,this.serializer,this.jn,this.nh)},t.prototype.vo=function(){return this.zh},t.prototype.So=function(){return this.Qn},t.prototype.Do=function(){return this.jn},t.prototype.runTransaction=function(t,n,i){var e=this;sl("IndexedDbPersistence","Starting transaction:",t);var r,o="readonly"===n?"readonly":"readwrite";return this.Jh.runTransaction(o,Ad,(function(o){return r=new Ql(o,e.Oh?e.Oh.next():kl.dr),"readwrite-primary"===n?e.ao(r).next((function(t){return!!t||e.uo(r)})).next((function(n){if(!n)throw ul("Failed to obtain primary lease for action '"+t+"'."),e.isPrimary=!1,e.Tr.oo((function(){return e.Wh(!1)})),new nh(th.FAILED_PRECONDITION,El);return i(r)})).next((function(t){return e._o(r).next((function(){return t}))})):e.Co(r).next((function(){return i(r)}))})).then((function(t){return r.Un(),t}))},t.prototype.Co=function(t){var n=this;return Zl(t).get(ld.key).next((function(t){if(null!==t&&n.To(t.leaseTimestampMs,5e3)&&!n.wo(t.ownerId)&&!n.lo(t)&&(!n.allowTabSynchronization||!t.allowTabSynchronization))throw new nh(th.FAILED_PRECONDITION,Kl)}))},t.prototype._o=function(t){var n=new ld(this.clientId,this.allowTabSynchronization,Date.now());return Zl(t).put(ld.key,n)},t.jh=function(){return kd.jh()},t.Fo=function(t){var n=t.ii.projectId;return t.ii.ln||(n+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+n+"/"},t.prototype.co=function(t){var n=this,i=Zl(t);return i.get(ld.key).next((function(t){return n.lo(t)?(sl("IndexedDbPersistence","Releasing primary lease."),i.delete(ld.key)):yl.resolve()}))},t.prototype.To=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(ul("Detected an update time that is in the future: "+t+" > "+i),1))},t.prototype.Zh=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qh=function(){t.Tr.oo((function(){return t.inForeground="visible"===t.document.visibilityState,t.Xh()}))},this.document.addEventListener("visibilitychange",this.qh),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ao=function(){this.qh&&(this.document.removeEventListener("visibilitychange",this.qh),this.qh=null)},t.prototype.to=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Bh=function(){t.mo(),t.Tr.oo((function(){return t.Ro()}))},this.window.addEventListener("unload",this.Bh))},t.prototype.Po=function(){this.Bh&&(this.window.removeEventListener("unload",this.Bh),this.Bh=null)},t.prototype.wo=function(t){try{var n=null!==this.Hh.getItem(this.Io(t));return sl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ul("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mo=function(){try{this.Hh.setItem(this.Io(this.clientId),String(Date.now()))}catch(t){ul("Failed to set zombie client id.",t)}},t.prototype.Vo=function(){try{this.Hh.removeItem(this.Io(this.clientId))}catch(t){}},t.prototype.Io=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){return Jl.Cr(t,ld.store)}function td(t){return Jl.Cr(t,Td.store)}Jl.Gh="main";var nd=function(){function t(t,n){this.db=t,this.No=new Gd(this,n)}return t.prototype.$o=function(t){var n=this.ko(t);return this.db.vo().Ph(t).next((function(t){return n.next((function(n){return t+n}))}))},t.prototype.ko=function(t){var n=0;return this.Mo(t,(function(t){n++})).next((function(){return n}))},t.prototype.js=function(t,n){return this.db.vo().js(t,n)},t.prototype.Mo=function(t,n){return this.Lo(t,(function(t,i){return n(i)}))},t.prototype.ph=function(t,n,i){return id(t,i)},t.prototype.bh=function(t,n,i){return id(t,i)},t.prototype.Rh=function(t,n,i){return this.db.vo().Rh(t,n,i)},t.prototype.Oo=function(t,n){return id(t,n)},t.prototype.xo=function(t,n){return function(t,n){var i=!1;return ad(t).Bo((function(e){return rd(t,e,n).next((function(t){return t&&(i=!0),yl.resolve(!t)}))})).next((function(){return i}))}(t,n)},t.prototype.qo=function(t,n){var i=this,e=this.db.So().zr(),r=[],o=0;return this.Lo(t,(function(s,u){if(u<=n){var a=i.xo(t,s).next((function(n){if(!n)return o++,e.Mn(t,s).next((function(){return e.kn(s),Xl(t).delete([0,Nl(s.path)])}))}));r.push(a)}})).next((function(){return yl.vn(r)})).next((function(){return e.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,n){var i=n.Ie(t.Mh);return this.db.vo().Eh(t,i)},t.prototype.Uo=function(t,n){return id(t,n)},t.prototype.Lo=function(t,n){var i,e=Xl(t),r=kl.dr;return e.Br({index:yd.documentTargetsIndex},(function(t,e){var o=t[0],s=(t[1],e.path),u=e.sequenceNumber;0===o?(r!==kl.dr&&n(new dh(Dl(i)),r),r=u,i=s):r=kl.dr})).next((function(){r!==kl.dr&&n(new dh(Dl(i)),r)}))},t.prototype.Qo=function(t){return this.db.So().Jr(t)},t}();function id(t,n){return Xl(t).put(function(t,n){return new yd(0,Nl(t.path),n)}(n,t.Mh))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=function(){function t(t,n,i,e){this.userId=t,this.serializer=n,this.jn=i,this.nh=e,this.Wo={}}return t.bo=function(n,i,e,r){return hl(""!==n.uid),new t(n.t()?n.uid:"",i,e,r)},t.prototype.jo=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sd(t).Br({index:md.userMutationsIndex,range:i},(function(t,i,e){n=!1,e.done()})).next((function(){return n}))},t.prototype.Ko=function(t,n,i){return this.Go(t).next((function(n){return n.lastStreamToken=i.toBase64(),ad(t).put(n)}))},t.prototype.zo=function(t){return this.Go(t).next((function(t){return gh.fromBase64String(t.lastStreamToken)}))},t.prototype.Ho=function(t,n){return this.Go(t).next((function(i){return i.lastStreamToken=n.toBase64(),ad(t).put(i)}))},t.prototype.Yo=function(t,n,i,e){var r=this,o=ud(t),s=sd(t);return s.add({}).next((function(u){hl("number"==typeof u);for(var a=new wl(u,n,i,e),c=r.serializer.$h(r.userId,a),h=[],f=new kf((function(t,n){return dl(t.j(),n.j())})),l=0,d=e;l<d.length;l++){var m=d[l],v=vd.key(r.userId,m.key.path,u);f=f.add(m.key.path.M()),h.push(s.put(c)),h.push(o.put(v,vd.PLACEHOLDER))}return f.forEach((function(n){h.push(r.jn.vr(t,n))})),t.qn((function(){r.Wo[u]=a.keys()})),yl.vn(h).next((function(){return a}))}))},t.prototype.Jo=function(t,n){var i=this;return sd(t).get(n).next((function(t){return t?(hl(t.userId===i.userId),i.serializer.kh(t)):null}))},t.prototype.Xo=function(t,n){var i=this;return this.Wo[n]?yl.resolve(this.Wo[n]):this.Jo(t,n).next((function(t){if(t){var e=t.keys();return i.Wo[n]=e,e}return null}))},t.prototype.Zo=function(t,n){var i=this,e=n+1,r=IDBKeyRange.lowerBound([this.userId,e]),o=null;return sd(t).Br({index:md.userMutationsIndex,range:r},(function(t,n,r){n.userId===i.userId&&(hl(n.batchId>=e),o=i.serializer.kh(n)),r.done()})).next((function(){return o}))},t.prototype.ta=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return sd(t).Br({index:md.userMutationsIndex,range:n,reverse:!0},(function(t,n,e){i=n.batchId,e.done()})).next((function(){return i}))},t.prototype.ea=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sd(t).Dr(md.userMutationsIndex,i).next((function(t){return t.map((function(t){return n.serializer.kh(t)}))}))},t.prototype.Gn=function(t,n){var i=this,e=vd.prefixForPath(this.userId,n.path),r=IDBKeyRange.lowerBound(e),o=[];return ud(t).Br({range:r},(function(e,r,s){var u=e[0],a=e[1],c=e[2],h=Dl(a);if(u===i.userId&&n.path.isEqual(h))return sd(t).get(c).next((function(t){if(!t)throw cl();hl(t.userId===i.userId),o.push(i.serializer.kh(t))}));s.done()})).next((function(){return o}))},t.prototype.Xn=function(t,n){var i=this,e=new kf(dl),r=[];return n.forEach((function(n){var o=vd.prefixForPath(i.userId,n.path),s=IDBKeyRange.lowerBound(o),u=ud(t).Br({range:s},(function(t,r,o){var s=t[0],u=t[1],a=t[2],c=Dl(u);s===i.userId&&n.path.isEqual(c)?e=e.add(a):o.done()}));r.push(u)})),yl.vn(r).next((function(){return i.sa(t,e)}))},t.prototype.nr=function(t,n){var i=this,e=n.path,r=e.length+1,o=vd.prefixForPath(this.userId,e),s=IDBKeyRange.lowerBound(o),u=new kf(dl);return ud(t).Br({range:s},(function(t,n,o){var s=t[0],a=t[1],c=t[2],h=Dl(a);s===i.userId&&e.q(h)?h.length===r&&(u=u.add(c)):o.done()})).next((function(){return i.sa(t,u)}))},t.prototype.sa=function(t,n){var i=this,e=[],r=[];return n.forEach((function(n){r.push(sd(t).get(n).next((function(t){if(null===t)throw cl();hl(t.userId===i.userId),e.push(i.serializer.kh(t))})))})),yl.vn(r).next((function(){return e}))},t.prototype.ia=function(t,n){var i=this;return od(t._h,this.userId,n).next((function(e){return t.qn((function(){i.na(n.batchId)})),yl.forEach(e,(function(n){return i.nh.Oo(t,n)}))}))},t.prototype.na=function(t){delete this.Wo[t]},t.prototype.ra=function(t){var n=this;return this.jo(t).next((function(i){if(!i)return yl.resolve();var e=IDBKeyRange.lowerBound(vd.prefixForUser(n.userId)),r=[];return ud(t).Br({range:e},(function(t,i,e){if(t[0]===n.userId){var o=Dl(t[1]);r.push(o)}else e.done()})).next((function(){hl(0===r.length)}))}))},t.prototype.Dh=function(t,n){return rd(t,this.userId,n)},t.prototype.Go=function(t){var n=this;return ad(t).get(this.userId).next((function(t){return t||new dd(n.userId,-1,"")}))},t}();function rd(t,n,i){var e=vd.prefixForPath(n,i.path),r=e[1],o=IDBKeyRange.lowerBound(e),s=!1;return ud(t).Br({range:o,Sh:!0},(function(t,i,e){var o=t[0],u=t[1];t[2],o===n&&u===r&&(s=!0),e.done()})).next((function(){return s}))}function od(t,n,i){var e=t.store(md.store),r=t.store(vd.store),o=[],s=IDBKeyRange.only(i.batchId),u=0,a=e.Br({range:s},(function(t,n,i){return u++,i.delete()}));o.push(a.next((function(){hl(1===u)})));for(var c=[],h=0,f=i.mutations;h<f.length;h++){var l=f[h],d=vd.key(n,l.key.path,i.batchId);o.push(r.delete(d)),c.push(l.key)}return yl.vn(o).next((function(){return c}))}function sd(t){return Jl.Cr(t,md.store)}function ud(t){return Jl.Cr(t,vd.store)}function ad(t){return Jl.Cr(t,dd.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd=10,hd=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,n,i,e){var r=this;hl(i<e&&i>=0&&e<=cd);var o=new Rd(n);i<1&&e>=1&&(function(t){t.createObjectStore(ld.store)}(t),function(t){t.createObjectStore(dd.store,{keyPath:dd.keyPath}),t.createObjectStore(md.store,{keyPath:md.keyPath,autoIncrement:!0}).createIndex(md.userMutationsIndex,md.userMutationsKeyPath,{unique:!0}),t.createObjectStore(vd.store)}(t),Id(t),function(t){t.createObjectStore(bd.store)}(t));var s=yl.resolve();return i<3&&e>=3&&(0!==i&&(function(t){t.deleteObjectStore(yd.store),t.deleteObjectStore(xd.store),t.deleteObjectStore(_d.store)}(t),Id(t)),s=s.next((function(){return function(t){var n=t.store(_d.store),i=new _d(0,0,ah.min().C(),0);return n.put(_d.key,i)}(o)}))),i<4&&e>=4&&(0!==i&&(s=s.next((function(){return function(t,n){return n.store(md.store).Dr().next((function(i){t.deleteObjectStore(md.store),t.createObjectStore(md.store,{keyPath:md.keyPath,autoIncrement:!0}).createIndex(md.userMutationsIndex,md.userMutationsKeyPath,{unique:!0});var e=n.store(md.store),r=i.map((function(t){return e.put(t)}));return yl.vn(r)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Td.store,{keyPath:Td.keyPath})}(t)}))),i<5&&e>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(o)}))),i<6&&e>=6&&(s=s.next((function(){return function(t){t.createObjectStore(wd.store)}(t),r.addDocumentGlobal(o)}))),i<7&&e>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(o)}))),i<8&&e>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,o)}))),i<9&&e>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var n=t.objectStore(bd.store);n.createIndex(bd.readTimeIndex,bd.readTimeIndexPath,{unique:!1}),n.createIndex(bd.collectionReadTimeIndex,bd.collectionReadTimeIndexPath,{unique:!1})}(n)}))),i<10&&e>=10&&(s=s.next((function(){return r.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var n=0;return t.store(bd.store).Br((function(t,i){n+=Vl(i)})).next((function(){var i=new wd(n);return t.store(wd.store).put(wd.key,i)}))},t.prototype.removeAcknowledgedMutations=function(t){var n=this,i=t.store(dd.store),e=t.store(md.store);return i.Dr().next((function(i){return yl.forEach(i,(function(i){var r=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return e.Dr(md.userMutationsIndex,r).next((function(e){return yl.forEach(e,(function(e){hl(e.userId===i.userId);var r=n.serializer.kh(e);return od(t,i.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var n=t.store(yd.store),i=t.store(bd.store);return Hl(t).next((function(t){var e=[];return i.Br((function(i,r){var o=new hh(i),s=function(t){return[0,Nl(t)]}(o);e.push(n.get(s).next((function(i){return i?yl.resolve():function(i){return n.put(new yd(0,Nl(i),t))}(o)})))})).next((function(){return yl.vn(e)}))}))},t.prototype.createCollectionParentIndex=function(t,n){t.createObjectStore(Ed.store,{keyPath:Ed.keyPath});var i=n.store(Ed.store),e=new Ml,r=function(t){if(e.add(t)){var n=t.O(),r=t.M();return i.put({collectionId:n,parent:Nl(r)})}};return n.store(bd.store).Br({Sh:!0},(function(t,n){var i=new hh(t);return r(i.M())})).next((function(){return n.store(vd.store).Br({Sh:!0},(function(t,n){t[0];var i=t[1],e=(t[2],Dl(i));return r(e.M())}))}))},t.prototype.rewriteCanonicalIds=function(t){var n=this,i=t.store(xd.store);return i.Br((function(t,e){var r=n.serializer.mh(e),o=n.serializer.Ah(r);return i.put(o)}))},t}(),fd=function(t,n){this.seconds=t,this.nanoseconds=n},ld=function(t,n,i){this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=i};ld.store="owner",ld.key="owner";var dd=function(t,n,i){this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=i};dd.store="mutationQueues",dd.keyPath="userId";var md=function(t,n,i,e,r){this.userId=t,this.batchId=n,this.localWriteTimeMs=i,this.baseMutations=e,this.mutations=r};md.store="mutations",md.keyPath="batchId",md.userMutationsIndex="userMutationsIndex",md.userMutationsKeyPath=["userId","batchId"];var vd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,n){return[t,Nl(n)]},t.key=function(t,n,i){return[t,Nl(n),i]},t}();vd.store="documentMutations",vd.PLACEHOLDER=new vd;var pd=function(t,n){this.path=t,this.readTime=n},gd=function(t,n){this.path=t,this.version=n},bd=function(t,n,i,e,r,o){this.unknownDocument=t,this.noDocument=n,this.document=i,this.hasCommittedMutations=e,this.readTime=r,this.parentPath=o};bd.store="remoteDocuments",bd.readTimeIndex="readTimeIndex",bd.readTimeIndexPath="readTime",bd.collectionReadTimeIndex="collectionReadTimeIndex",bd.collectionReadTimeIndexPath=["parentPath","readTime"];var wd=function(t){this.byteSize=t};wd.store="remoteDocumentGlobal",wd.key="remoteDocumentGlobalKey";var xd=function(t,n,i,e,r,o,s){this.targetId=t,this.canonicalId=n,this.readTime=i,this.resumeToken=e,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};xd.store="targets",xd.keyPath="targetId",xd.queryTargetsIndexName="queryTargetsIndex",xd.queryTargetsKeyPath=["canonicalId","targetId"];var yd=function(t,n,i){this.targetId=t,this.path=n,this.sequenceNumber=i};yd.store="targetDocuments",yd.keyPath=["targetId","path"],yd.documentTargetsIndex="documentTargetsIndex",yd.documentTargetsKeyPath=["path","targetId"];var _d=function(t,n,i,e){this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=i,this.targetCount=e};_d.key="targetGlobalKey",_d.store="targetGlobal";var Ed=function(t,n){this.collectionId=t,this.parent=n};function Id(t){t.createObjectStore(yd.store,{keyPath:yd.keyPath}).createIndex(yd.documentTargetsIndex,yd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(xd.store,{keyPath:xd.keyPath}).createIndex(xd.queryTargetsIndexName,xd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_d.store)}Ed.store="collectionParents",Ed.keyPath=["collectionId","parent"];var Td=function(t,n,i,e){this.clientId=t,this.updateTimeMs=n,this.networkEnabled=i,this.inForeground=e};Td.store="clientMetadata",Td.keyPath="clientId";var Ad=pt(pt(pt([dd.store,md.store,vd.store,bd.store,xd.store,ld.store,_d.store,yd.store],[Td.store]),[wd.store]),[Ed.store]),kd=function(){function t(n){this.db=n,12.2===t.ha(Xn())&&ul("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Yh=function(n,i,e){return sl("SimpleDb","Opening database:",n),new yl((function(r,o){var s=window.indexedDB.open(n,i);s.onsuccess=function(n){var i=n.target.result;r(new t(i))},s.onblocked=function(){o(new nh(th.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var n=t.target.error;"VersionError"===n.name?o(new nh(th.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(n)},s.onupgradeneeded=function(t){sl("SimpleDb",'Database "'+n+'" requires upgrade from version:',t.oldVersion);var i=t.target.result;e.createOrUpgrade(i,s.transaction,t.oldVersion,cd).next((function(){sl("SimpleDb","Database upgrade to version "+cd+" complete")}))}})).yn()},t.delete=function(t){return sl("SimpleDb","Removing database:",t),Dd(window.indexedDB.deleteDatabase(t)).yn()},t.jh=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.oa())return!0;if(void 0===window.navigator)return!1;var n=Xn(),i=t.ha(n),e=0<i&&i<10,r=t.aa(n),o=0<r&&r<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||e||o)},t.oa=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.ua)},t.Cr=function(t,n){return t.store(n)},t.ha=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.aa=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.ro=function(t){this.db.onversionchange=function(n){return t(n)}},t.prototype.runTransaction=function(t,n,i){return ft(this,void 0,void 0,(function(){var e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:e="readonly"===t,r=0,o=function(){var t,o,u,a,c;return lt(this,(function(h){switch(h.label){case 0:++r,t=Rd.open(s.db,e?"readonly":"readwrite",n),h.label=1;case 1:return h.trys.push([1,3,,4]),o=i(t).catch((function(n){return t.abort(n),yl.reject(n)})).yn(),u={},o.catch((function(){})),[4,t.ca];case 2:return[2,(u.value=(h.sent(),o),u)];case 3:return a=h.sent(),c="FirebaseError"!==a.name&&r<3,sl("SimpleDb","Transaction failed with error: %s. Retrying: %s.",a.message,c),c?[3,4]:[2,{value:Promise.reject(a)}];case 4:return[2]}}))},s=this,a.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=a.sent()))return[2,u.value];a.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Sd=function(){function t(t){this._a=t,this.la=!1,this.da=null}return Object.defineProperty(t.prototype,"Pn",{get:function(){return this.la},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fa",{get:function(){return this.da},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this._a=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.la=!0},t.prototype.qr=function(t){this.da=t},t.prototype.delete=function(){return Dd(this._a.delete())},t}(),Od=function(t){function n(n){var i=this;return(i=t.call(this,th.UNAVAILABLE,"IndexedDB transaction failed: "+n)||this).name="IndexedDbTransactionError",i}return at(n,t),n}(nh);function Nd(t){return"IndexedDbTransactionError"===t.name}var Rd=function(){function t(t){var n=this;this.transaction=t,this.aborted=!1,this.Ta=new Sl,this.transaction.oncomplete=function(){n.Ta.resolve()},this.transaction.onabort=function(){t.error?n.Ta.reject(new Od(t.error)):n.Ta.resolve()},this.transaction.onerror=function(t){var i=Md(t.target.error);n.Ta.reject(new Od(i))}}return t.open=function(n,i,e){return new t(n.transaction(e,i))},Object.defineProperty(t.prototype,"ca",{get:function(){return this.Ta.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.Ta.reject(t),this.aborted||(sl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var n=this.transaction.objectStore(t);return new Cd(n)},t}(),Cd=function(){function t(t){this.store=t}return t.prototype.put=function(t,n){var i;return void 0!==n?(sl("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(sl("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Dd(i)},t.prototype.add=function(t){return sl("SimpleDb","ADD",this.store.name,t,t),Dd(this.store.add(t))},t.prototype.get=function(t){var n=this;return Dd(this.store.get(t)).next((function(i){return void 0===i&&(i=null),sl("SimpleDb","GET",n.store.name,t,i),i}))},t.prototype.delete=function(t){return sl("SimpleDb","DELETE",this.store.name,t),Dd(this.store.delete(t))},t.prototype.count=function(){return sl("SimpleDb","COUNT",this.store.name),Dd(this.store.count())},t.prototype.Dr=function(t,n){var i=this.cursor(this.options(t,n)),e=[];return this.Ea(i,(function(t,n){e.push(n)})).next((function(){return e}))},t.prototype.Ia=function(t,n){sl("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Sh=!1;var e=this.cursor(i);return this.Ea(e,(function(t,n,i){return i.delete()}))},t.prototype.Br=function(t,n){var i;n?i=t:(i={},n=t);var e=this.cursor(i);return this.Ea(e,n)},t.prototype.Bo=function(t){var n=this.cursor({});return new yl((function(i,e){n.onerror=function(t){var n=Md(t.target.error);e(n)},n.onsuccess=function(n){var e=n.target.result;e?t(e.primaryKey,e.value).next((function(t){t?e.continue():i()})):i()}}))},t.prototype.Ea=function(t,n){var i=[];return new yl((function(e,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Sd(r),s=n(r.primaryKey,r.value,o);if(s instanceof yl){var u=s.catch((function(t){return o.done(),yl.reject(t)}));i.push(u)}o.Pn?e():null===o.fa?r.continue():r.continue(o.fa)}else e()}})).next((function(){return yl.vn(i)}))},t.prototype.options=function(t,n){var i=void 0;return void 0!==t&&("string"==typeof t?i=t:n=t),{index:i,range:n}},t.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Sh?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},t}();function Dd(t){return new yl((function(n,i){t.onsuccess=function(t){var i=t.target.result;n(i)},t.onerror=function(t){var n=Md(t.target.error);i(n)}}))}var Pd=!1;function Md(t){var n=kd.ha(Xn());if(n>=12.2&&n<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var e=new nh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pd||(Pd=!0,setTimeout((function(){throw e}),0)),e}}return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){function t(t,n,i,e,r){this.wa=t,this.Er=n,this.Ra=i,this.op=e,this.ma=r,this.Aa=new Sl,this.then=this.Aa.promise.then.bind(this.Aa.promise),this.catch=this.Aa.promise.catch.bind(this.Aa.promise),this.Aa.promise.catch((function(t){}))}return t.Pa=function(n,i,e,r,o){var s=new t(n,i,Date.now()+e,r,o);return s.start(e),s},t.prototype.start=function(t){var n=this;this.Va=setTimeout((function(){return n.ga()}),t)},t.prototype.pa=function(){return this.ga()},t.prototype.cancel=function(t){null!==this.Va&&(this.clearTimeout(),this.Aa.reject(new nh(th.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ga=function(){var t=this;this.wa.oo((function(){return null!==t.Va?(t.clearTimeout(),t.op().then((function(n){return t.Aa.resolve(n)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Va&&(this.ma(this),clearTimeout(this.Va),this.Va=null)},t}(),Ld=function(){function t(){var t=this;this.ya=Promise.resolve(),this.ba=Promise.resolve(),this.va=!1,this.Sa=[],this.Da=null,this.Ca=!1,this.Fa=[],this.Na=new Ol(this,"async_queue_retry"),this.$a=function(){t.ka("async_queue_retry")};var n=il.nt().window;n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.$a)}return Object.defineProperty(t.prototype,"Ma",{get:function(){return this.va},enumerable:!0,configurable:!0}),t.prototype.oo=function(t){this.enqueue(t)},t.prototype.La=function(t){this.Oa(),this.xa(t)},t.prototype.Ba=function(t){return this.Oa(),this.xa(t)},t.prototype.qa=function(t){return ft(this,void 0,void 0,(function(){var n;return lt(this,(function(i){switch(i.label){case 0:return this.Oa(),this.va?[3,2]:(this.va=!0,(n=il.nt().window)&&n.removeEventListener("visibilitychange",this.$a),[4,this.Ba(t)]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Oa(),this.va?new Promise((function(t){})):this.xa(t)},t.prototype.Ua=function(t){var n=this;this.Oa(),this.va||(this.ba=this.ba.then((function(){var i=new Sl,e=function(){return ft(n,void 0,void 0,(function(){var n;return lt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return r.sent(),i.resolve(),this.Na.reset(),[3,3];case 2:if(!Nd(n=r.sent()))throw i.resolve(),n;return sl("AsyncQueue","Operation failed with retryable error: "+n),this.Na.gr(e),[3,3];case 3:return[2]}}))}))};return n.oo(e),i.promise})))},t.prototype.xa=function(t){var n=this,i=this.ya.then((function(){return n.Ca=!0,t().catch((function(t){throw n.Da=t,n.Ca=!1,ul("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return n.Ca=!1,t}))}));return this.ya=i,i},t.prototype.yr=function(t,n,i){var e=this;this.Oa(),this.Fa.indexOf(t)>-1&&(n=0);var r=jd.Pa(this,t,n,i,(function(t){return e.Qa(t)}));return this.Sa.push(r),r},t.prototype.Oa=function(){this.Da&&cl()},t.prototype.Wa=function(){},t.prototype.ja=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return[4,t=this.ya];case 1:n.sent(),n.label=2;case 2:if(t!==this.ya)return[3,0];n.label=3;case 3:return[2]}}))}))},t.prototype.Ka=function(t){for(var n=0,i=this.Sa;n<i.length;n++)if(i[n].Er===t)return!0;return!1},t.prototype.ka=function(t){var n=this;return this.ja().then((function(){n.Sa.sort((function(t,n){return t.Ra-n.Ra}));for(var i=0,e=n.Sa;i<e.length;i++){var r=e[i];if(r.pa(),"all"!==t&&r.Er===t)break}return n.ja()}))},t.prototype.Ga=function(t){this.Fa.push(t)},t.prototype.Qa=function(t){var n=this.Sa.indexOf(t);this.Sa.splice(n,1)},t}();function Fd(t,n){if(ul("AsyncQueue",n+": "+t),Nd(t))return new nh(th.UNAVAILABLE,n+": "+t);throw t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,n){var i=t[0],e=t[1],r=n[0],o=n[1],s=dl(i,r);return 0===s?dl(e,o):s}var Bd=function(){function t(t){this.za=t,this.buffer=new kf(Ud),this.Ha=0}return t.prototype.Ya=function(){return++this.Ha},t.prototype.Ja=function(t){var n=[t,this.Ya()];if(this.buffer.size<this.za)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();Ud(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),zd={Xa:!1,Za:0,tu:0,eu:0},Vd=function(){function t(t,n,i){this.su=t,this.iu=n,this.nu=i}return t.ru=function(n){return new t(n,t.hu,t.ou)},t}();Vd.au=-1,Vd.uu=1048576,Vd.cu=41943040,Vd.hu=10,Vd.ou=1e3,Vd._u=new Vd(Vd.cu,Vd.hu,Vd.ou),Vd.DISABLED=new Vd(Vd.au,0,0);var qd=function(){function t(t,n){this.No=t,this.wa=n,this.lu=!1,this.du=null}return t.prototype.start=function(t){this.No.fu.su!==Vd.au&&this.Tu(t)},t.prototype.stop=function(){this.du&&(this.du.cancel(),this.du=null)},Object.defineProperty(t.prototype,"io",{get:function(){return null!==this.du},enumerable:!0,configurable:!0}),t.prototype.Tu=function(t){var n=this,i=this.lu?3e5:6e4;sl("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.du=this.wa.yr("lru_garbage_collection",i,(function(){return ft(n,void 0,void 0,(function(){var n;return lt(this,(function(i){switch(i.label){case 0:this.du=null,this.lu=!0,i.label=1;case 1:return i.trys.push([1,3,,7]),[4,t.Eu(this.No)];case 2:return i.sent(),[3,7];case 3:return Nd(n=i.sent())?(sl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n),[3,6]):[3,4];case 4:return[4,Hd(n)];case 5:i.sent(),i.label=6;case 6:return[3,7];case 7:return[4,this.Tu(t)];case 8:return i.sent(),[2]}}))}))}))},t}(),Gd=function(){function t(t,n){this.Iu=t,this.fu=n}return t.prototype.wu=function(t,n){return this.Iu.$o(t).next((function(t){return Math.floor(n/100*t)}))},t.prototype.Ru=function(t,n){var i=this;if(0===n)return yl.resolve(kl.dr);var e=new Bd(n);return this.Iu.js(t,(function(t){return e.Ja(t.sequenceNumber)})).next((function(){return i.Iu.Mo(t,(function(t){return e.Ja(t)}))})).next((function(){return e.maxValue}))},t.prototype.Rh=function(t,n,i){return this.Iu.Rh(t,n,i)},t.prototype.qo=function(t,n){return this.Iu.qo(t,n)},t.prototype.mu=function(t,n){var i=this;return this.fu.su===Vd.au?(sl("LruGarbageCollector","Garbage collection skipped; disabled"),yl.resolve(zd)):this.Qo(t).next((function(e){return e<i.fu.su?(sl("LruGarbageCollector","Garbage collection skipped; Cache size "+e+" is lower than threshold "+i.fu.su),zd):i.Au(t,n)}))},t.prototype.Qo=function(t){return this.Iu.Qo(t)},t.prototype.Au=function(t,n){var i,e,r,o,s,u,a,c=this,h=Date.now();return this.wu(t,this.fu.iu).next((function(n){return n>c.fu.nu?(sl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.fu.nu+" from "+n),e=c.fu.nu):e=n,o=Date.now(),c.Ru(t,e)})).next((function(e){return i=e,s=Date.now(),c.Rh(t,i,n)})).next((function(n){return r=n,u=Date.now(),c.qo(t,i)})).next((function(t){return a=Date.now(),rl()<=Ii.DEBUG&&sl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+e+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-h)+"ms"),yl.resolve({Xa:!0,Za:e,tu:r,eu:t})}))},t}(),$d=function(){function t(t,n,i){this.persistence=t,this.Pu=n,this.Vu=new If(dl),this.gu=new bl((function(t){return t.canonicalId()})),this.pu=ah.min(),this.Wn=t.yo(i),this.yu=t.So(),this.zh=t.vo(),this.bu=new Tl(this.yu,this.Wn,this.persistence.Do()),this.Pu.vu(this.bu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Su=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r=this;return lt(this,(function(o){switch(o.label){case 0:return n=this.Wn,i=this.bu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return r.Wn.ea(e).next((function(s){return o=s,n=r.persistence.yo(t),i=new Tl(r.yu,n,r.persistence.Do()),n.ea(e)})).next((function(t){for(var n=[],r=[],s=Lf(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var d=0,m=t;d<m.length;d++){var v=m[d];r.push(v.batchId);for(var p=0,g=v.mutations;p<g.length;p++){var b=g[p];s=s.add(b.key)}}return i.Yn(e,s).next((function(t){return{Du:t,Cu:n,Fu:r}}))}))}))];case 1:return e=o.sent(),[2,(this.Wn=n,this.bu=i,this.Pu.vu(this.bu),e)]}}))}))},t.prototype.Nu=function(t){var n,i=this,e=uh.now(),r=t.reduce((function(t,n){return t.add(n.key)}),Lf());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return i.bu.Yn(o,r).next((function(r){n=r;for(var s=[],u=0,a=t;u<a.length;u++){var c=a[u],h=c.Pt(n.get(c.key));null!=h&&s.push(new Kh(c.key,h,ef(h.proto.mapValue),Hh.exists(!0)))}return i.Wn.Yo(o,e,s,t)}))})).then((function(t){var i=t.In(n);return{batchId:t.batchId,Dn:i}}))},t.prototype.Ko=function(t){var n=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(i){var e=t.batch.keys(),r=n.yu.zr({Yr:!0});return n.Wn.Ko(i,t.batch,t.streamToken).next((function(){return n.$u(i,t,r)})).next((function(){return r.apply(i)})).next((function(){return n.Wn.ra(i)})).next((function(){return n.bu.Yn(i,e)}))}))},t.prototype.ku=function(t){var n=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(i){var e;return n.Wn.Jo(i,t).next((function(t){return hl(null!==t),e=t.keys(),n.Wn.ia(i,t)})).next((function(){return n.Wn.ra(i)})).next((function(){return n.bu.Yn(i,e)}))}))},t.prototype.ta=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(n){return t.Wn.ta(n)}))},t.prototype.zo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(n){return t.Wn.zo(n)}))},t.prototype.Ho=function(t){var n=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(i){return n.Wn.Ho(i,t)}))},t.prototype.ah=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(n){return t.zh.ah(n)}))},t.prototype.Mu=function(n){var i=this,e=n.Ee,r=this.Vu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=i.yu.zr({Yr:!0});r=i.Vu;var u=[];n.as.forEach((function(n,s){var a=r.get(s);if(a){u.push(i.zh.yh(o,n.Is,s).next((function(){return i.zh.gh(o,n.Ts,s)})));var c=n.resumeToken;if(c.rt()>0){var h=a.we(c,e).Ie(o.Mh);r=r.me(s,h),t.Lu(a,h,n)&&u.push(i.zh.Eh(o,h))}}}));var a=Nf(),c=Lf();if(n.cs.forEach((function(t,n){c=c.add(t)})),u.push(s.getEntries(o,c).next((function(t){n.cs.forEach((function(r,c){var h=t.get(r);c instanceof af&&c.version.isEqual(ah.min())?(s.kn(r,e),a=a.me(r,c)):null==h||c.version.S(h.version)>0||0===c.version.S(h.version)&&h.hasPendingWrites?(s.Nn(c,e),a=a.me(r,c)):sl("LocalStore","Ignoring outdated watch update for ",r,". Current version:",h.version," Watch version:",c.version),n._s.has(r)&&u.push(i.persistence.nh.Uo(o,r))}))}))),!e.isEqual(ah.min())){var h=i.zh.ah(o).next((function(t){return i.zh.lh(o,o.Mh,e)}));u.push(h)}return yl.vn(u).next((function(){return s.apply(o)})).next((function(){return i.bu.Jn(o,a)}))})).then((function(t){return i.Vu=r,t}))},t.Lu=function(t,n,i){return hl(n.resumeToken.rt()>0),0===t.resumeToken.rt()||n.Ee.D()-t.Ee.D()>=this.Ou||i.Ts.size+i.Es.size+i.Is.size>0},t.prototype.xu=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o,s,u,a,c=this;return lt(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return yl.forEach(t,(function(t){return yl.forEach(t.hr,(function(i){return c.persistence.nh.ph(n,t.targetId,i)})).next((function(){return yl.forEach(t.or,(function(i){return c.persistence.nh.bh(n,t.targetId,i)}))}))}))}))];case 1:return h.sent(),[3,3];case 2:if(!Nd(n=h.sent()))throw n;return sl("LocalStore","Failed to update sequence numbers: "+n),[3,3];case 3:for(i=0,e=t;i<e.length;i++)r=e[i],o=r.targetId,r.fromCache||(s=this.Vu.get(o),u=s.Ee,a=s.Re(u),this.Vu=this.Vu.me(o,a));return[2]}}))}))},t.prototype.Bu=function(t){var n=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(i){return void 0===t&&(t=-1),n.Wn.Zo(i,t)}))},t.prototype.qu=function(t){var n=this;return this.persistence.runTransaction("read document","readonly",(function(i){return n.bu.Kn(i,t)}))},t.prototype.Uu=function(t){var n=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(i){var e;return n.zh.Vh(i,t).next((function(r){return r?(e=r,yl.resolve(e)):n.zh.rh(i).next((function(r){return e=new xf(t,r,0,i.Mh),n.zh.dh(i,e).next((function(){return e}))}))}))})).then((function(i){return null===n.Vu.get(i.targetId)&&(n.Vu=n.Vu.me(i.targetId,i),n.gu.set(t,i.targetId)),i}))},t.prototype.Vh=function(t,n){var i=this.gu.get(n);return void 0!==i?yl.resolve(this.Vu.get(i)):this.zh.Vh(t,n)},t.prototype.Qu=function(t,n){var i=this,e=this.Vu.get(t),r=n?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",r,(function(t){return n?yl.resolve():i.persistence.nh.removeTarget(t,e)})).then((function(){i.Vu=i.Vu.remove(t),i.gu.delete(e.target)}))},t.prototype.Wu=function(t,n){var i=this,e=ah.min(),r=Lf();return this.persistence.runTransaction("Execute query","readonly",(function(o){return i.Vh(o,t.ee()).next((function(t){if(t)return e=t.lastLimboFreeSnapshotVersion,i.zh.vh(o,t.targetId).next((function(t){r=t}))})).next((function(){return i.Pu.Zn(o,t,n?e:ah.min(),n?r:Lf())})).next((function(t){return{documents:t,ju:r}}))}))},t.prototype.$u=function(t,n,i){var e=this,r=n.batch,o=r.keys(),s=yl.resolve();return o.forEach((function(e){s=s.next((function(){return i.Mn(t,e)})).next((function(t){var o=t,s=n.Rn.get(e);hl(null!==s),(!o||o.version.S(s)<0)&&(o=r.at(e,o,n))&&i.Nn(o,n.wn)}))})),s.next((function(){return e.Wn.ia(t,r)}))},t.prototype.Eu=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(i){return t.mu(i,n.Vu)}))},t}();$d.Ou=3e8;var Wd=function(t){function n(n,i,e){var r=this;return(r=t.call(this,n,i,e)||this).persistence=n,r.Wn=n.yo(e),r.yu=n.So(),r.zh=n.vo(),r}return at(n,t),n.prototype.start=function(){return this.Ku()},n.prototype.Gu=function(t){var n=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(i){return n.Wn.Xo(i,t).next((function(t){return t?n.bu.Yn(i,t):yl.resolve(null)}))}))},n.prototype.zu=function(t){this.Wn.na(t)},n.prototype.ho=function(t){this.persistence.ho(t)},n.prototype.po=function(){return this.persistence.po()},n.prototype.Hu=function(t){var n=this,i=this.Vu.get(t);return i?Promise.resolve(i.target):this.persistence.runTransaction("Get target data","readonly",(function(i){return n.zh.si(i,t).next((function(t){return t?t.target:null}))}))},n.prototype.Wr=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(n){return t.yu.Wr(n,t.pu)})).then((function(n){var i=n.jr,e=n.readTime;return t.pu=e,i}))},n.prototype.Ku=function(){return ft(this,void 0,void 0,(function(){var t,n=this;return lt(this,(function(i){switch(i.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.yu.Gr(t)}))];case 1:return t.pu=i.sent(),[2]}}))}))},n}($d);function Hd(t){return ft(this,void 0,void 0,(function(){return lt(this,(function(n){if(t.code!==th.FAILED_PRECONDITION||t.message!==El)throw t;return sl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xd=function(){function t(){this.Yu=new kf(Yd.Ju),this.Xu=new kf(Yd.Zu)}return t.prototype.B=function(){return this.Yu.B()},t.prototype.ph=function(t,n){var i=new Yd(t,n);this.Yu=this.Yu.add(i),this.Xu=this.Xu.add(i)},t.prototype.tc=function(t,n){var i=this;t.forEach((function(t){return i.ph(t,n)}))},t.prototype.bh=function(t,n){this.ec(new Yd(t,n))},t.prototype.sc=function(t,n){var i=this;t.forEach((function(t){return i.bh(t,n)}))},t.prototype.ic=function(t){var n=this,i=dh.EMPTY,e=new Yd(i,t),r=new Yd(i,t+1),o=[];return this.Xu.Ke([e,r],(function(t){n.ec(t),o.push(t.key)})),o},t.prototype.nc=function(){var t=this;this.Yu.forEach((function(n){return t.ec(n)}))},t.prototype.ec=function(t){this.Yu=this.Yu.delete(t),this.Xu=this.Xu.delete(t)},t.prototype.rc=function(t){var n=dh.EMPTY,i=new Yd(n,t),e=new Yd(n,t+1),r=Lf();return this.Xu.Ke([i,e],(function(t){r=r.add(t.key)})),r},t.prototype.Dh=function(t){var n=new Yd(t,0),i=this.Yu.ze(n);return null!==i&&t.isEqual(i.key)},t}(),Yd=function(){function t(t,n){this.key=t,this.hc=n}return t.Ju=function(t,n){return dh.N(t.key,n.key)||dl(t.hc,n.hc)},t.Zu=function(t,n){return dl(t.hc,n.hc)||dh.N(t.key,n.key)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,n){if(0!==n.length)throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+dm(n.length,"argument")+".")}function Qd(t,n,i){if(n.length!==i)throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires "+dm(i,"argument")+", but was called with "+dm(n.length,"argument")+".")}function Jd(t,n,i){if(n.length<i)throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires at least "+dm(i,"argument")+", but was called with "+dm(n.length,"argument")+".")}function Zd(t,n,i,e){if(n.length<i||n.length>e)throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires between "+i+" and "+e+" arguments, but was called with "+dm(n.length,"argument")+".")}function tm(t,n,i,e){om(t,n,lm(i)+" argument",e)}function nm(t,n,i,e){void 0!==e&&tm(t,n,i,e)}function im(t,n,i,e){om(t,n,i+" option",e)}function em(t,n,i,e){void 0!==e&&im(t,n,i,e)}function rm(t,n,i,e,r){void 0!==e&&function(t,n,i,e,r){for(var o=[],s=0,u=r;s<u.length;s++){var a=u[s];if(a===e)return;o.push(um(a))}var c=um(e);throw new nh(th.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+i+'". Acceptable values: '+o.join(", "))}(t,0,i,e,r)}function om(t,n,i,e){if(!("object"===n?sm(e):"non-empty string"===n?"string"==typeof e&&""!==e:typeof e===n)){var r=um(e);throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires its "+i+" to be of type "+n+", but it was: "+r)}}function sm(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function um(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var n=function(t){if(t.constructor){var n=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}(t);return n?"a custom "+n+" object":"an object"}return"function"==typeof t?"a function":cl()}function am(t,n,i){if(void 0===i)throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+lm(n)+" argument, but it was undefined.")}function cm(t,n,i){vh(n,(function(n,e){if(i.indexOf(n)<0)throw new nh(th.INVALID_ARGUMENT,"Unknown option '"+n+"' passed to function "+t+"(). Available options: "+i.join(", "))}))}function hm(t,n,i,e){var r=um(e);return new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires its "+lm(i)+" argument to be a "+n+", but it was: "+r)}function fm(t,n,i){if(i<=0)throw new nh(th.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+lm(n)+" argument to be a positive number, but it was: "+i+".")}function lm(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function dm(t,n){return t+" "+n+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){if("undefined"==typeof Uint8Array)throw new nh(th.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vm(){if(!il.nt().oc)throw new nh(th.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pm=function(){function t(t){vm(),this.ac=t}return t.fromBase64String=function(n){Qd("Blob.fromBase64String",arguments,1),tm("Blob.fromBase64String","string",1,n),vm();try{return new t(gh.fromBase64String(n))}catch(n){throw new nh(th.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(n){if(Qd("Blob.fromUint8Array",arguments,1),mm(),!(n instanceof Uint8Array))throw hm("Blob.fromUint8Array","Uint8Array",1,n);return new t(gh.fromUint8Array(n))},t.prototype.toBase64=function(){return Qd("Blob.toBase64",arguments,0),vm(),this.ac.toBase64()},t.prototype.toUint8Array=function(){return Qd("Blob.toUint8Array",arguments,0),mm(),this.ac.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ac.isEqual(t.ac)},t}(),gm=function(){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(t,n,i,e){if(!(n instanceof Array)||n.length<1)throw new nh(th.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+dm(1,"element")+".")}(0,t);for(var i=0;i<t.length;++i)if(tm("FieldPath","string",i,t[i]),0===t[i].length)throw new nh(th.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.uc=new lh(t)}return t.documentId=function(){return t.cc},t.prototype.isEqual=function(n){if(!(n instanceof t))throw hm("isEqual","FieldPath",1,n);return this.uc.isEqual(n.uc)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gm.cc=new gm(lh.J().j());var bm=new RegExp("[~\\*/\\[\\]]"),wm=function(t){this._c=t},xm=function(t){function n(){return t.call(this,"FieldValue.delete")||this}return at(n,t),n.prototype.Di=function(t){if(2!==t.lc)throw 1===t.lc?t.dc("FieldValue.delete() can only appear at the top level of your update data"):t.dc("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},n.prototype.isEqual=function(t){return t instanceof n},n}(wm),ym=function(t){function n(){return t.call(this,"FieldValue.serverTimestamp")||this}return at(n,t),n.prototype.Di=function(t){return new $h(t.path,Uh.instance)},n.prototype.isEqual=function(t){return t instanceof n},n}(wm),_m=function(t){function n(n){var i=this;return(i=t.call(this,"FieldValue.arrayUnion")||this).fc=n,i}return at(n,t),n.prototype.Di=function(t){var n=new Nm({lc:3,methodName:this._c,Tc:!0},t.ii,t.serializer),i=this.fc.map((function(t){return Cm(t,n)})),e=new Bh(i);return new $h(t.path,e)},n.prototype.isEqual=function(t){return this===t},n}(wm),Em=function(t){function n(n){var i=this;return(i=t.call(this,"FieldValue.arrayRemove")||this).fc=n,i}return at(n,t),n.prototype.Di=function(t){var n=new Nm({lc:3,methodName:this._c,Tc:!0},t.ii,t.serializer),i=this.fc.map((function(t){return Cm(t,n)})),e=new zh(i);return new $h(t.path,e)},n.prototype.isEqual=function(t){return this===t},n}(wm),Im=function(t){function n(n){var i=this;return(i=t.call(this,"FieldValue.increment")||this).Ec=n,i}return at(n,t),n.prototype.Di=function(t){var n=new Nm({lc:3,methodName:this._c},t.ii,t.serializer),i=Cm(this.Ec,n),e=new Vh(t.serializer,i);return new $h(t.path,e)},n.prototype.isEqual=function(t){return this===t},n}(wm),Tm=function(){function t(t,n){if(Qd("GeoPoint",arguments,2),tm("GeoPoint","number",1,t),tm("GeoPoint","number",2,n),!isFinite(t)||t<-90||t>90)throw new nh(th.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nh(th.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.Ic=t,this.wc=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Ic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.wc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Ic===t.Ic&&this.wc===t.wc},t.prototype.p=function(t){return dl(this.Ic,t.Ic)||dl(this.wc,t.wc)},t}(),Am=/^__.*__$/,km=function(){function t(t,n,i){this.data=t,this.Vt=n,this.fieldTransforms=i}return t.prototype.Rc=function(t,n){var i=[];return null!==this.Vt?i.push(new Kh(t,this.data,this.Vt,n)):i.push(new Yh(t,this.data,n)),this.fieldTransforms.length>0&&i.push(new Qh(t,this.fieldTransforms)),i},t}(),Sm=function(){function t(t,n,i){this.data=t,this.Vt=n,this.fieldTransforms=i}return t.prototype.Rc=function(t,n){var i=[new Kh(t,this.data,this.Vt,n)];return this.fieldTransforms.length>0&&i.push(new Qh(t,this.fieldTransforms)),i},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cl()}}var Nm=function(){function t(t,n,i,e,r){this.settings=t,this.ii=n,this.serializer=i,void 0===e&&this.mc(),this.fieldTransforms=e||[],this.Vt=r||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lc",{get:function(){return this.settings.lc},enumerable:!0,configurable:!0}),t.prototype.Ac=function(n){return new t(Object.assign(Object.assign({},this.settings),n),this.ii,this.serializer,this.fieldTransforms,this.Vt)},t.prototype.Pc=function(t){var n,i=null===(n=this.path)||void 0===n?void 0:n.child(t),e=this.Ac({path:i,Tc:!1});return e.Vc(t),e},t.prototype.gc=function(t){var n,i=null===(n=this.path)||void 0===n?void 0:n.child(t),e=this.Ac({path:i,Tc:!1});return e.mc(),e},t.prototype.pc=function(t){return this.Ac({path:void 0,Tc:!0})},t.prototype.dc=function(t){var n=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new nh(th.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+n)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(n){return t.q(n)}))||void 0!==this.fieldTransforms.find((function(n){return t.q(n.field)}))},t.prototype.mc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Vc(this.path.get(t))},t.prototype.Vc=function(t){if(0===t.length)throw this.dc("Document fields must not be empty");if(Om(this.lc)&&Am.test(t))throw this.dc('Document fields cannot begin and end with "__"')},t}(),Rm=function(){function t(t,n){this.ii=t,this.serializer=n||il.nt().yc(t)}return t.prototype.bc=function(t,n){var i=this.vc(0,t);Mm("Data must be an object, but it was:",i,n);var e=Dm(n,i);return new km(new tf(e),null,i.fieldTransforms)},t.prototype.Sc=function(t,n,i){var e=this.vc(2,t);Mm("Data must be an object, but it was:",e,n);var r,o,s=Dm(n,e);if(i){for(var u=[],a=0,c=i;a<c.length;a++){var h=c[a],f=void 0;if(h instanceof gm)f=h.uc;else{if("string"!=typeof h)throw cl();f=Lm(t,h)}if(!e.contains(f))throw new nh(th.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Fm(u,f)||u.push(f)}r=new Gh(u),o=e.fieldTransforms.filter((function(t){return r.dt(t.field)}))}else r=new Gh(e.Vt),o=e.fieldTransforms;return new km(new tf(s),r,o)},t.prototype.Dc=function(t,n){var i=this.vc(1,t);Mm("Data must be an object, but it was:",i,n);var e=[],r=new nf;vh(n,(function(n,o){var s=Lm(t,n),u=i.gc(s);if(o instanceof xm)e.push(s);else{var a=Cm(o,u);null!=a&&(e.push(s),r.set(s,a))}}));var o=new Gh(e);return new Sm(r.yt(),o,i.fieldTransforms)},t.prototype.Cc=function(t,n,i,e){var r=this.vc(1,t),o=[jm(t,n)],s=[i];if(e.length%2!=0)throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<e.length;u+=2)o.push(jm(t,e[u])),s.push(e[u+1]);for(var a=[],c=new nf,h=o.length-1;h>=0;--h)if(!Fm(a,o[h])){var f=o[h],l=s[h],d=r.gc(f);if(l instanceof xm)a.push(f);else{var m=Cm(l,d);null!=m&&(a.push(f),c.set(f,m))}}var v=new Gh(a);return new Sm(c.yt(),v,r.fieldTransforms)},t.prototype.vc=function(t,n){return new Nm({lc:t,methodName:n,path:lh.G,Tc:!1},this.ii,this.serializer)},t.prototype.Fc=function(t,n,i){return void 0===i&&(i=!1),Cm(n,this.vc(i?4:3,t))},t}();function Cm(t,n){if(Pm(t))return Mm("Unsupported field value:",n,t),Dm(t,n);if(t instanceof wm)return function(t,n){if(!Om(n.lc))throw n.dc(t._c+"() can only be used with update() and set()");if(null===n.path)throw n.dc(t._c+"() is not currently supported inside arrays");var i=t.Di(n);i&&n.fieldTransforms.push(i)}(t,n),null;if(n.path&&n.Vt.push(n.path),t instanceof Array){if(n.settings.Tc&&4!==n.lc)throw n.dc("Nested arrays are not supported");return function(t,n){for(var i=[],e=0,r=0,o=t;r<o.length;r++){var s=Cm(o[r],n.pc(e));null==s&&(s={nullValue:"NULL_VALUE"}),i.push(s),e++}return{arrayValue:{values:i}}}(t,n)}return function(t,n){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return n.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var i=uh.fromDate(t);return{timestampValue:n.serializer.C(i)}}if(t instanceof uh){var e=new uh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:n.serializer.C(e)}}if(t instanceof Tm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pm)return{bytesValue:n.serializer.ui(t)};if(t instanceof Rv){var r=n.ii,o=t.firestore.Nc;if(!o.isEqual(r))throw n.dc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:n.serializer._i(t.$c.path,t.firestore.Nc)}}throw n.dc("Unsupported field value: "+um(t))}(t,n)}function Dm(t,n){var i={};return ph(t)?n.path&&n.path.length>0&&n.Vt.push(n.path):vh(t,(function(t,e){var r=Cm(e,n.Pc(t));null!=r&&(i[t]=r)})),{mapValue:{fields:i}}}function Pm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof uh||t instanceof Tm||t instanceof pm||t instanceof Rv||t instanceof wm)}function Mm(t,n,i){if(!Pm(i)||!sm(i)){var e=um(i);throw"an object"===e?n.dc(t+" a custom object"):n.dc(t+" "+e)}}function jm(t,n){if(n instanceof gm)return n.uc;if("string"==typeof n)return Lm(t,n);throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Lm(t,n){try{return function(t){if(t.search(bm)>=0)throw new nh(th.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(gm.bind.apply(gm,pt([void 0],t.split("."))))}catch(n){throw new nh(th.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(n).uc}catch(n){var i=(e=n)instanceof Error?e.message:e.toString();throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+i)}var e}function Fm(t,n){return t.some((function(t){return t.isEqual(n)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um=function(){function t(t,n,i,e,r,o){this.Tr=t,this.kc=i,this.Mc=e,this.Lc=r,this.listener=o,this.state=0,this.Oc=0,this.xc=null,this.stream=null,this.Na=new Ol(t,n)}return t.prototype.Bc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.qc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Uc()},t.prototype.stop=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.Bc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Qc=function(){this.state=0,this.Na.reset()},t.prototype.Wc=function(){var t=this;this.qc()&&null===this.xc&&(this.xc=this.Tr.yr(this.kc,6e4,(function(){return t.jc()})))},t.prototype.Kc=function(t){this.Gc(),this.stream.send(t)},t.prototype.jc=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){return this.qc()?[2,this.close(0)]:[2]}))}))},t.prototype.Gc=function(){this.xc&&(this.xc.cancel(),this.xc=null)},t.prototype.close=function(t,n){return ft(this,void 0,void 0,(function(){return lt(this,(function(i){switch(i.label){case 0:return this.Gc(),this.Na.cancel(),this.Oc++,3!==t?this.Na.reset():n&&n.code===th.RESOURCE_EXHAUSTED?(ul(n.toString()),ul("Using maximum backoff delay to prevent overloading the backend."),this.Na.Vr()):n&&n.code===th.UNAUTHENTICATED&&this.Lc._(),null!==this.stream&&(this.zc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Hc(n)];case 1:return i.sent(),[2]}}))}))},t.prototype.zc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var n=this.Yc(this.Oc),i=this.Oc;this.Lc.getToken().then((function(n){t.Oc===i&&t.Jc(n)}),(function(i){n((function(){var n=new nh(th.UNKNOWN,"Fetching auth token failed: "+i.message);return t.Xc(n)}))}))},t.prototype.Jc=function(t){var n=this,i=this.Yc(this.Oc);this.stream=this.Zc(t),this.stream.t_((function(){i((function(){return n.state=2,n.listener.t_()}))})),this.stream.Hc((function(t){i((function(){return n.Xc(t)}))})),this.stream.onMessage((function(t){i((function(){return n.onMessage(t)}))}))},t.prototype.Uc=function(){var t=this;this.state=4,this.Na.gr((function(){return ft(t,void 0,void 0,(function(){return lt(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Xc=function(t){return sl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Yc=function(t){var n=this;return function(i){n.Tr.oo((function(){return n.Oc===t?i():(sl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Bm=function(t){function n(n,i,e,r,o){var s=this;return(s=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,e,o)||this).serializer=r,s}return at(n,t),n.prototype.Zc=function(t){return this.Mc.e_("Listen",t)},n.prototype.onMessage=function(t){this.Na.reset();var n=this.serializer.pi(t),i=this.serializer.bi(t);return this.listener.s_(n,i)},n.prototype.i_=function(t){var n={};n.database=this.serializer.wi,n.addTarget=this.serializer.ee(t);var i=this.serializer.zi(t);i&&(n.labels=i),this.Kc(n)},n.prototype.n_=function(t){var n={};n.database=this.serializer.wi,n.removeTarget=t,this.Kc(n)},n}(Um),zm=function(t){function n(n,i,e,r,o){var s=this;return(s=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,e,o)||this).serializer=r,s.r_=!1,s.lastStreamToken=gh.ht,s}return at(n,t),Object.defineProperty(n.prototype,"h_",{get:function(){return this.r_},enumerable:!0,configurable:!0}),n.prototype.start=function(){this.r_=!1,t.prototype.start.call(this)},n.prototype.zc=function(){this.r_&&this.o_([])},n.prototype.Zc=function(t){return this.Mc.e_("Write",t)},n.prototype.onMessage=function(t){if(hl(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.r_){this.Na.reset();var n=this.serializer.Li(t.writeResults,t.commitTime),i=this.serializer.fromVersion(t.commitTime);return this.listener.a_(i,n)}return hl(!t.writeResults||0===t.writeResults.length),this.r_=!0,this.listener.u_()},n.prototype.c_=function(){var t={};t.database=this.serializer.wi,this.Kc(t)},n.prototype.o_=function(t){var n=this,i={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return n.serializer.vi(t)}))};this.Kc(i)},n}(Um),Vm=function(t){function n(n,i,e){var r=this;return(r=t.call(this)||this).Mc=n,r.credentials=i,r.serializer=e,r}return at(n,t),n.prototype.l_=function(t,n){var i=this;return this.credentials.getToken().then((function(e){return i.Mc.l_(t,n,e)})).catch((function(t){throw t.code===th.UNAUTHENTICATED&&i.credentials._(),t}))},n.prototype.d_=function(t,n){var i=this;return this.credentials.getToken().then((function(e){return i.Mc.d_(t,n,e)})).catch((function(t){throw t.code===th.UNAUTHENTICATED&&i.credentials._(),t}))},n}((function(){this.ym=void 0})),qm=function(){function t(t){this.f_=t,this.T_=Mf(),this.mutations=[],this.E_=!1,this.I_=null,this.w_=new Set}return t.prototype.R_=function(t){return ft(this,void 0,void 0,(function(){var n,i=this;return lt(this,(function(e){switch(e.label){case 0:if(this.m_(),this.mutations.length>0)throw new nh(th.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:return i=fl(t),e={database:i.serializer.wi,documents:n.map((function(t){return i.serializer.fi(t)}))},[4,i.d_("BatchGetDocuments",e)];case 1:return r=u.sent(),o=new Map,r.forEach((function(t){var n=i.serializer.gi(t);o.set(n.key.toString(),n)})),s=[],[2,(n.forEach((function(t){var n=o.get(t.toString());hl(!!n),s.push(n)})),s)]}}))}))}(this.f_,t)];case 1:return[2,((n=e.sent()).forEach((function(t){t instanceof af||t instanceof uf?i.A_(t):cl()})),n)]}}))}))},t.prototype.set=function(t,n){this.write(n.Rc(t,this.Rt(t))),this.w_.add(t)},t.prototype.update=function(t,n){try{this.write(n.Rc(t,this.P_(t)))}catch(t){this.I_=t}this.w_.add(t)},t.prototype.delete=function(t){this.write([new Jh(t,this.Rt(t))]),this.w_.add(t)},t.prototype.commit=function(){return ft(this,void 0,void 0,(function(){var t,n=this;return lt(this,(function(i){switch(i.label){case 0:if(this.m_(),this.I_)throw this.I_;return t=this.T_,this.mutations.forEach((function(n){t=t.remove(n.key)})),t.forEach((function(t,i){n.mutations.push(new Zh(t,n.Rt(t)))})),[4,function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:return i=fl(t),e={database:i.serializer.wi,writes:n.map((function(t){return i.serializer.vi(t)}))},[4,i.l_("Commit",e)];case 1:return r=o.sent(),[2,i.serializer.Li(r.writeResults,r.commitTime)]}}))}))}(this.f_,this.mutations)];case 1:return i.sent(),this.E_=!0,[2]}}))}))},t.prototype.A_=function(t){var n;if(t instanceof uf)n=t.version;else{if(!(t instanceof af))throw cl();n=ah.min()}var i=this.T_.get(t.key);if(null!==i){if(!n.isEqual(i))throw new nh(th.ABORTED,"Document version changed between two reads.")}else this.T_=this.T_.me(t.key,n)},t.prototype.Rt=function(t){var n=this.T_.get(t);return!this.w_.has(t)&&n?Hh.updateTime(n):Hh.ft()},t.prototype.P_=function(t){var n=this.T_.get(t);if(!this.w_.has(t)&&n){if(n.isEqual(ah.min()))throw new nh(th.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hh.updateTime(n)}return Hh.exists(!0)},t.prototype.write=function(t){this.m_(),this.mutations=this.mutations.concat(t)},t.prototype.m_=function(){},t}(),Gm=function(){function t(t,n){this.wa=t,this.V_=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}return t.prototype.b_=function(){var t=this;0===this.g_&&(this.v_("Unknown"),this.p_=this.wa.yr("online_state_timeout",1e4,(function(){return t.p_=null,t.S_("Backend didn't respond within 10 seconds."),t.v_("Offline"),Promise.resolve()})))},t.prototype.D_=function(t){"Online"===this.state?this.v_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.S_("Connection failed 1 times. Most recent error: "+t.toString()),this.v_("Offline")))},t.prototype.set=function(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.v_(t)},t.prototype.v_=function(t){t!==this.state&&(this.state=t,this.V_(t))},t.prototype.S_=function(t){var n="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.y_?(ul(n),this.y_=!1):sl("OnlineStateTracker",n)},t.prototype.C_=function(){null!==this.p_&&(this.p_.cancel(),this.p_=null)},t}(),$m=function(){function t(t,n,i,e,r){var o=this;this.F_=t,this.f_=n,this.wa=i,this.N_=[],this.k_=new Map,this.M_=null,this.networkEnabled=!1,this.isPrimary=!1,this.L_=!1,this.O_=r,this.O_.x_((function(t){i.oo((function(){return ft(o,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.B_()?(sl("RemoteStore","Restarting streams for network reachability change."),[4,this.q_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.U_=new Gm(i,e),this.Q_=function(t,n,i){var e=fl(t);return new Bm(n,e.Mc,e.credentials,e.serializer,i)}(this.f_,i,{t_:this.W_.bind(this),Hc:this.j_.bind(this),s_:this.K_.bind(this)}),this.G_=function(t,n,i){var e=fl(t);return new zm(n,e.Mc,e.credentials,e.serializer,i)}(this.f_,i,{t_:this.z_.bind(this),Hc:this.H_.bind(this),u_:this.Y_.bind(this),a_:this.a_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.J_()},t.prototype.J_=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return this.B_()?(t=this.G_,[4,this.F_.zo()]):[3,3];case 1:return t.lastStreamToken=n.sent(),this.X_()?this.Z_():this.U_.set("Unknown"),[4,this.tl()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.U_.set("Offline"),[2]}}))}))},t.prototype.el=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return[4,this.G_.stop()];case 1:return t.sent(),[4,this.Q_.stop()];case 2:return t.sent(),this.N_.length>0&&(sl("RemoteStore","Stopping write stream with "+this.N_.length+" pending writes"),this.N_=[]),this.sl(),[2]}}))}))},t.prototype.Ro=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return sl("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.O_.Ro(),this.U_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.k_.has(t.targetId)||(this.k_.set(t.targetId,t),this.X_()?this.Z_():this.Q_.qc()&&this.il(t))},t.prototype.nl=function(t){this.k_.delete(t),this.Q_.qc()&&this.rl(t),0===this.k_.size&&(this.Q_.qc()?this.Q_.Wc():this.B_()&&this.U_.set("Unknown"))},t.prototype.si=function(t){return this.k_.get(t)||null},t.prototype.ei=function(t){return this.hl.ei(t)},t.prototype.il=function(t){this.M_.Ns(t.targetId),this.Q_.i_(t)},t.prototype.rl=function(t){this.M_.Ns(t),this.Q_.n_(t)},t.prototype.Z_=function(){this.M_=new Yf(this),this.Q_.start(),this.U_.b_()},t.prototype.X_=function(){return this.B_()&&!this.Q_.Bc()&&this.k_.size>0},t.prototype.B_=function(){return!this.L_&&this.isPrimary&&this.networkEnabled},t.prototype.sl=function(){this.M_=null},t.prototype.W_=function(){return ft(this,void 0,void 0,(function(){var t=this;return lt(this,(function(n){return this.k_.forEach((function(n,i){t.il(n)})),[2]}))}))},t.prototype.j_=function(t){return ft(this,void 0,void 0,(function(){return lt(this,(function(n){return this.sl(),this.X_()?(this.U_.D_(t),this.Z_()):this.U_.set("Unknown"),[2]}))}))},t.prototype.K_=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:if(this.U_.set("Online"),!(t instanceof Hf&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.ol(t)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),sl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,this.al(i)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof $f?this.M_.qs(t):t instanceof Wf?this.M_.Hs(t):this.M_.Ws(t),n.isEqual(ah.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.F_.ah()];case 8:return e=o.sent(),n.S(e)>=0?[4,this.ul(n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return sl("RemoteStore","Failed to raise snapshot:",r=o.sent()),[4,this.al(r)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.al=function(t){return ft(this,void 0,void 0,(function(){var n=this;return lt(this,(function(i){switch(i.label){case 0:if(!Nd(t))throw t;return this.L_=!0,[4,this.el()];case 1:return i.sent(),this.U_.set("Offline"),this.wa.Ua((function(){return ft(n,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return sl("RemoteStore","Retrying IndexedDB access"),[4,this.F_.ah()];case 1:return t.sent(),this.L_=!1,[4,this.J_()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.ul=function(t){var n=this,i=this.M_.Xs(t);return i.as.forEach((function(i,e){if(i.resumeToken.rt()>0){var r=n.k_.get(e);r&&n.k_.set(e,r.we(i.resumeToken,t))}})),i.us.forEach((function(t){var i=n.k_.get(t);if(i){n.k_.set(t,i.we(gh.ht,i.Ee)),n.rl(t);var e=new xf(i.target,t,1,i.sequenceNumber);n.il(e)}})),this.hl.Mu(i)},t.prototype.ol=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r;return lt(this,(function(o){switch(o.label){case 0:n=t.cause,i=0,e=t.targetIds,o.label=1;case 1:return i<e.length?(r=e[i],this.k_.has(r)?[4,this.hl.cl(r,n)]:[3,3]):[3,5];case 2:o.sent(),this.k_.delete(r),this.M_.removeTarget(r),o.label=3;case 3:o.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))},t.prototype.tl=function(){return ft(this,void 0,void 0,(function(){var t,n;return lt(this,(function(i){switch(i.label){case 0:return this._l()?(t=this.N_.length>0?this.N_[this.N_.length-1].batchId:-1,[4,this.F_.Bu(t)]):[3,5];case 1:return null!==(n=i.sent())?[3,2]:(0===this.N_.length&&this.G_.Wc(),[3,4]);case 2:return this.ll(n),[4,this.tl()];case 3:i.sent(),i.label=4;case 4:i.label=5;case 5:return this.dl()&&this.fl(),[2]}}))}))},t.prototype._l=function(){return this.B_()&&this.N_.length<10},t.prototype.Tl=function(){return this.N_.length},t.prototype.ll=function(t){this.N_.push(t),this.G_.qc()&&this.G_.h_&&this.G_.o_(t.mutations)},t.prototype.dl=function(){return this.B_()&&!this.G_.Bc()&&this.N_.length>0},t.prototype.fl=function(){this.G_.start()},t.prototype.z_=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){return this.G_.c_(),[2]}))}))},t.prototype.Y_=function(){var t=this;return this.F_.Ho(this.G_.lastStreamToken).then((function(){for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];t.G_.o_(e.mutations)}})).catch(Hd)},t.prototype.a_=function(t,n){var i=this,e=this.N_.shift(),r=xl.from(e,t,n,this.G_.lastStreamToken);return this.hl.El(r).then((function(){return i.tl()}))},t.prototype.H_=function(t){return ft(this,void 0,void 0,(function(){return lt(this,(function(n){switch(n.label){case 0:return t&&this.N_.length>0?this.G_.h_?[4,this.Il(t)]:[3,2]:[3,5];case 1:return n.sent(),[3,4];case 2:return[4,this.wl(t)];case 3:n.sent(),n.label=4;case 4:this.dl()&&this.fl(),n.label=5;case 5:return[2]}}))}))},t.prototype.wl=function(t){return ft(this,void 0,void 0,(function(){return lt(this,(function(n){return _f(t.code)?[2,(sl("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.G_.lastStreamToken),this.G_.lastStreamToken=gh.ht,this.F_.Ho(gh.ht).catch(Hd))]:[2]}))}))},t.prototype.Il=function(t){return ft(this,void 0,void 0,(function(){var n,i,e=this;return lt(this,(function(r){return _f(i=t.code)&&i!==th.ABORTED?(n=this.N_.shift(),[2,(this.G_.Qc(),this.hl.Rl(n.batchId,t).then((function(){return e.tl()})))]):[2]}))}))},t.prototype.ml=function(){return new qm(this.f_)},t.prototype.q_=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.U_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Al=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.B_()?(sl("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.q_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Pl=function(t){return ft(this,void 0,void 0,(function(){return lt(this,(function(n){switch(n.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return n.sent(),[3,5];case 2:return t?[3,4]:[4,this.el()];case 3:n.sent(),this.U_.set("Unknown"),n.label=4;case 4:n.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,n){return"firestore_clients_"+t+"_"+n}function Hm(t,n,i){var e="firestore_mutations_"+t+"_"+i;return n.t()&&(e+="_"+n.uid),e}function Xm(t,n){return"firestore_targets_"+t+"_"+n}var Ym=function(){function t(t,n,i,e){this.user=t,this.batchId=n,this.state=i,this.error=e}return t.Vl=function(n,i,e){var r=JSON.parse(e),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new nh(r.error.code,r.error.message)),o?new t(n,i,r.state,s):(ul("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+e),null)},t.prototype.gl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Km=function(){function t(t,n,i){this.targetId=t,this.state=n,this.error=i}return t.Vl=function(n,i){var e=JSON.parse(i),r="object"==typeof e&&-1!==["not-current","current","rejected"].indexOf(e.state)&&(void 0===e.error||"object"==typeof e.error),o=void 0;return r&&e.error&&(r="string"==typeof e.error.message&&"string"==typeof e.error.code)&&(o=new nh(e.error.code,e.error.message)),r?new t(n,e.state,o):(ul("SharedClientState","Failed to parse target state for ID '"+n+"': "+i),null)},t.prototype.gl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qm=function(){function t(t,n){this.clientId=t,this.activeTargetIds=n}return t.Vl=function(n,i){for(var e=JSON.parse(i),r="object"==typeof e&&e.activeTargetIds instanceof Array,o=Uf(),s=0;r&&s<e.activeTargetIds.length;++s)r=xh(e.activeTargetIds[s]),o=o.add(e.activeTargetIds[s]);return r?new t(n,o):(ul("SharedClientState","Failed to parse client data for instance '"+n+"': "+i),null)},t}(),Jm=function(){function t(t,n){this.clientId=t,this.onlineState=n}return t.Vl=function(n){var i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(ul("SharedClientState","Failed to parse online state: "+n),null)},t}(),Zm=function(){function t(){this.activeTargetIds=Uf()}return t.prototype.pl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.yl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.gl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),tv=function(){function t(n,i,e,r,o){if(this.Tr=n,this.platform=i,this.persistenceKey=e,this.bl=r,this.hl=null,this.V_=null,this.ur=null,this.vl=this.Sl.bind(this),this.Dl=new If(dl),this.io=!1,this.Cl=[],!t.jh(this.platform))throw new nh(th.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Fl=Wm(this.persistenceKey,this.bl),this.Nl=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Dl=this.Dl.me(this.bl,new Zm),this.$l=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.kl=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ml=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Ll=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.vl)}return t.jh=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return ft(this,void 0,void 0,(function(){var t,n,i,e,r,o,s,u,a,c,h,f=this;return lt(this,(function(l){switch(l.label){case 0:return[4,this.hl.po()];case 1:for(t=l.sent(),n=0,i=t;n<i.length;n++)(e=i[n])!==this.bl&&(r=this.getItem(Wm(this.persistenceKey,e)))&&(o=Qm.Vl(e,r))&&(this.Dl=this.Dl.me(o.clientId,o));for(this.Ol(),(s=this.storage.getItem(this.Ll))&&(u=this.xl(s))&&this.Bl(u),a=0,c=this.Cl;a<c.length;a++)h=c[a],this.Sl(h);return this.Cl=[],this.platform.window.addEventListener("unload",(function(){return f.Ro()})),this.io=!0,[2]}}))}))},t.prototype.lr=function(t){this.setItem(this.Nl,JSON.stringify(t))},t.prototype.ql=function(){return this.Ul(this.Dl)},t.prototype.Ql=function(t){var n=!1;return this.Dl.forEach((function(i,e){e.activeTargetIds.has(t)&&(n=!0)})),n},t.prototype.Wl=function(t){this.jl(t,"pending")},t.prototype.Kl=function(t,n,i){this.jl(t,n,i),this.Gl(t)},t.prototype.zl=function(t){var n="not-current";if(this.Ql(t)){var i=this.storage.getItem(Xm(this.persistenceKey,t));if(i){var e=Km.Vl(t,i);e&&(n=e.state)}}return this.Hl.pl(t),this.Ol(),n},t.prototype.Yl=function(t){this.Hl.yl(t),this.Ol()},t.prototype.Jl=function(t){return this.Hl.activeTargetIds.has(t)},t.prototype.Xl=function(t){this.removeItem(Xm(this.persistenceKey,t))},t.prototype.Zl=function(t,n,i){this.td(t,n,i)},t.prototype.Su=function(t,n,i){var e=this;n.forEach((function(t){e.Gl(t)})),this.currentUser=t,i.forEach((function(t){e.Wl(t)}))},t.prototype.ed=function(t){this.sd(t)},t.prototype.Ro=function(){this.io&&(this.platform.window.removeEventListener("storage",this.vl),this.removeItem(this.Fl),this.io=!1)},t.prototype.getItem=function(t){var n=this.storage.getItem(t);return sl("SharedClientState","READ",t,n),n},t.prototype.setItem=function(t,n){sl("SharedClientState","SET",t,n),this.storage.setItem(t,n)},t.prototype.removeItem=function(t){sl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sl=function(t){var n=this;if(t.storageArea===this.storage){if(sl("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Fl)return void ul("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.Ua((function(){return ft(n,void 0,void 0,(function(){var n,i,e,r,o,s;return lt(this,(function(u){if(this.io){if(null!==t.key)if(this.$l.test(t.key)){if(null==t.newValue)return n=this.nd(t.key),[2,this.rd(n,null)];if(i=this.hd(t.key,t.newValue))return[2,this.rd(i.clientId,i)]}else if(this.kl.test(t.key)){if(null!==t.newValue&&(e=this.od(t.key,t.newValue)))return[2,this.ad(e)]}else if(this.Ml.test(t.key)){if(null!==t.newValue&&(r=this.ud(t.key,t.newValue)))return[2,this._d(r)]}else if(t.key===this.Ll){if(null!==t.newValue&&(o=this.xl(t.newValue)))return[2,this.Bl(o)]}else t.key===this.Nl&&(s=function(t){var n=kl.dr;if(null!=t)try{var i=JSON.parse(t);hl("number"==typeof i),n=i}catch(t){ul("SharedClientState","Failed to read sequence number from WebStorage",t)}return n}(t.newValue))!==kl.dr&&this.ur(s)}else this.Cl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Hl",{get:function(){return this.Dl.get(this.bl)},enumerable:!0,configurable:!0}),t.prototype.Ol=function(){this.setItem(this.Fl,this.Hl.gl())},t.prototype.jl=function(t,n,i){var e=new Ym(this.currentUser,t,n,i),r=Hm(this.persistenceKey,this.currentUser,t);this.setItem(r,e.gl())},t.prototype.Gl=function(t){var n=Hm(this.persistenceKey,this.currentUser,t);this.removeItem(n)},t.prototype.sd=function(t){var n={clientId:this.bl,onlineState:t};this.storage.setItem(this.Ll,JSON.stringify(n))},t.prototype.td=function(t,n,i){var e=Xm(this.persistenceKey,t),r=new Km(t,n,i);this.setItem(e,r.gl())},t.prototype.nd=function(t){var n=this.$l.exec(t);return n?n[1]:null},t.prototype.hd=function(t,n){var i=this.nd(t);return Qm.Vl(i,n)},t.prototype.od=function(t,n){var i=this.kl.exec(t),e=Number(i[1]),r=void 0!==i[2]?i[2]:null;return Ym.Vl(new Zc(r),e,n)},t.prototype.ud=function(t,n){var i=this.Ml.exec(t),e=Number(i[1]);return Km.Vl(e,n)},t.prototype.xl=function(t){return Jm.Vl(t)},t.prototype.ad=function(t){return ft(this,void 0,void 0,(function(){return lt(this,(function(n){return t.user.uid===this.currentUser.uid?[2,this.hl.ld(t.batchId,t.state,t.error)]:(sl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype._d=function(t){return this.hl.dd(t.targetId,t.state,t.error)},t.prototype.rd=function(t,n){var i=this,e=n?this.Dl.me(t,n):this.Dl.remove(t),r=this.Ul(this.Dl),o=this.Ul(e),s=[],u=[];return o.forEach((function(t){r.has(t)||s.push(t)})),r.forEach((function(t){o.has(t)||u.push(t)})),this.hl.fd(s,u).then((function(){i.Dl=e}))},t.prototype.Bl=function(t){this.Dl.get(t.clientId)&&this.V_(t.onlineState)},t.prototype.Ul=function(t){var n=Uf();return t.forEach((function(t,i){n=n.He(i.activeTargetIds)})),n},t}(),nv=function(){function t(){this.Td=new Zm,this.Ed={},this.hl=null,this.V_=null,this.ur=null}return t.prototype.Wl=function(t){},t.prototype.Kl=function(t,n,i){},t.prototype.zl=function(t){return this.Td.pl(t),this.Ed[t]||"not-current"},t.prototype.Zl=function(t,n,i){this.Ed[t]=n},t.prototype.Yl=function(t){this.Td.yl(t)},t.prototype.Jl=function(t){return this.Td.activeTargetIds.has(t)},t.prototype.Xl=function(t){delete this.Ed[t]},t.prototype.ql=function(){return this.Td.activeTargetIds},t.prototype.Ql=function(t){return this.Td.activeTargetIds.has(t)},t.prototype.start=function(){return this.Td=new Zm,Promise.resolve()},t.prototype.Su=function(t,n,i){},t.prototype.ed=function(t){},t.prototype.Ro=function(){},t.prototype.lr=function(t){},t}(),iv=function(t){this.key=t},ev=function(t){this.key=t},rv=function(){function t(t,n){this.query=t,this.Id=n,this.wd=null,this.fs=!1,this.Rd=Lf(),this.ns=Lf(),this.md=new Bf(t.se.bind(t))}return Object.defineProperty(t.prototype,"Ad",{get:function(){return this.Id},enumerable:!0,configurable:!0}),t.prototype.Pd=function(t,n){var i=this,e=n?n.Vd:new zf,r=n?n.md:this.md,o=n?n.ns:this.ns,s=r,u=!1,a=this.query.oe()&&r.size===this.query.limit?r.last():null,c=this.query.ae()&&r.size===this.query.limit?r.first():null;if(t.pe((function(t,n){var h=r.get(t),f=n instanceof uf?n:null;f&&(f=i.query.matches(f)?f:null);var l=!!h&&i.ns.has(h.key),d=!!f&&(f.At||i.ns.has(f.key)&&f.hasCommittedMutations),m=!1;h&&f?h.data().isEqual(f.data())?l!==d&&(e.track({type:3,doc:f}),m=!0):i.gd(h,f)||(e.track({type:2,doc:f}),m=!0,(a&&i.query.se(f,a)>0||c&&i.query.se(f,c)<0)&&(u=!0)):!h&&f?(e.track({type:0,doc:f}),m=!0):h&&!f&&(e.track({type:1,doc:h}),m=!0,(a||c)&&(u=!0)),m&&(f?(s=s.add(f),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var h=this.query.oe()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),e.track({type:1,doc:h})}return{md:s,Vd:e,pd:u,ns:o}},t.prototype.gd=function(t,n){return t.At&&n.hasCommittedMutations&&!n.At},t.prototype.xn=function(t,n,i){var e=this,r=this.md;this.md=t.md,this.ns=t.ns;var o=t.Vd.es();o.sort((function(t,n){return function(t,n){var i=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cl()}};return i(t)-i(n)}(t.type,n.type)||e.query.se(t.doc,n.doc)})),this.yd(i);var s=n?this.bd():[],u=0===this.Rd.size&&this.fs?1:0,a=u!==this.wd;return this.wd=u,0!==o.length||a?{snapshot:new Vf(this.query,t.md,r,o,t.ns,0===u,a,!1),vd:s}:{vd:s}},t.prototype.Sd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.xn({md:this.md,Vd:new zf,ns:this.ns,pd:!1},!1)):{vd:[]}},t.prototype.Dd=function(t){return!this.Id.has(t)&&!!this.md.has(t)&&!this.md.get(t).At},t.prototype.yd=function(t){var n=this;t&&(t.Ts.forEach((function(t){return n.Id=n.Id.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return n.Id=n.Id.delete(t)})),this.fs=t.fs)},t.prototype.bd=function(){var t=this;if(!this.fs)return[];var n=this.Rd;this.Rd=Lf(),this.md.forEach((function(n){t.Dd(n.key)&&(t.Rd=t.Rd.add(n.key))}));var i=[];return n.forEach((function(n){t.Rd.has(n)||i.push(new ev(n))})),this.Rd.forEach((function(t){n.has(t)||i.push(new iv(t))})),i},t.prototype.Cd=function(t){this.Id=t.ju,this.Rd=Lf();var n=this.Pd(t.documents);return this.xn(n,!0)},t.prototype.Fd=function(){return Vf.os(this.query,this.md,this.ns,0===this.wd)},t}(),ov=function(){function t(t,n,i,e){this.wa=t,this.Nd=n,this.updateFunction=i,this.Aa=e,this.$d=5,this.Na=new Ol(this.wa,"transaction_retry")}return t.prototype.kd=function(){this.Md()},t.prototype.Md=function(){var t=this;this.Na.gr((function(){return ft(t,void 0,void 0,(function(){var t,n,i=this;return lt(this,(function(e){return t=this.Nd.ml(),(n=this.Ld(t))&&n.then((function(n){i.wa.oo((function(){return t.commit().then((function(){i.Aa.resolve(n)})).catch((function(t){i.Od(t)}))}))})).catch((function(t){i.Od(t)})),[2]}))}))}))},t.prototype.Ld=function(t){try{var n=this.updateFunction(t);return!bh(n)&&n.catch&&n.then?n:(this.Aa.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Aa.reject(t),null}},t.prototype.Od=function(t){var n=this;this.$d>0&&this.xd(t)?(this.$d-=1,this.wa.oo((function(){return n.Md(),Promise.resolve()}))):this.Aa.reject(t)},t.prototype.xd=function(t){if("FirebaseError"===t.name){var n=t.code;return"aborted"===n||"failed-precondition"===n||!_f(n)}return!1},t}(),sv=function(t,n,i){this.query=t,this.targetId=n,this.view=i},uv=function(t){this.key=t,this.Bd=!1},av=function(){function t(t,n,i,e,r){this.F_=t,this.Nd=n,this.qd=i,this.currentUser=e,this.Ud=r,this.Qd=null,this.Wd=new bl((function(t){return t.canonicalId()})),this.jd=new Map,this.Kd=[],this.Gd=new If(dh.N),this.zd=new Map,this.Hd=new Xd,this.Yd={},this.Jd=new Map,this.Xd=ql.ih(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Zd",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Qd=t},t.prototype.listen=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o;return lt(this,(function(s){switch(s.label){case 0:return this.tf("listen()"),(e=this.Wd.get(t))?(n=e.targetId,this.qd.zl(n),i=e.view.Fd(),[3,4]):[3,1];case 1:return[4,this.F_.Uu(t.ee())];case 2:return r=s.sent(),o=this.qd.zl(r.targetId),n=r.targetId,[4,this.ef(t,n,"current"===o)];case 3:i=s.sent(),this.Zd&&this.Nd.listen(r),s.label=4;case 4:return[2,i]}}))}))},t.prototype.ef=function(t,n,i){return ft(this,void 0,void 0,(function(){var e,r,o,s,u,a;return lt(this,(function(c){switch(c.label){case 0:return[4,this.F_.Wu(t,!0)];case 1:return e=c.sent(),r=new rv(t,e.ju),o=r.Pd(e.documents),s=Gf.ds(n,i&&"Offline"!==this.onlineState),u=r.xn(o,this.Zd,s),this.sf(n,u.vd),a=new sv(t,n,r),[2,(this.Wd.set(t,a),this.jd.has(n)?this.jd.get(n).push(t):this.jd.set(n,[t]),u.snapshot)]}}))}))},t.prototype.nl=function(t){return ft(this,void 0,void 0,(function(){var n,i,e=this;return lt(this,(function(r){switch(r.label){case 0:return this.tf("unlisten()"),n=this.Wd.get(t),(i=this.jd.get(n.targetId)).length>1?[2,(this.jd.set(n.targetId,i.filter((function(n){return!n.isEqual(t)}))),void this.Wd.delete(t))]:this.Zd?(this.qd.Yl(n.targetId),this.qd.Ql(n.targetId)?[3,2]:[4,this.F_.Qu(n.targetId,!1).then((function(){e.qd.Xl(n.targetId),e.Nd.nl(n.targetId),e.if(n.targetId)})).catch(Hd)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.if(n.targetId),[4,this.F_.Qu(n.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:this.tf("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.F_.Nu(t)];case 2:return i=o.sent(),this.qd.Wl(i.batchId),this.nf(i.batchId,n),[4,this.rf(i.Dn)];case 3:return o.sent(),[4,this.Nd.tl()];case 4:return o.sent(),[3,6];case 5:return e=o.sent(),r=Fd(e,"Failed to persist write"),n.reject(r),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,n,i){new ov(t,this.Nd,n,i).kd()},t.prototype.Mu=function(t){return ft(this,void 0,void 0,(function(){var n,i=this;return lt(this,(function(e){switch(e.label){case 0:this.tf("applyRemoteEvent()"),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,this.F_.Mu(t)];case 2:return n=e.sent(),t.as.forEach((function(t,n){var e=i.zd.get(n);e&&(hl(t.Ts.size+t.Es.size+t.Is.size<=1),t.Ts.size>0?e.Bd=!0:t.Es.size>0?hl(e.Bd):t.Is.size>0&&(hl(e.Bd),e.Bd=!1))})),[4,this.rf(n,t)];case 3:return e.sent(),[3,6];case 4:return[4,Hd(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Sd=function(t,n){this.tf("applyOnlineStateChange()");var i=[];this.Wd.forEach((function(n,e){var r=e.view.Sd(t);r.snapshot&&i.push(r.snapshot)})),this.Qd.hf(t),this.Qd.s_(i),this.onlineState=t},t.prototype.cl=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s,u=this;return lt(this,(function(a){switch(a.label){case 0:return this.tf("rejectListens()"),this.qd.Zl(t,"rejected",n),i=this.zd.get(t),(e=i&&i.key)?(r=(r=new If(dh.N)).me(e,new af(e,ah.min())),o=Lf().add(e),s=new qf(ah.min(),new Map,new kf(dl),r,o),[4,this.Mu(s)]):[3,2];case 1:return a.sent(),this.Gd=this.Gd.remove(e),this.zd.delete(t),this.af(),[3,4];case 2:return[4,this.F_.Qu(t,!1).then((function(){return u.if(t,n)})).catch(Hd)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},t.prototype.El=function(t){return ft(this,void 0,void 0,(function(){var n,i;return lt(this,(function(e){switch(e.label){case 0:this.tf("applySuccessfulWrite()"),n=t.batch.batchId,this.uf(n,null),this.cf(n),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,this.F_.Ko(t)];case 2:return i=e.sent(),this.qd.Kl(n,"acknowledged"),[4,this.rf(i)];case 3:return e.sent(),[3,6];case 4:return[4,Hd(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Rl=function(t,n){return ft(this,void 0,void 0,(function(){var i;return lt(this,(function(e){switch(e.label){case 0:this.tf("rejectFailedWrite()"),this.uf(t,n),this.cf(t),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,this.F_.ku(t)];case 2:return i=e.sent(),this.qd.Kl(t,"rejected",n),[4,this.rf(i)];case 3:return e.sent(),[3,6];case 4:return[4,Hd(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._f=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r;return lt(this,(function(o){switch(o.label){case 0:this.Nd.B_()||sl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.F_.ta()];case 2:return-1===(n=o.sent())?[2,void t.resolve()]:((i=this.Jd.get(n)||[]).push(t),this.Jd.set(n,i),[3,4]);case 3:return e=o.sent(),r=Fd(e,"Initialization of waitForPendingWrites() operation failed"),t.reject(r),[3,4];case 4:return[2]}}))}))},t.prototype.cf=function(t){(this.Jd.get(t)||[]).forEach((function(t){t.resolve()})),this.Jd.delete(t)},t.prototype.lf=function(t){this.Jd.forEach((function(n){n.forEach((function(n){n.reject(new nh(th.CANCELLED,t))}))})),this.Jd.clear()},t.prototype.nf=function(t,n){var i=this.Yd[this.currentUser.s()];i||(i=new If(dl)),i=i.me(t,n),this.Yd[this.currentUser.s()]=i},t.prototype.uf=function(t,n){var i=this.Yd[this.currentUser.s()];if(i){var e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),this.Yd[this.currentUser.s()]=i}},t.prototype.if=function(t,n){var i=this;void 0===n&&(n=null),this.qd.Yl(t);for(var e=0,r=this.jd.get(t);e<r.length;e++){var o=r[e];this.Wd.delete(o),n&&this.Qd.df(o,n)}this.jd.delete(t),this.Zd&&this.Hd.ic(t).forEach((function(t){i.Hd.Dh(t)||i.ff(t)}))},t.prototype.ff=function(t){var n=this.Gd.get(t);null!==n&&(this.Nd.nl(n),this.Gd=this.Gd.remove(t),this.zd.delete(n),this.af())},t.prototype.sf=function(t,n){for(var i=0,e=n;i<e.length;i++){var r=e[i];r instanceof iv?(this.Hd.ph(r.key,t),this.Tf(r)):r instanceof ev?(sl("SyncEngine","Document no longer in limbo: "+r.key),this.Hd.bh(r.key,t),this.Hd.Dh(r.key)||this.ff(r.key)):cl()}},t.prototype.Tf=function(t){var n=t.key;this.Gd.get(n)||(sl("SyncEngine","New document in limbo: "+n),this.Kd.push(n),this.af())},t.prototype.af=function(){for(;this.Kd.length>0&&this.Gd.size<this.Ud;){var t=this.Kd.shift(),n=this.Xd.next();this.zd.set(n,new uv(t)),this.Gd=this.Gd.me(t,n),this.Nd.listen(new xf(ff.Wt(t.path).ee(),n,2,kl.dr))}},t.prototype.Ef=function(){return this.Gd},t.prototype.If=function(){return this.Kd},t.prototype.rf=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o=this;return lt(this,(function(s){switch(s.label){case 0:return i=[],e=[],r=[],this.Wd.forEach((function(s,u){r.push(Promise.resolve().then((function(){var n=u.view.Pd(t);return n.pd?o.F_.Wu(u.query,!1).then((function(t){var i=t.documents;return u.view.Pd(i,n)})):n})).then((function(t){var r=n&&n.as.get(u.targetId),s=u.view.xn(t,o.Zd,r);if(o.sf(u.targetId,s.vd),s.snapshot){o.Zd&&o.qd.Zl(u.targetId,s.snapshot.fromCache?"not-current":"current"),i.push(s.snapshot);var a=Al.ar(u.targetId,s.snapshot);e.push(a)}})))})),[4,Promise.all(r)];case 1:return s.sent(),this.Qd.s_(i),[4,this.F_.xu(e)];case 2:return s.sent(),[2]}}))}))},t.prototype.tf=function(t){},t.prototype.Al=function(t){return ft(this,void 0,void 0,(function(){var n,i;return lt(this,(function(e){switch(e.label){case 0:return n=!this.currentUser.isEqual(t),this.currentUser=t,n?(this.lf("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.F_.Su(t)]):[3,3];case 1:return i=e.sent(),this.qd.Su(t,i.Cu,i.Fu),[4,this.rf(i.Du)];case 2:e.sent(),e.label=3;case 3:return[4,this.Nd.Al()];case 4:return e.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nd.disableNetwork()},t.prototype.ei=function(t){var n=this.zd.get(t);if(n&&n.Bd)return Lf().add(n.key);var i=Lf(),e=this.jd.get(t);if(!e)return i;for(var r=0,o=e;r<o.length;r++){var s=o[r],u=this.Wd.get(s);i=i.He(u.view.Ad)}return i},t}(),cv=function(t){function n(n,i,e,r,o){var s=this;return(s=t.call(this,n,i,e,r,o)||this).F_=n,s.wf=void 0,s}return at(n,t),Object.defineProperty(n.prototype,"Zd",{get:function(){return!0===this.wf},enumerable:!0,configurable:!0}),n.prototype.enableNetwork=function(){return this.F_.ho(!0),t.prototype.enableNetwork.call(this)},n.prototype.disableNetwork=function(){return this.F_.ho(!1),t.prototype.disableNetwork.call(this)},n.prototype.Rf=function(t){return ft(this,void 0,void 0,(function(){var n,i;return lt(this,(function(e){switch(e.label){case 0:return[4,this.F_.Wu(t.query,!0)];case 1:return n=e.sent(),i=t.view.Cd(n),[2,(this.wf&&this.sf(t.targetId,i.vd),i)]}}))}))},n.prototype.Sd=function(n,i){this.Zd&&0===i&&(t.prototype.Sd.call(this,n,i),this.qd.ed(n)),this.Zd||1!==i||t.prototype.Sd.call(this,n,i)},n.prototype.ld=function(t,n,i){return ft(this,void 0,void 0,(function(){var e;return lt(this,(function(r){switch(r.label){case 0:return this.tf("applyBatchState()"),[4,this.F_.Gu(t)];case 1:return null===(e=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,this.Nd.tl()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(this.uf(t,i||null),this.F_.zu(t)):cl(),r.label=4;case 4:return[4,this.rf(e)];case 5:return r.sent(),[3,7];case 6:sl("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},n.prototype.Pl=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o,s,u,a=this;return lt(this,(function(c){switch(c.label){case 0:return!0!==t||!0===this.wf?[3,3]:(n=this.qd.ql(),[4,this.mf(n.W(),!0)]);case 1:return i=c.sent(),this.wf=!0,[4,this.Nd.Pl(!0)];case 2:for(c.sent(),e=0,r=i;e<r.length;e++)o=r[e],this.Nd.listen(o);return[3,7];case 3:return!1!==t||!1===this.wf?[3,7]:(s=[],u=Promise.resolve(),this.jd.forEach((function(t,n){a.qd.Jl(n)?s.push(n):u=u.then((function(){return a.if(n),a.F_.Qu(n,!0)})),a.Nd.nl(n)})),[4,u]);case 4:return c.sent(),[4,this.mf(s,!1)];case 5:return c.sent(),this.Af(),this.wf=!1,[4,this.Nd.Pl(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},n.prototype.Af=function(){var t=this;this.zd.forEach((function(n,i){t.Nd.nl(i)})),this.Hd.nc(),this.zd=new Map,this.Gd=new If(dh.N)},n.prototype.mf=function(t,n){return ft(this,void 0,void 0,(function(){var n,i,e,r,o,s,u,a,c,h,f,l,d;return lt(this,(function(m){switch(m.label){case 0:n=[],i=[],e=0,r=t,m.label=1;case 1:return e<r.length?(o=r[e],s=void 0,(u=this.jd.get(o))&&0!==u.length?[4,this.F_.Qu(o,!0)]:[3,8]):[3,14];case 2:return m.sent(),[4,this.F_.Uu(u[0].ee())];case 3:s=m.sent(),a=0,c=u,m.label=4;case 4:return a<c.length?(h=c[a],f=this.Wd.get(h),[4,this.Rf(f)]):[3,7];case 5:(l=m.sent()).snapshot&&i.push(l.snapshot),m.label=6;case 6:return a++,[3,4];case 7:return[3,12];case 8:return[4,this.F_.Hu(o)];case 9:return d=m.sent(),[4,this.F_.Uu(d)];case 10:return s=m.sent(),[4,this.ef(this.Pf(d),o,!1)];case 11:m.sent(),m.label=12;case 12:n.push(s),m.label=13;case 13:return e++,[3,1];case 14:return[2,(this.Qd.s_(i),n)]}}))}))},n.prototype.Pf=function(t){return new ff(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},n.prototype.po=function(){return this.F_.po()},n.prototype.dd=function(t,n,i){return ft(this,void 0,void 0,(function(){var e,r;return lt(this,(function(o){switch(o.label){case 0:return this.wf?(sl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.jd.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.F_.Wr()];case 3:return e=o.sent(),r=qf.ls(t,"current"===n),[4,this.rf(e,r)];case 4:return o.sent(),[3,8];case 5:return[4,this.F_.Qu(t,!0)];case 6:return o.sent(),this.if(t,i),[3,8];case 7:cl(),o.label=8;case 8:return[2]}}))}))},n.prototype.fd=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s,u,a,c,h,f,l=this;return lt(this,(function(d){switch(d.label){case 0:if(!this.wf)return[3,10];i=0,e=t,d.label=1;case 1:return i<e.length?(r=e[i],this.jd.has(r)?(sl("SyncEngine","Adding an already active target "+r),[3,5]):[4,this.F_.Hu(r)]):[3,6];case 2:return o=d.sent(),[4,this.F_.Uu(o)];case 3:return s=d.sent(),[4,this.ef(this.Pf(o),s.targetId,!1)];case 4:d.sent(),this.Nd.listen(s),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return lt(this,(function(n){switch(n.label){case 0:return a.jd.has(t)?[4,a.F_.Qu(t,!1).then((function(){l.Nd.nl(t),l.if(t)})).catch(Hd)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},a=this,c=0,h=n,d.label=7;case 7:return c<h.length?(f=h[c],[5,u(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},n}(av),hv=function(){this.Vf=void 0,this.gf=[]},fv=function(){function t(t){this.hl=t,this.pf=new bl((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.yf=new Set,this.hl.subscribe(this)}return t.prototype.listen=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:if(n=t.query,i=!1,(e=this.pf.get(n))||(i=!0,e=new hv),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),r=e,[4,this.hl.listen(n)];case 2:return r.Vf=u.sent(),[3,4];case 3:return o=u.sent(),s=Fd(o,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(s)];case 4:return this.pf.set(n,e),e.gf.push(t),t.Sd(this.onlineState),e.Vf&&t.bf(e.Vf)&&this.vf(),[2]}}))}))},t.prototype.nl=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r;return lt(this,(function(o){return n=t.query,i=!1,(e=this.pf.get(n))&&(r=e.gf.indexOf(t))>=0&&(e.gf.splice(r,1),i=0===e.gf.length),i?[2,(this.pf.delete(n),this.hl.nl(n))]:[2]}))}))},t.prototype.s_=function(t){for(var n=!1,i=0,e=t;i<e.length;i++){var r=e[i],o=r.query,s=this.pf.get(o);if(s){for(var u=0,a=s.gf;u<a.length;u++)a[u].bf(r)&&(n=!0);s.Vf=r}}n&&this.vf()},t.prototype.df=function(t,n){var i=this.pf.get(t);if(i)for(var e=0,r=i.gf;e<r.length;e++)r[e].onError(n);this.pf.delete(t)},t.prototype.hf=function(t){this.onlineState=t;var n=!1;this.pf.forEach((function(i,e){for(var r=0,o=e.gf;r<o.length;r++)o[r].Sd(t)&&(n=!0)})),n&&this.vf()},t.prototype.Sf=function(t){this.yf.add(t),t.next()},t.prototype.Df=function(t){this.yf.delete(t)},t.prototype.vf=function(){this.yf.forEach((function(t){t.next()}))},t}(),lv=function(){function t(t,n,i){this.query=t,this.Cf=n,this.Ff=!1,this.Nf=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.bf=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,e=t.docChanges;i<e.length;i++){var r=e[i];3!==r.type&&n.push(r)}t=new Vf(t.query,t.docs,t.ss,n,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.Ff?this.$f(t)&&(this.Cf.next(t),o=!0):this.kf(t,this.onlineState)&&(this.Mf(t),o=!0),this.Nf=t,o},t.prototype.onError=function(t){this.Cf.error(t)},t.prototype.Sd=function(t){this.onlineState=t;var n=!1;return this.Nf&&!this.Ff&&this.kf(this.Nf,t)&&(this.Mf(this.Nf),n=!0),n},t.prototype.kf=function(t,n){if(!t.fromCache)return!0;var i="Offline"!==n;return!(this.options.Lf&&i||t.docs.B()&&"Offline"!==n)},t.prototype.$f=function(t){if(t.docChanges.length>0)return!0;var n=this.Nf&&this.Nf.hasPendingWrites!==t.hasPendingWrites;return!(!t.rs&&!n)&&!0===this.options.includeMetadataChanges},t.prototype.Mf=function(t){t=Vf.os(t.query,t.docs,t.ns,t.fromCache),this.Ff=!0,this.Cf.next(t)},t}(),dv=function(){function t(){}return t.prototype.vu=function(t){this.Of=t},t.prototype.Zn=function(t,n,i,e){var r=this;return n.te()||i.isEqual(ah.min())?this.xf(t,n):this.Of.Yn(t,e).next((function(o){var s=r.Bf(n,o);return(n.oe()||n.ae())&&r.pd(n.Bt,s,e,i)?r.xf(t,n):(rl()<=Ii.DEBUG&&sl("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),n.toString()),r.Of.Zn(t,n,i).next((function(t){return s.forEach((function(n){t=t.me(n.key,n)})),t})))}))},t.prototype.Bf=function(t,n){var i=new kf((function(n,i){return t.se(n,i)}));return n.forEach((function(n,e){e instanceof uf&&t.matches(e)&&(i=i.add(e))})),i},t.prototype.pd=function(t,n,i,e){if(i.size!==n.size)return!0;var r="F"===t?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.S(e)>0)},t.prototype.xf=function(t,n){return rl()<=Ii.DEBUG&&sl("IndexFreeQueryEngine","Using full collection scan to execute query: %s",n.toString()),this.Of.Zn(t,n,ah.min())},t}(),mv=function(){function t(t,n){this.jn=t,this.nh=n,this.Wn=[],this.qf=1,this.lastStreamToken=gh.ht,this.Uf=new kf(Yd.Ju)}return t.prototype.jo=function(t){return yl.resolve(0===this.Wn.length)},t.prototype.Ko=function(t,n,i){var e=n.batchId,r=this.Qf(e,"acknowledged");return hl(0===r),this.Wn[r],this.lastStreamToken=i,yl.resolve()},t.prototype.zo=function(t){return yl.resolve(this.lastStreamToken)},t.prototype.Ho=function(t,n){return this.lastStreamToken=n,yl.resolve()},t.prototype.Yo=function(t,n,i,e){var r=this.qf;this.qf++,this.Wn.length>0&&this.Wn[this.Wn.length-1];var o=new wl(r,n,i,e);this.Wn.push(o);for(var s=0,u=e;s<u.length;s++){var a=u[s];this.Uf=this.Uf.add(new Yd(a.key,r)),this.jn.vr(t,a.key.path.M())}return yl.resolve(o)},t.prototype.Jo=function(t,n){return yl.resolve(this.Wf(n))},t.prototype.Zo=function(t,n){var i=n+1,e=this.jf(i),r=e<0?0:e;return yl.resolve(this.Wn.length>r?this.Wn[r]:null)},t.prototype.ta=function(){return yl.resolve(0===this.Wn.length?-1:this.qf-1)},t.prototype.ea=function(t){return yl.resolve(this.Wn.slice())},t.prototype.Gn=function(t,n){var i=this,e=new Yd(n,0),r=new Yd(n,Number.POSITIVE_INFINITY),o=[];return this.Uf.Ke([e,r],(function(t){var n=i.Wf(t.hc);o.push(n)})),yl.resolve(o)},t.prototype.Xn=function(t,n){var i=this,e=new kf(dl);return n.forEach((function(t){var n=new Yd(t,0),r=new Yd(t,Number.POSITIVE_INFINITY);i.Uf.Ke([n,r],(function(t){e=e.add(t.hc)}))})),yl.resolve(this.Kf(e))},t.prototype.nr=function(t,n){var i=n.path,e=i.length+1,r=i;dh.et(r)||(r=r.child(""));var o=new Yd(new dh(r),0),s=new kf(dl);return this.Uf.Ge((function(t){var n=t.key.path;return!!i.q(n)&&(n.length===e&&(s=s.add(t.hc)),!0)}),o),yl.resolve(this.Kf(s))},t.prototype.Kf=function(t){var n=this,i=[];return t.forEach((function(t){var e=n.Wf(t);null!==e&&i.push(e)})),i},t.prototype.ia=function(t,n){var i=this;hl(0===this.Qf(n.batchId,"removed")),this.Wn.shift();var e=this.Uf;return yl.forEach(n.mutations,(function(r){var o=new Yd(r.key,n.batchId);return e=e.delete(o),i.nh.Oo(t,r.key)})).next((function(){i.Uf=e}))},t.prototype.na=function(t){},t.prototype.Dh=function(t,n){var i=new Yd(n,0),e=this.Uf.ze(i);return yl.resolve(n.isEqual(e&&e.key))},t.prototype.ra=function(t){return this.Wn.length,yl.resolve()},t.prototype.Qf=function(t,n){return this.jf(t)},t.prototype.jf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},t.prototype.Wf=function(t){var n=this.jf(t);return n<0||n>=this.Wn.length?null:this.Wn[n]},t}(),vv=function(){function t(t,n){this.jn=t,this.Gf=n,this.docs=new If(dh.N),this.size=0}return t.prototype.Nn=function(t,n,i){var e=n.key,r=this.docs.get(e),o=r?r.size:0,s=this.Gf(n);return this.docs=this.docs.me(e,{kr:n,size:s,readTime:i}),this.size+=s-o,this.jn.vr(t,e.path.M())},t.prototype.kn=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},t.prototype.Mn=function(t,n){var i=this.docs.get(n);return yl.resolve(i?i.kr:null)},t.prototype.getEntries=function(t,n){var i=this,e=Rf();return n.forEach((function(t){var n=i.docs.get(t);e=e.me(t,n?n.kr:null)})),yl.resolve(e)},t.prototype.Zn=function(t,n,i){for(var e=Df(),r=new dh(n.path.child("")),o=this.docs.ve(r);o.$e();){var s=o.Ne(),u=s.key,a=s.value,c=a.kr,h=a.readTime;if(!n.path.q(u.path))break;h.S(i)<=0||c instanceof uf&&n.matches(c)&&(e=e.me(c.key,c))}return yl.resolve(e)},t.prototype.zf=function(t,n){return yl.forEach(this.docs,(function(t){return n(t)}))},t.prototype.zr=function(n){return new t.Hr(this)},t.prototype.Jr=function(t){return yl.resolve(this.size)},t}();vv.Hr=function(t){function n(n){var i=this;return(i=t.call(this)||this).Xr=n,i}return at(n,t),n.prototype.xn=function(t){var n=this,i=[];return this.Dn.forEach((function(e,r){r?i.push(n.Xr.Nn(t,r,n.readTime)):n.Xr.kn(e)})),yl.vn(i)},n.prototype.Ln=function(t,n){return this.Xr.Mn(t,n)},n.prototype.On=function(t,n){return this.Xr.getEntries(t,n)},n}(_l);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pv=function(){function t(t){this.persistence=t,this.Hf=new bl((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=ah.min(),this.highestTargetId=0,this.Yf=0,this.Jf=new Xd,this.targetCount=0,this.Xf=ql.sh()}return t.prototype.js=function(t,n){return this.Hf.forEach((function(t,i){return n(i)})),yl.resolve()},t.prototype.ah=function(t){return yl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.uh=function(t){return yl.resolve(this.Yf)},t.prototype.rh=function(t){return this.highestTargetId=this.Xf.next(),yl.resolve(this.highestTargetId)},t.prototype.lh=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Yf&&(this.Yf=n),yl.resolve()},t.prototype.fh=function(t){this.Hf.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.Xf=new ql(n),this.highestTargetId=n),t.sequenceNumber>this.Yf&&(this.Yf=t.sequenceNumber)},t.prototype.dh=function(t,n){return this.fh(n),this.targetCount+=1,yl.resolve()},t.prototype.Eh=function(t,n){return this.fh(n),yl.resolve()},t.prototype.Ih=function(t,n){return this.Hf.delete(n.target),this.Jf.ic(n.targetId),this.targetCount-=1,yl.resolve()},t.prototype.Rh=function(t,n,i){var e=this,r=0,o=[];return this.Hf.forEach((function(s,u){u.sequenceNumber<=n&&null===i.get(u.targetId)&&(e.Hf.delete(s),o.push(e.wh(t,u.targetId)),r++)})),yl.vn(o).next((function(){return r}))},t.prototype.Ph=function(t){return yl.resolve(this.targetCount)},t.prototype.Vh=function(t,n){var i=this.Hf.get(n)||null;return yl.resolve(i)},t.prototype.gh=function(t,n,i){return this.Jf.tc(n,i),yl.resolve()},t.prototype.yh=function(t,n,i){this.Jf.sc(n,i);var e=this.persistence.nh,r=[];return e&&n.forEach((function(n){r.push(e.Oo(t,n))})),yl.vn(r)},t.prototype.wh=function(t,n){return this.Jf.ic(n),yl.resolve()},t.prototype.vh=function(t,n){var i=this.Jf.rc(n);return yl.resolve(i)},t.prototype.Dh=function(t,n){return yl.resolve(this.Jf.Dh(n))},t}(),gv=function(){function t(t){var n=this;this.Zf={},this.Oh=new kl(0),this.xh=!1,this.xh=!0,this.nh=t(this),this.zh=new pv(this),this.jn=new Pl,this.Qn=new vv(this.jn,(function(t){return n.nh.tT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ro=function(){return this.xh=!1,Promise.resolve()},Object.defineProperty(t.prototype,"io",{get:function(){return this.xh},enumerable:!0,configurable:!0}),t.prototype.no=function(){},t.prototype.Do=function(){return this.jn},t.prototype.yo=function(t){var n=this.Zf[t.s()];return n||(n=new mv(this.jn,this.nh),this.Zf[t.s()]=n),n},t.prototype.vo=function(){return this.zh},t.prototype.So=function(){return this.Qn},t.prototype.runTransaction=function(t,n,i){var e=this;sl("MemoryPersistence","Starting transaction:",t);var r=new bv(this.Oh.next());return this.nh.eT(),i(r).next((function(t){return e.nh.sT(r).next((function(){return t}))})).yn().then((function(t){return r.Un(),t}))},t.prototype.iT=function(t,n){return yl.Sn(Object.values(this.Zf).map((function(i){return function(){return i.Dh(t,n)}})))},t}(),bv=function(t){function n(n){var i=this;return(i=t.call(this)||this).Mh=n,i}return at(n,t),n}(Il),wv=function(){function t(t){this.persistence=t,this.nT=new Xd,this.rT=null}return t.hT=function(n){return new t(n)},Object.defineProperty(t.prototype,"oT",{get:function(){if(this.rT)return this.rT;throw cl()},enumerable:!0,configurable:!0}),t.prototype.ph=function(t,n,i){return this.nT.ph(i,n),this.oT.delete(i),yl.resolve()},t.prototype.bh=function(t,n,i){return this.nT.bh(i,n),this.oT.add(i),yl.resolve()},t.prototype.Oo=function(t,n){return this.oT.add(n),yl.resolve()},t.prototype.removeTarget=function(t,n){var i=this;this.nT.ic(n.targetId).forEach((function(t){return i.oT.add(t)}));var e=this.persistence.vo();return e.vh(t,n.targetId).next((function(t){t.forEach((function(t){return i.oT.add(t)}))})).next((function(){return e.Ih(t,n)}))},t.prototype.eT=function(){this.rT=new Set},t.prototype.sT=function(t){var n=this,i=this.persistence.So().zr();return yl.forEach(this.oT,(function(e){return n.aT(t,e).next((function(t){t||i.kn(e)}))})).next((function(){return n.rT=null,i.apply(t)}))},t.prototype.Uo=function(t,n){var i=this;return this.aT(t,n).next((function(t){t?i.oT.delete(n):i.oT.add(n)}))},t.prototype.tT=function(t){return 0},t.prototype.aT=function(t,n){var i=this;return yl.Sn([function(){return yl.resolve(i.nT.Dh(n))},function(){return i.persistence.vo().Dh(t,n)},function(){return i.persistence.iT(t,n)}])},t}(),xv=function(){function t(){}return t.prototype.initialize=function(t){return ft(this,void 0,void 0,(function(){var n=this;return lt(this,(function(i){switch(i.label){case 0:return this.qd=this.uT(t),this.persistence=this.cT(t),[4,this.persistence.start()];case 1:return i.sent(),this._T=this.lT(t),this.F_=this.dT(t),this.Nd=this.fT(t),this.hl=this.TT(t),this.ET=this.IT(t),this.qd.V_=function(t){return n.hl.Sd(t,1)},this.Nd.hl=this.hl,[4,this.F_.start()];case 2:return i.sent(),[4,this.qd.start()];case 3:return i.sent(),[4,this.Nd.start()];case 4:return i.sent(),[4,this.Nd.Pl(this.hl.Zd)];case 5:return i.sent(),[2]}}))}))},t.prototype.IT=function(t){return new fv(this.hl)},t.prototype.lT=function(t){return null},t.prototype.dT=function(t){return new $d(this.persistence,new dv,t.wT)},t.prototype.cT=function(t){return new gv(wv.hT)},t.prototype.fT=function(t){var n=this;return new $m(this.F_,t.f_,t.wa,(function(t){return n.hl.Sd(t,0)}),t.platform.RT())},t.prototype.uT=function(t){return new nv},t.prototype.TT=function(t){return new av(this.F_,this.Nd,this.qd,t.wT,t.Ud)},t.prototype.clearPersistence=function(t){throw new nh(th.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),yv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.initialize=function(n){return ft(this,void 0,void 0,(function(){var i=this;return lt(this,(function(e){switch(e.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return e.sent(),[4,this.persistence.so((function(t){return ft(i,void 0,void 0,(function(){return lt(this,(function(n){switch(n.label){case 0:return[4,this.hl.Pl(t)];case 1:return n.sent(),this._T&&(t&&!this._T.io?this._T.start(this.F_):t||this._T.stop()),[2]}}))}))}))];case 2:return e.sent(),[2]}}))}))},n.prototype.dT=function(t){return new Wd(this.persistence,new dv,t.wT)},n.prototype.TT=function(t){var n=new cv(this.F_,this.Nd,this.qd,t.wT,t.Ud);return this.qd instanceof tv&&(this.qd.hl=n),n},n.prototype.lT=function(t){var n=this.persistence.nh.No;return new qd(n,t.wa)},n.prototype.cT=function(t){var n=Jl.Fo(t.mT),i=t.platform.yc(t.mT.ii);return new Jl(t.AT.synchronizeTabs,n,t.clientId,t.platform,Vd.ru(t.AT.cacheSizeBytes),t.wa,i,this.qd)},n.prototype.uT=function(t){if(t.AT.PT&&t.AT.synchronizeTabs){if(!tv.jh(t.platform))throw new nh(th.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jl.Fo(t.mT);return new tv(t.wa,t.platform,n,t.clientId,t.wT)}return new nv},n.prototype.clearPersistence=function(t){var n=Jl.Fo(t);return Jl.clearPersistence(n)},n}(xv),_v=function(){function t(t,n,i,e){this.platform=t,this.mT=n,this.credentials=i,this.wa=e,this.clientId=ll.cn()}return t.prototype.start=function(t,n){var i=this;this.VT();var e=new Sl,r=new Sl,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,sl("FirestoreClient","Initializing. user=",s.uid),i.gT(t,n,s,r).then(e.resolve,e.reject);i.wa.oo((function(){return i.Al(s)}))})),this.wa.oo((function(){return e.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.VT(),this.wa.enqueue((function(){return t.hl.enableNetwork()}))},t.prototype.gT=function(t,n,i,e){return ft(this,void 0,void 0,(function(){var r,o,s,u,a=this;return lt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.platform.pT(this.mT)];case 1:return r=c.sent(),o=this.platform.yc(this.mT.ii),s=function(t,n,i){return new Vm(t,n,i)}(r,this.credentials,o),[4,t.initialize({wa:this.wa,mT:this.mT,platform:this.platform,f_:s,clientId:this.clientId,wT:i,Ud:100,AT:n})];case 2:return c.sent(),this.persistence=t.persistence,this.qd=t.qd,this.F_=t.F_,this.Nd=t.Nd,this.hl=t.hl,this._T=t._T,this.yT=t.ET,this.persistence.no((function(){return ft(a,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),e.resolve(),[3,4];case 3:if(u=c.sent(),e.reject(u),!this.bT(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.gT(new xv,{PT:!1},i,e))];case 4:return[2]}}))}))},t.prototype.bT=function(t){return"FirebaseError"===t.name?t.code===th.FAILED_PRECONDITION||t.code===th.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.VT=function(){if(this.wa.Ma)throw new nh(th.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Al=function(t){return this.wa.Wa(),sl("FirestoreClient","Credential Changed. Current user: "+t.uid),this.hl.Al(t)},t.prototype.disableNetwork=function(){var t=this;return this.VT(),this.wa.enqueue((function(){return t.hl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.wa.qa((function(){return ft(t,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this._T&&this._T.stop(),[4,this.Nd.Ro()];case 1:return t.sent(),[4,this.qd.Ro()];case 2:return t.sent(),[4,this.persistence.Ro()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.VT();var n=new Sl;return this.wa.oo((function(){return t.hl._f(n)})),n.promise},t.prototype.listen=function(t,n,i){var e=this;this.VT();var r=new lv(t,n,i);return this.wa.oo((function(){return e.yT.listen(r)})),r},t.prototype.nl=function(t){var n=this;this.vT||this.wa.oo((function(){return n.yT.nl(t)}))},t.prototype.ST=function(t){return ft(this,void 0,void 0,(function(){var n,i=this;return lt(this,(function(e){switch(e.label){case 0:return this.VT(),n=new Sl,[4,this.wa.enqueue((function(){return ft(i,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.F_.qu(t)];case 1:return(i=o.sent())instanceof uf?n.resolve(i):i instanceof af?n.resolve(null):n.reject(new nh(th.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return e=o.sent(),r=Fd(e,"Failed to get document '"+t+" from cache"),n.reject(r),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(e.sent(),n.promise)]}}))}))},t.prototype.DT=function(t){return ft(this,void 0,void 0,(function(){var n,i=this;return lt(this,(function(e){switch(e.label){case 0:return this.VT(),n=new Sl,[4,this.wa.enqueue((function(){return ft(i,void 0,void 0,(function(){var i,e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.F_.Wu(t,!0)];case 1:return i=a.sent(),e=new rv(t,i.ju),r=e.Pd(i.documents),o=e.xn(r,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Fd(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(e.sent(),n.promise)]}}))}))},t.prototype.write=function(t){var n=this;this.VT();var i=new Sl;return this.wa.oo((function(){return n.hl.write(t,i)})),i.promise},t.prototype.ii=function(){return this.mT.ii},t.prototype.Sf=function(t){var n=this;this.VT(),this.wa.oo((function(){return n.yT.Sf(t),Promise.resolve()}))},t.prototype.Df=function(t){var n=this;this.vT||this.wa.oo((function(){return n.yT.Df(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"vT",{get:function(){return this.wa.Ma},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var n=this;this.VT();var i=new Sl;return this.wa.oo((function(){return n.hl.runTransaction(n.wa,t,i),Promise.resolve()})),i.promise},t}(),Ev=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.CT(this.observer.next,t)},t.prototype.error=function(t){this.CT(this.observer.error,t)},t.prototype.FT=function(){this.muted=!0},t.prototype.CT=function(t,n){var i=this;this.muted||setTimeout((function(){i.muted||t(n)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return function(t,n){if("object"!=typeof t||null===t)return!1;for(var i=t,e=0,r=["next","error","complete"];e<r.length;e++){var o=r[e];if(o in i&&"function"==typeof i[o])return!0}return!1}(t)}var Tv=function(){function t(t,n,i,e){this.firestore=t,this.timestampsInSnapshots=n,this.NT=i,this.converter=e}return t.prototype.$T=function(t){switch(Ih(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rh(t.integerValue||t.doubleValue);case 3:return this.kT(t.timestampValue);case 4:return this.MT(t);case 5:return t.stringValue;case 6:return new pm(Ch(t.bytesValue));case 7:return this.LT(t.referenceValue);case 8:return this.OT(t.geoPointValue);case 9:return this.xT(t.arrayValue);case 10:return this.BT(t.mapValue);default:throw cl()}},t.prototype.BT=function(t){var n=this,i={};return vh(t.fields||{},(function(t,e){i[t]=n.$T(e)})),i},t.prototype.OT=function(t){return new Tm(Rh(t.latitude),Rh(t.longitude))},t.prototype.xT=function(t){var n=this;return(t.values||[]).map((function(t){return n.$T(t)}))},t.prototype.MT=function(t){switch(this.NT){case"previous":var n=function t(n){var i=n.mapValue.fields.xm;return yh(i)?t(i):i}(t);return null==n?null:this.$T(n);case"estimate":return this.kT(_h(t));default:return null}},t.prototype.kT=function(t){var n=Nh(t),i=new uh(n.seconds,n.nanos);return this.timestampsInSnapshots?i:i.toDate()},t.prototype.LT=function(t){var n=hh.K(t);hl(nl(n));var i=new gl(n.get(1),n.get(3)),e=new dh(n.k(5));return i.isEqual(this.firestore.Nc)||ul("Document "+e+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.Nc.projectId+"/"+this.firestore.Nc.database+") instead."),new Rv(e,this.firestore,this.converter)},t}(),Av=Vd.au,kv=function(){function t(t){var n,i;if(void 0===t.host){if(void 0!==t.ssl)throw new nh(th.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else im("settings","non-empty string","host",t.host),this.host=t.host,em("settings","boolean","ssl",t.ssl),this.ssl=null===(n=t.ssl)||void 0===n||n;if(cm("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),em("settings","object","credentials",t.credentials),this.credentials=t.credentials,em("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?ul("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&ul("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(i=t.timestampsInSnapshots)||void 0===i||i,em("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Vd.cu;else{if(t.cacheSizeBytes!==Av&&t.cacheSizeBytes<Vd.uu)throw new nh(th.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Vd.uu);this.cacheSizeBytes=t.cacheSizeBytes}em("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Sv=function(){function t(n,i,e){var r=this;if(void 0===e&&(e=new xv),this.qT=null,this.UT=new Ld,this.INTERNAL={delete:function(){return ft(r,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return this.QT(),[4,this.WT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof n.options){var o=n;this.qT=o,this.Nc=t.jT(o),this.KT=o.name,this.GT=new rh(i)}else{var s=n;if(!s.projectId)throw new nh(th.INVALID_ARGUMENT,"Must provide projectId");this.Nc=new gl(s.projectId,s.database),this.KT="[DEFAULT]",this.GT=new eh}this.zT=e,this.HT=new kv({}),this.YT=new Rm(this.Nc)}return t.prototype.settings=function(t){Qd("Firestore.settings",arguments,1),tm("Firestore.settings","object",1,t);var n=new kv(t);if(this.WT&&!this.HT.isEqual(n))throw new nh(th.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.HT=n,void 0!==n.credentials&&(this.GT=function(t){if(!t)return new eh;switch(t.type){case"gapi":var n=t.JT;return hl(!("object"!=typeof n||null===n||!n.auth||!n.auth.getAuthHeaderValueForFirstParty)),new sh(n,t.V||"0");case"provider":return t.JT;default:throw new nh(th.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},t.prototype.enableNetwork=function(){return this.QT(),this.WT.enableNetwork()},t.prototype.disableNetwork=function(){return this.QT(),this.WT.disableNetwork()},t.prototype.enablePersistence=function(t){var n,i;if(this.WT)throw new nh(th.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&ul("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),e=null!==(i=null!==(n=t.synchronizeTabs)&&void 0!==n?n:t.experimentalTabSynchronization)&&void 0!==i&&i),this.XT(this.zT,{PT:!0,cacheSizeBytes:this.HT.cacheSizeBytes,synchronizeTabs:e})},t.prototype.clearPersistence=function(){return ft(this,void 0,void 0,(function(){var t,n=this;return lt(this,(function(i){if(void 0!==this.WT&&!this.WT.vT)throw new nh(th.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Sl,[2,(this.UT.La((function(){return ft(n,void 0,void 0,(function(){var n,i;return lt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n=this.ZT(),[4,this.zT.clearPersistence(n)];case 1:return e.sent(),t.resolve(),[3,3];case 2:return i=e.sent(),t.reject(i),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"tE",{get:function(){return this.QT(),this.WT.vT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.QT(),this.WT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.QT(),Iv(t))return this.eE(t);tm("Firestore.onSnapshotsInSync","function",1,t);var n={next:t};return this.eE(n)},t.prototype.eE=function(t){var n=this,i=new Ev({next:function(){t.next&&t.next()},error:function(t){throw cl()}});return this.WT.Sf(i),function(){i.FT(),n.WT.Df(i)}},t.prototype.QT=function(){return this.WT||this.XT(new xv,{PT:!1}),this.WT},t.prototype.ZT=function(){return new pl(this.Nc,this.KT,this.HT.host,this.HT.ssl,this.HT.forceLongPolling)},t.prototype.XT=function(t,n){var i=this.ZT();return this.WT=new _v(il.nt(),i,this.GT,this.UT),this.WT.start(t,n)},t.jT=function(t){if(n=t.options,!Object.prototype.hasOwnProperty.call(n,"projectId"))throw new nh(th.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n,i=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!i||"string"!=typeof i)throw new nh(th.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new gl(i)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.qT)throw new nh(th.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.qT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return Qd("Firestore.collection",arguments,1),tm("Firestore.collection","non-empty string",1,t),this.QT(),new Lv(hh.K(t),this)},t.prototype.doc=function(t){return Qd("Firestore.doc",arguments,1),tm("Firestore.doc","non-empty string",1,t),this.QT(),Rv.sE(hh.K(t),this)},t.prototype.collectionGroup=function(t){if(Qd("Firestore.collectionGroup",arguments,1),tm("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new nh(th.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.QT(),new Mv(new ff(hh.G,t),this)},t.prototype.runTransaction=function(t){var n=this;return Qd("Firestore.runTransaction",arguments,1),tm("Firestore.runTransaction","function",1,t),this.QT().transaction((function(i){return t(new Ov(n,i))}))},t.prototype.batch=function(){return this.QT(),new Nv(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(rl()){case Ii.DEBUG:return"debug";case Ii.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Qd("Firestore.setLogLevel",arguments,1),tm("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":ol(Ii.DEBUG);break;case"error":ol(Ii.ERROR);break;case"silent":ol(Ii.SILENT);break;default:throw new nh(th.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.iE=function(){return this.HT.timestampsInSnapshots},t}(),Ov=function(){function t(t,n){this.nE=t,this.rE=n}return t.prototype.get=function(t){var n=this;Qd("Transaction.get",arguments,1);var i=zv("Transaction.get",t,this.nE);return this.rE.R_([i.$c]).then((function(t){if(!t||1!==t.length)return cl();var e=t[0];if(e instanceof af)return new Dv(n.nE,i.$c,null,!1,!1,i.hE);if(e instanceof uf)return new Dv(n.nE,i.$c,e,!1,!1,i.hE);throw cl()}))},t.prototype.set=function(t,n,i){Zd("Transaction.set",arguments,2,3);var e=zv("Transaction.set",t,this.nE);i=Fv("Transaction.set",i);var r=qv(e.hE,n,"Transaction.set"),o=r[0],s=r[1],u=i.merge||i.mergeFields?this.nE.YT.Sc(s,o,i.mergeFields):this.nE.YT.bc(s,o);return this.rE.set(e.$c,u),this},t.prototype.update=function(t,n,i){for(var e,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof n||n instanceof gm?(Jd("Transaction.update",arguments,3),e=zv("Transaction.update",t,this.nE),r=this.nE.YT.Cc("Transaction.update",n,i,o)):(Qd("Transaction.update",arguments,2),e=zv("Transaction.update",t,this.nE),r=this.nE.YT.Dc("Transaction.update",n)),this.rE.update(e.$c,r),this},t.prototype.delete=function(t){Qd("Transaction.delete",arguments,1);var n=zv("Transaction.delete",t,this.nE);return this.rE.delete(n.$c),this},t}(),Nv=function(){function t(t){this.nE=t,this.oE=[],this.aE=!1}return t.prototype.set=function(t,n,i){Zd("WriteBatch.set",arguments,2,3),this.uE();var e=zv("WriteBatch.set",t,this.nE);i=Fv("WriteBatch.set",i);var r=qv(e.hE,n,"WriteBatch.set"),o=r[0],s=r[1],u=i.merge||i.mergeFields?this.nE.YT.Sc(s,o,i.mergeFields):this.nE.YT.bc(s,o);return this.oE=this.oE.concat(u.Rc(e.$c,Hh.ft())),this},t.prototype.update=function(t,n,i){for(var e,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.uE(),"string"==typeof n||n instanceof gm?(Jd("WriteBatch.update",arguments,3),e=zv("WriteBatch.update",t,this.nE),r=this.nE.YT.Cc("WriteBatch.update",n,i,o)):(Qd("WriteBatch.update",arguments,2),e=zv("WriteBatch.update",t,this.nE),r=this.nE.YT.Dc("WriteBatch.update",n)),this.oE=this.oE.concat(r.Rc(e.$c,Hh.exists(!0))),this},t.prototype.delete=function(t){Qd("WriteBatch.delete",arguments,1),this.uE();var n=zv("WriteBatch.delete",t,this.nE);return this.oE=this.oE.concat(new Jh(n.$c,Hh.ft())),this},t.prototype.commit=function(){return this.uE(),this.aE=!0,this.oE.length>0?this.nE.QT().write(this.oE):Promise.resolve()},t.prototype.uE=function(){if(this.aE)throw new nh(th.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Rv=function(){function t(t,n,i){this.$c=t,this.firestore=n,this.hE=i,this.WT=this.firestore.QT()}return t.sE=function(n,i,e){if(n.length%2!=0)throw new nh(th.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.j()+" has "+n.length);return new t(new dh(n),i,e)},Object.defineProperty(t.prototype,"id",{get:function(){return this.$c.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lv(this.$c.path.M(),this.firestore,this.hE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.$c.path.j()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Qd("DocumentReference.collection",arguments,1),tm("DocumentReference.collection","non-empty string",1,t),!t)throw new nh(th.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var n=hh.K(t);return new Lv(this.$c.path.child(n),this.firestore)},t.prototype.isEqual=function(n){if(!(n instanceof t))throw hm("isEqual","DocumentReference",1,n);return this.firestore===n.firestore&&this.$c.isEqual(n.$c)&&this.hE===n.hE},t.prototype.set=function(t,n){Zd("DocumentReference.set",arguments,1,2),n=Fv("DocumentReference.set",n);var i=qv(this.hE,t,"DocumentReference.set"),e=i[0],r=i[1],o=n.merge||n.mergeFields?this.firestore.YT.Sc(r,e,n.mergeFields):this.firestore.YT.bc(r,e);return this.WT.write(o.Rc(this.$c,Hh.ft()))},t.prototype.update=function(t,n){for(var i,e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return"string"==typeof t||t instanceof gm?(Jd("DocumentReference.update",arguments,2),i=this.firestore.YT.Cc("DocumentReference.update",t,n,e)):(Qd("DocumentReference.update",arguments,1),i=this.firestore.YT.Dc("DocumentReference.update",t)),this.WT.write(i.Rc(this.$c,Hh.exists(!0)))},t.prototype.delete=function(){return Qd("DocumentReference.delete",arguments,0),this.WT.write([new Jh(this.$c,Hh.ft())])},t.prototype.onSnapshot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Zd("DocumentReference.onSnapshot",arguments,1,4);var i,e={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Iv(t[r])||(cm("DocumentReference.onSnapshot",e=t[r],["includeMetadataChanges"]),em("DocumentReference.onSnapshot","boolean","includeMetadataChanges",e.includeMetadataChanges),r++);var o={includeMetadataChanges:e.includeMetadataChanges};return Iv(t[r])?i=t[r]:(tm("DocumentReference.onSnapshot","function",r,t[r]),nm("DocumentReference.onSnapshot","function",r+1,t[r+1]),nm("DocumentReference.onSnapshot","function",r+2,t[r+2]),i={next:t[r],error:t[r+1],complete:t[r+2]}),this.cE(o,i)},t.prototype.cE=function(t,n){var i=this,e=function(t){console.error("Uncaught Error in onSnapshot:",t)};n.error&&(e=n.error.bind(n));var r=new Ev({next:function(t){if(n.next){var e=t.docs.get(i.$c);n.next(new Dv(i.firestore,i.$c,e,t.fromCache,t.hasPendingWrites,i.hE))}},error:e}),o=this.WT.listen(ff.Wt(this.$c.path),r,t);return function(){r.FT(),i.WT.nl(o)}},t.prototype.get=function(t){var n=this;return Zd("DocumentReference.get",arguments,0,1),Bv("DocumentReference.get",t),new Promise((function(i,e){t&&"cache"===t.source?n.firestore.QT().ST(n.$c).then((function(t){i(new Dv(n.firestore,n.$c,t,!0,t instanceof uf&&t.At,n.hE))}),e):n._E(i,e,t)}))},t.prototype._E=function(t,n,i){var e=this.cE({includeMetadataChanges:!0,Lf:!0},{next:function(r){e(),!r.exists&&r.metadata.fromCache?n(new nh(th.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&i&&"server"===i.source?n(new nh(th.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:n})},t.prototype.withConverter=function(n){return new t(this.$c,this.firestore,n)},t}(),Cv=function(){function t(t,n){this.hasPendingWrites=t,this.fromCache=n}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Dv=function(){function t(t,n,i,e,r,o){this.nE=t,this.$c=n,this.lE=i,this.dE=e,this.fE=r,this.hE=o}return t.prototype.data=function(t){if(Zd("DocumentSnapshot.data",arguments,0,1),t=Uv("DocumentSnapshot.data",t),this.lE){if(this.hE){var n=new Pv(this.nE,this.$c,this.lE,this.dE,this.fE);return this.hE.fromFirestore(n,t)}return new Tv(this.nE,this.nE.iE(),t.serverTimestamps,void 0).$T(this.lE.Mt())}},t.prototype.get=function(t,n){if(Zd("DocumentSnapshot.get",arguments,1,2),n=Uv("DocumentSnapshot.get",n),this.lE){var i=this.lE.data().field(jm("DocumentSnapshot.get",t));if(null!==i)return new Tv(this.nE,this.nE.iE(),n.serverTimestamps,this.hE).$T(i)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.$c.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rv(this.$c,this.nE,this.hE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.lE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Cv(this.fE,this.dE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(n){if(!(n instanceof t))throw hm("isEqual","DocumentSnapshot",1,n);return this.nE===n.nE&&this.dE===n.dE&&this.$c.isEqual(n.$c)&&(null===this.lE?null===n.lE:this.lE.isEqual(n.lE))&&this.hE===n.hE},t}(),Pv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n.prototype.data=function(n){return t.prototype.data.call(this,n)},n}(Dv),Mv=function(){function t(t,n,i){this.TE=t,this.firestore=n,this.hE=i}return t.prototype.where=function(n,i,e){Qd("Query.where",arguments,3),am("Query.where",3,e);var r,o=function(t,n,i,e){if(!n.some((function(t){return t===e})))throw new nh(th.INVALID_ARGUMENT,"Invalid value "+um(e)+" provided to function Query.where() for its "+lm(2)+" argument. Acceptable values: "+n.join(", "));return e}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,i),s=jm("Query.where",n);if(s.Y()){if("array-contains"===o||"array-contains-any"===o)throw new nh(th.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.EE(e,o);for(var u=[],a=0,c=e;a<c.length;a++){var h=c[a];u.push(this.IE(h))}r={arrayValue:{values:u}}}else r=this.IE(e)}else"in"!==o&&"array-contains-any"!==o||this.EE(e,o),r=this.firestore.YT.Fc("Query.where",e,"in"===o);var f=lf.create(s,o,r);return this.wE(f),new t(this.TE.Gt(f),this.firestore,this.hE)},t.prototype.orderBy=function(n,i){var e;if(Zd("Query.orderBy",arguments,1,2),nm("Query.orderBy","non-empty string",2,i),void 0===i||"asc"===i)e="asc";else{if("desc"!==i)throw new nh(th.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+i+"', expected 'asc' or 'desc'.");e="desc"}if(null!==this.TE.startAt)throw new nh(th.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.TE.endAt)throw new nh(th.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=jm("Query.orderBy",n),o=new wf(r,e);return this.RE(o),new t(this.TE.zt(o),this.firestore,this.hE)},t.prototype.limit=function(n){return Qd("Query.limit",arguments,1),tm("Query.limit","number",1,n),fm("Query.limit",1,n),new t(this.TE.Ht(n),this.firestore,this.hE)},t.prototype.limitToLast=function(n){return Qd("Query.limitToLast",arguments,1),tm("Query.limitToLast","number",1,n),fm("Query.limitToLast",1,n),new t(this.TE.Yt(n),this.firestore,this.hE)},t.prototype.startAt=function(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];Jd("Query.startAt",arguments,1);var r=this.mE("Query.startAt",n,i,!0);return new t(this.TE.Jt(r),this.firestore,this.hE)},t.prototype.startAfter=function(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];Jd("Query.startAfter",arguments,1);var r=this.mE("Query.startAfter",n,i,!1);return new t(this.TE.Jt(r),this.firestore,this.hE)},t.prototype.endBefore=function(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];Jd("Query.endBefore",arguments,1);var r=this.mE("Query.endBefore",n,i,!0);return new t(this.TE.Xt(r),this.firestore,this.hE)},t.prototype.endAt=function(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];Jd("Query.endAt",arguments,1);var r=this.mE("Query.endAt",n,i,!1);return new t(this.TE.Xt(r),this.firestore,this.hE)},t.prototype.isEqual=function(n){if(!(n instanceof t))throw hm("isEqual","Query",1,n);return this.firestore===n.firestore&&this.TE.isEqual(n.TE)},t.prototype.withConverter=function(n){return new t(this.TE,this.firestore,n)},t.prototype.mE=function(t,n,i,e){if(am(t,1,n),n instanceof Dv){if(i.length>0)throw new nh(th.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=n;if(!r.exists)throw new nh(th.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.AE(r.lE,e)}var o=[n].concat(i);return this.PE(t,o,e)},t.prototype.AE=function(t,n){for(var i=[],e=0,r=this.TE.orderBy;e<r.length;e++){var o=r[e];if(o.field.Y())i.push(Dh(this.firestore.Nc,t.key));else{var s=t.field(o.field);if(yh(s))throw new nh(th.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=o.field.j();throw new nh(th.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}i.push(s)}}return new bf(i,n)},t.prototype.PE=function(t,n,i){var e=this.TE.xt;if(n.length>e.length)throw new nh(th.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<n.length;o++){var s=n[o];if(e[o].field.Y()){if("string"!=typeof s)throw new nh(th.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.TE._e()&&-1!==s.indexOf("/"))throw new nh(th.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var u=this.TE.path.child(hh.K(s));if(!dh.et(u))throw new nh(th.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var a=new dh(u);r.push(Dh(this.firestore.Nc,a))}else{var c=this.firestore.YT.Fc(t,s);r.push(c)}}return new bf(r,i)},t.prototype.onSnapshot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Zd("Query.onSnapshot",arguments,1,4);var i,e={},r=0;return"object"!=typeof t[r]||Iv(t[r])||(cm("Query.onSnapshot",e=t[r],["includeMetadataChanges"]),em("Query.onSnapshot","boolean","includeMetadataChanges",e.includeMetadataChanges),r++),Iv(t[r])?i=t[r]:(tm("Query.onSnapshot","function",r,t[r]),nm("Query.onSnapshot","function",r+1,t[r+1]),nm("Query.onSnapshot","function",r+2,t[r+2]),i={next:t[r],error:t[r+1],complete:t[r+2]}),this.VE(this.TE),this.cE(e,i)},t.prototype.cE=function(t,n){var i=this,e=function(t){console.error("Uncaught Error in onSnapshot:",t)};n.error&&(e=n.error.bind(n));var r=new Ev({next:function(t){n.next&&n.next(new jv(i.firestore,i.TE,t,i.hE))},error:e}),o=this.firestore.QT(),s=o.listen(this.TE,r,t);return function(){r.FT(),o.nl(s)}},t.prototype.VE=function(t){if(t.ae()&&0===t.xt.length)throw new nh(th.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var n=this;return Zd("Query.get",arguments,0,1),Bv("Query.get",t),this.VE(this.TE),new Promise((function(i,e){t&&"cache"===t.source?n.firestore.QT().DT(n.TE).then((function(t){i(new jv(n.firestore,n.TE,t,n.hE))}),e):n._E(i,e,t)}))},t.prototype._E=function(t,n,i){var e=this.cE({includeMetadataChanges:!0,Lf:!0},{next:function(r){e(),r.metadata.fromCache&&i&&"server"===i.source?n(new nh(th.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:n})},t.prototype.IE=function(t){if("string"==typeof t){if(""===t)throw new nh(th.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.TE._e()&&-1!==t.indexOf("/"))throw new nh(th.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var n=this.TE.path.child(hh.K(t));if(!dh.et(n))throw new nh(th.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+n+"' is not because it has an odd number of segments ("+n.length+").");return Dh(this.firestore.Nc,new dh(n))}if(t instanceof Rv){var i=t;return Dh(this.firestore.Nc,i.$c)}throw new nh(th.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+um(t)+".")},t.prototype.EE=function(t,n){if(!Array.isArray(t)||0===t.length)throw new nh(th.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(t.length>10)throw new nh(th.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new nh(th.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new nh(th.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.wE=function(t){if(t instanceof lf){var n=["array-contains","array-contains-any"],i=["in","array-contains-any"],e=n.indexOf(t.op)>=0,r=i.indexOf(t.op)>=0;if(t.ue()){var o=this.TE.jt();if(null!==o&&!o.isEqual(t.field))throw new nh(th.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.TE.Kt();null!==s&&this.gE(t.field,s)}else if(r||e){var u=null;if(r&&(u=this.TE.ce(i)),null===u&&e&&(u=this.TE.ce(n)),null!=u)throw u===t.op?new nh(th.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new nh(th.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+u.toString()+"' filters.")}}},t.prototype.RE=function(t){if(null===this.TE.Kt()){var n=this.TE.jt();null!==n&&this.gE(n,t.field)}},t.prototype.gE=function(t,n){if(!n.isEqual(t))throw new nh(th.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+n.toString()+"' instead.")},t}(),jv=function(){function t(t,n,i,e){this.nE=t,this.pE=n,this.yE=i,this.hE=e,this.bE=null,this.vE=null,this.metadata=new Cv(i.hasPendingWrites,i.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(n){return t.push(n)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.yE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.yE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,n){var i=this;Zd("QuerySnapshot.forEach",arguments,1,2),tm("QuerySnapshot.forEach","function",1,t),this.yE.docs.forEach((function(e){t.call(n,i.SE(e))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Mv(this.pE,this.nE,this.hE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(cm("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),em("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var n=!(!t||!t.includeMetadataChanges);if(n&&this.yE.hs)throw new nh(th.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.bE&&this.vE===n||(this.bE=function(t,n,i,e){if(i.ss.B()){var r=0;return i.docChanges.map((function(n){var o=new Pv(t,n.doc.key,n.doc,i.fromCache,i.ns.has(n.doc.key),e);return n.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}}))}var o=i.ss;return i.docChanges.filter((function(t){return n||3!==t.type})).map((function(n){var r=new Pv(t,n.doc.key,n.doc,i.fromCache,i.ns.has(n.doc.key),e),s=-1,u=-1;return 0!==n.type&&(s=o.indexOf(n.doc.key),o=o.delete(n.doc.key)),1!==n.type&&(u=(o=o.add(n.doc)).indexOf(n.doc.key)),{type:Vv(n.type),doc:r,oldIndex:s,newIndex:u}}))}(this.nE,n,this.yE,this.hE),this.vE=n),this.bE},t.prototype.isEqual=function(n){if(!(n instanceof t))throw hm("isEqual","QuerySnapshot",1,n);return this.nE===n.nE&&this.pE.isEqual(n.pE)&&this.yE.isEqual(n.yE)&&this.hE===n.hE},t.prototype.SE=function(t){return new Pv(this.nE,t.key,t,this.metadata.fromCache,this.yE.ns.has(t.key),this.hE)},t}(),Lv=function(t){function n(n,i,e){var r=this;if((r=t.call(this,ff.Wt(n),i,e)||this).DE=n,n.length%2!=1)throw new nh(th.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n.j()+" has "+n.length);return r}return at(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this.TE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.TE.path.M();return t.B()?null:new Rv(new dh(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.TE.path.j()},enumerable:!0,configurable:!0}),n.prototype.doc=function(t){if(Zd("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=ll.cn()),tm("CollectionReference.doc","non-empty string",1,t),""===t)throw new nh(th.INVALID_ARGUMENT,"Document path must be a non-empty string");var n=hh.K(t);return Rv.sE(this.TE.path.child(n),this.firestore,this.hE)},n.prototype.add=function(t){Qd("CollectionReference.add",arguments,1),tm("CollectionReference.add","object",1,this.hE?this.hE.toFirestore(t):t);var n=this.doc();return n.set(t).then((function(){return n}))},n.prototype.withConverter=function(t){return new n(this.DE,this.firestore,t)},n}(Mv);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,n){if(void 0===n)return{merge:!1};if(cm(t,n,["merge","mergeFields"]),em(t,"boolean","merge",n.merge),function(t,n,i,e,r){void 0!==e&&function(t,n,i,e,r){if(!(e instanceof Array))throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" option to be an array, but it was: "+um(e));for(var o=0;o<e.length;++o)if(!r(e[o]))throw new nh(th.INVALID_ARGUMENT,"Function "+t+"() requires all "+n+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+um(e[o]))}(t,"mergeFields",0,e,(function(t){return"string"==typeof t||t instanceof gm}))}(t,0,0,n.mergeFields),void 0!==n.mergeFields&&void 0!==n.merge)throw new nh(th.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return n}function Uv(t,n){return void 0===n?{}:(cm(t,n,["serverTimestamps"]),rm(t,0,"serverTimestamps",n.serverTimestamps,["estimate","previous","none"]),n)}function Bv(t,n){nm(t,"object",1,n),n&&(cm(t,n,["source"]),rm(t,0,"source",n.source,["default","server","cache"]))}function zv(t,n,i){if(n instanceof Rv){if(n.firestore!==i)throw new nh(th.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}throw hm(t,"DocumentReference",1,n)}function Vv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cl()}}function qv(t,n,i){var e;return t?(e=t.toFirestore(n),i="toFirestore() in "+i):e=n,[e,i]}function Gv(t,n){function i(){var t="This constructor is private.";throw n&&(t+=" ",t+=n),new nh(th.INVALID_ARGUMENT,t)}return i.prototype=t.prototype,Object.assign(i,t),i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $v=Gv(Sv,"Use firebase.firestore() instead."),Wv=Gv(Ov,"Use firebase.firestore().runTransaction() instead."),Hv=Gv(Nv,"Use firebase.firestore().batch() instead."),Xv=Gv(Rv,"Use firebase.firestore().doc() instead."),Yv=Gv(Dv),Kv=Gv(Pv),Qv=Gv(Mv),Jv=Gv(jv),Zv=Gv(Lv,"Use firebase.firestore().collection() instead."),tp=Gv(function(){function t(){}return t.delete=function(){return Kd("FieldValue.delete",arguments),new xm},t.serverTimestamp=function(){return Kd("FieldValue.serverTimestamp",arguments),new ym},t.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Jd("FieldValue.arrayUnion",arguments,1),new _m(t)},t.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Jd("FieldValue.arrayRemove",arguments,1),new Em(t)},t.increment=function(t){return tm("FieldValue.increment","number",1,t),Qd("FieldValue.increment",arguments,1),new Im(t)},t.prototype.isEqual=function(t){return this===t},t}(),"Use FieldValue.<field>() instead."),np=Gv(pm,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ip={Firestore:$v,GeoPoint:Tm,Timestamp:uh,Blob:np,Transaction:Wv,WriteBatch:Hv,DocumentReference:Xv,DocumentSnapshot:Yv,Query:Qv,QueryDocumentSnapshot:Kv,QuerySnapshot:Jv,CollectionReference:Zv,FieldPath:gm,FieldValue:tp,setLogLevel:Sv.setLogLevel,CACHE_SIZE_UNLIMITED:Av},ep=function(){function t(){}return t.prototype.x_=function(t){},t.prototype.Ro=function(){},t}(),rp=function(){function t(){var t=this;this.CE=function(){return t.FE()},this.NE=function(){return t.$E()},this.kE=[],this.ME()}return t.prototype.x_=function(t){this.kE.push(t)},t.prototype.Ro=function(){window.removeEventListener("online",this.CE),window.removeEventListener("offline",this.NE)},t.prototype.ME=function(){window.addEventListener("online",this.CE),window.addEventListener("offline",this.NE)},t.prototype.FE=function(){sl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.kE;t<n.length;t++)(0,n[t])(0)},t.prototype.$E=function(){sl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.kE;t<n.length;t++)(0,n[t])(1)},t.jh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),op=function(){function t(t){this.LE=t.LE,this.OE=t.OE}return t.prototype.t_=function(t){this.xE=t},t.prototype.Hc=function(t){this.BE=t},t.prototype.onMessage=function(t){this.qE=t},t.prototype.close=function(){this.OE()},t.prototype.send=function(t){this.LE(t)},t.prototype.UE=function(){this.xE()},t.prototype.QE=function(t){this.BE(t)},t.prototype.WE=function(t){this.qE(t)},t}(),sp={BatchGetDocuments:"batchGet",Commit:"commit"},up="gl-js/ fire/"+Jc,ap=function(){function t(t){this.ii=t.ii;var n=t.ssl?"https":"http";this.jE=n+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.KE=function(t,n){if(n)for(var i in n.o)n.o.hasOwnProperty(i)&&(t[i]=n.o[i]);t["X-Goog-Api-Client"]=up},t.prototype.l_=function(t,n,i){var e=this,r=this.GE(t);return new Promise((function(o,s){var u=new Qc;u.listenOnce(Yc.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Xc.NO_ERROR:var n=u.getResponseJson();sl("Connection","XHR received:",JSON.stringify(n)),o(n);break;case Xc.TIMEOUT:sl("Connection",'RPC "'+t+'" timed out'),s(new nh(th.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:var i=u.getStatus();if(sl("Connection",'RPC "'+t+'" failed with status:',i,"response text:",u.getResponseText()),i>0){var e=u.getResponseJson().error;if(e&&e.status&&e.message){var r=function(t){var n=t.toLowerCase().replace("_","-");return Object.values(th).indexOf(n)>=0?n:th.UNKNOWN}(e.status);s(new nh(r,e.message))}else s(new nh(th.UNKNOWN,"Server responded with status "+u.getStatus()))}else sl("Connection",'RPC "'+t+'" failed'),s(new nh(th.UNAVAILABLE,"Connection failed."));break;default:cl()}}finally{sl("Connection",'RPC "'+t+'" completed.')}}));var a=Object.assign({},n);delete a.database;var c=JSON.stringify(a);sl("Connection","XHR sending: ",r+" "+c);var h={"Content-Type":"text/plain"};e.KE(h,i),u.send(r,"POST",c,h,15)}))},t.prototype.d_=function(t,n,i){return this.l_(t,n,i)},t.prototype.e_=function(t,n){var i,e,r=[this.jE,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Hc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.KE(s.initMessageHeaders,n),Yn()||Qn()||Xn().indexOf("Electron/")>=0||((e=Xn()).indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0)||Xn().indexOf("MSAppHost/")>=0||"object"==typeof(i="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==i.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");sl("Connection","Creating WebChannel: "+u+" "+s);var a=o.createWebChannel(u,s),c=!1,h=!1,f=new op({LE:function(t){h?sl("Connection","Not sending because WebChannel is closed:",t):(c||(sl("Connection","Opening WebChannel transport."),a.open(),c=!0),sl("Connection","WebChannel sending:",t),a.send(t))},OE:function(){return a.close()}}),l=function(t,n){a.listen(t,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(Kc.EventType.OPEN,(function(){h||sl("Connection","WebChannel transport opened.")})),l(Kc.EventType.CLOSE,(function(){h||(h=!0,sl("Connection","WebChannel transport closed"),f.QE())})),l(Kc.EventType.ERROR,(function(t){h||(h=!0,sl("Connection","WebChannel transport errored:",t),f.QE(new nh(th.UNAVAILABLE,"The operation could not be completed")))})),l(Kc.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];hl(!!i);var e=i,r=e.error||(null===(n=e[0])||void 0===n?void 0:n.error);if(r){sl("Connection","WebChannel received error:",r);var o=r.status,s=function(t){var n=rf[t];if(void 0!==n)return Ef(n)}(o),u=r.message;void 0===s&&(s=th.INTERNAL,u="Unknown error status: "+o+" with message "+r.message),h=!0,f.QE(new nh(s,u)),a.close()}else sl("Connection","WebChannel received:",i),f.WE(i)}})),setTimeout((function(){f.UE()}),0),f},t.prototype.GE=function(t){var n=sp[t];return this.jE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+n},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */il.an(new(function(){function t(){this.oc="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.pT=function(t){return Promise.resolve(new ap(t))},t.prototype.RT=function(){return rp.jh()?new rp:new ep},t.prototype.yc=function(t){return new tl(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var n="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(n)n.getRandomValues(i);else for(var e=0;e<t;e++)i[e]=Math.floor(256*Math.random());return i},t}())),function(t){!function(t,n){t.INTERNAL.registerComponent(new wi("firestore",(function(t){return function(t,n){return new Sv(t,n,new yv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ip)))}(t),t.registerVersion("@firebase/firestore","1.14.5")
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(Gi);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hp=function(t){function n(i,e,r){var o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o.code=i,o.details=r,o}return at(n,t),n}(Error);var fp=function(){function t(t,n){var i=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return i.auth=t}),(function(){})),this.messaging||n.get().then((function(t){return i.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=n.sent())?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return ft(this,void 0,void 0,(function(){var t,n;return lt(this,(function(i){switch(i.label){case 0:return[4,this.getAuthToken()];case 1:return t=i.sent(),[4,this.getInstanceIdToken()];case 2:return n=i.sent(),[2,{authToken:t,instanceIdToken:n}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,n){var i={};for(var e in t)t.hasOwnProperty(e)&&(i[e]=n(t[e]));return i}var dp=function(){function t(){}return t.prototype.encode=function(t){var n=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return n.encode(t)}));if("function"==typeof t||"object"==typeof t)return lp(t,(function(t){return n.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var n=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var i=Number(t.value);if(isNaN(i))throw new Error("Data cannot be decoded from JSON: "+t);return i;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return n.decode(t)})):"function"==typeof t||"object"==typeof t?lp(t,(function(t){return n.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp=function(){function t(t,n,i,e){var r=this;void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new dp,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return r.deleteService()}},this.contextProvider=new fp(n,i),this.cancelAllRequests=new Promise((function(t){r.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var n=this.app_.options.projectId,i=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+n+"/"+i+"/"+t:"https://"+i+"-"+n+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,n){var i=this;return function(e){return i.call(t,e,n||{})}},t.prototype.postJSON=function(t,n,i){return ft(this,void 0,void 0,(function(){var e,r;return lt(this,(function(o){switch(o.label){case 0:i.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(n),headers:i})];case 2:return e=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,e.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:e.status,json:r}]}}))}))},t.prototype.call=function(t,n,i){return ft(this,void 0,void 0,(function(){var e,r,o,s,u,a,c,h;return lt(this,(function(f){switch(f.label){case 0:return e=this._url(t),n=this.serializer.encode(n),r={data:n},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&o.append("Authorization","Bearer "+s.authToken),s.instanceIdToken&&o.append("Firebase-Instance-ID-Token",s.instanceIdToken),u=i.timeout||7e4,[4,Promise.race([this.postJSON(e,r,o),(l=u,new Promise((function(t,n){setTimeout((function(){n(new hp("deadline-exceeded","deadline-exceeded"))}),l)}))),this.cancelAllRequests])];case 2:if(!(a=f.sent()))throw new hp("cancelled","Firebase Functions instance was deleted.");if(c=function(t,n,i){var e=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=e,o=void 0;try{var s=n&&n.error;if(s){var u=s.status;if("string"==typeof u){if(!cp[u])return new hp("internal","internal");e=cp[u],r=u}var a=s.message;"string"==typeof a&&(r=a),void 0!==(o=s.details)&&(o=i.decode(o))}}catch(t){}return"ok"===e?null:new hp(e,r,o)}(a.status,a.json,this.serializer))throw c;if(!a.json)throw new hp("internal","Response is not valid JSON object.");if(void 0===(h=a.json.data)&&(h=a.json.result),void 0===h)throw new hp("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}var l}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,n){var i=t.getProvider("app").getImmediate(),e=t.getProvider("auth-internal"),r=t.getProvider("messaging");return new mp(i,e,r,n)}function pp(t){return Array.prototype.slice.call(t)}function gp(t){return new Promise((function(n,i){t.onsuccess=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function bp(t,n,i){var e,r=new Promise((function(r,o){gp(e=t[n].apply(t,i)).then(r,o)}));return r.request=e,r}function wp(t,n,i){var e=bp(t,n,i);return e.then((function(t){if(t)return new Tp(t,e.request)}))}function xp(t,n,i){i.forEach((function(i){Object.defineProperty(t.prototype,i,{get:function(){return this[n][i]},set:function(t){this[n][i]=t}})}))}function yp(t,n,i,e){e.forEach((function(e){e in i.prototype&&(t.prototype[e]=function(){return bp(this[n],e,arguments)})}))}function _p(t,n,i,e){e.forEach((function(e){e in i.prototype&&(t.prototype[e]=function(){return this[n][e].apply(this[n],arguments)})}))}function Ep(t,n,i,e){e.forEach((function(e){e in i.prototype&&(t.prototype[e]=function(){return wp(this[n],e,arguments)})}))}function Ip(t){this._index=t}function Tp(t,n){this._cursor=t,this._request=n}function Ap(t){this._store=t}function kp(t){this._tx=t,this.complete=new Promise((function(n,i){t.oncomplete=function(){n()},t.onerror=function(){i(t.error)},t.onabort=function(){i(t.error)}}))}function Sp(t,n,i){this._db=t,this.oldVersion=n,this.transaction=new kp(i)}function Op(t){this._db=t}function Np(t,n,i){var e=bp(indexedDB,"open",[t,n]),r=e.request;return r&&(r.onupgradeneeded=function(t){i&&i(new Sp(r.result,t.oldVersion,r.transaction))}),e.then((function(t){return new Op(t)}))}function Rp(t){return bp(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){var n={Functions:mp};t.INTERNAL.registerComponent(new wi("functions",vp,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Gi),Gi.registerVersion("@firebase/functions","0.4.44"),xp(Ip,"_index",["name","keyPath","multiEntry","unique"]),yp(Ip,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ep(Ip,"_index",IDBIndex,["openCursor","openKeyCursor"]),xp(Tp,"_cursor",["direction","key","primaryKey","value"]),yp(Tp,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Tp.prototype[t]=function(){var n=this,i=arguments;return Promise.resolve().then((function(){return n._cursor[t].apply(n._cursor,i),gp(n._request).then((function(t){if(t)return new Tp(t,n._request)}))}))})})),Ap.prototype.createIndex=function(){return new Ip(this._store.createIndex.apply(this._store,arguments))},Ap.prototype.index=function(){return new Ip(this._store.index.apply(this._store,arguments))},xp(Ap,"_store",["name","keyPath","indexNames","autoIncrement"]),yp(Ap,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ep(Ap,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_p(Ap,"_store",IDBObjectStore,["deleteIndex"]),kp.prototype.objectStore=function(){return new Ap(this._tx.objectStore.apply(this._tx,arguments))},xp(kp,"_tx",["objectStoreNames","mode"]),_p(kp,"_tx",IDBTransaction,["abort"]),Sp.prototype.createObjectStore=function(){return new Ap(this._db.createObjectStore.apply(this._db,arguments))},xp(Sp,"_db",["name","version","objectStoreNames"]),_p(Sp,"_db",IDBDatabase,["deleteObjectStore","close"]),Op.prototype.transaction=function(){return new kp(this._db.transaction.apply(this._db,arguments))},xp(Op,"_db",["name","version","objectStoreNames"]),_p(Op,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Ap,Ip].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=pp(arguments),i=n[n.length-1],e=this._store||this._index,r=e[t].apply(e,n.slice(0,-1));r.onsuccess=function(){i(r.result)}})}))})),[Ip,Ap].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,n){var i=this,e=[];return new Promise((function(r){i.iterateCursor(t,(function(t){t?(e.push(t.value),void 0===n||e.length!=n?t.continue():r(e)):r(e)}))}))})}));var Cp,Dp=((Cp={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Cp["not-registered"]="Firebase Installation is not registered.",Cp["installation-not-found"]="Firebase Installation not found.",Cp["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Cp["app-offline"]="Could not process request. Application offline.",Cp["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Cp),Pp=new ti("installations","Installations",Dp);function Mp(t){return t instanceof Zn&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Lp(t){return{token:t.token,requestStatus:2,expiresIn:(n=t.expiresIn,Number(n.replace("s","000"))),creationTime:Date.now()};var n}function Fp(t,n){return ft(this,void 0,void 0,(function(){var i,e;return lt(this,(function(r){switch(r.label){case 0:return[4,n.json()];case 1:return i=r.sent(),e=i.error,[2,Pp.create("request-failed",{requestName:t,serverCode:e.code,serverMessage:e.message,serverStatus:e.status})]}}))}))}function Up(t){var n=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Bp(t,n){var i=n.refreshToken,e=Up(t);return e.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i)),e}function zp(t){return ft(this,void 0,void 0,(function(){var n;return lt(this,(function(i){switch(i.label){case 0:return[4,t()];case 1:return(n=i.sent()).status>=500&&n.status<600?[2,t()]:[2,n]}}))}))}function Vp(t,n){var i=n.fid;return ft(this,void 0,void 0,(function(){var n,e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:return n=jp(t),e=Up(t),r={fid:i,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.10"},o={method:"POST",headers:e,body:JSON.stringify(r)},[4,zp((function(){return fetch(n,o)}))];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),[2,{fid:u.fid||i,registrationStatus:2,refreshToken:u.refreshToken,authToken:Lp(u.authToken)}];case 3:return[4,Fp("Create Installation",s)];case 4:throw a.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new Promise((function(n){setTimeout(n,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gp=/^[cdef][\w-]{21}$/;function $p(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=function(t){return(n=t,btoa(String.fromCharCode.apply(String,vt(n))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return Gp.test(n)?n:""}catch(t){return""}}function Wp(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hp=new Map;function Xp(t,n){var i=Wp(t);Yp(i,n),function(t,n){var i=Qp();i&&i.postMessage({key:t,fid:n});Jp()}(i,n)}function Yp(t,n){var i,e,r=Hp.get(t);if(r)try{for(var o=dt(r),s=o.next();!s.done;s=o.next()){(0,s.value)(n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}}var Kp=null;function Qp(){return!Kp&&"BroadcastChannel"in self&&((Kp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Yp(t.data.key,t.data.fid)}),Kp}function Jp(){0===Hp.size&&Kp&&(Kp.close(),Kp=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zp,tg="firebase-installations-store",ng=null;function ig(){return ng||(ng=Np("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(tg)}}))),ng}function eg(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:return i=Wp(t),[4,ig()];case 1:return e=u.sent(),r=e.transaction(tg,"readwrite"),[4,(o=r.objectStore(tg)).get(i)];case 2:return s=u.sent(),[4,o.put(n,i)];case 3:return u.sent(),[4,r.complete];case 4:return u.sent(),s&&s.fid===n.fid||Xp(t,n.fid),[2,n]}}))}))}function rg(t){return ft(this,void 0,void 0,(function(){var n,i,e;return lt(this,(function(r){switch(r.label){case 0:return n=Wp(t),[4,ig()];case 1:return i=r.sent(),[4,(e=i.transaction(tg,"readwrite")).objectStore(tg).delete(n)];case 2:return r.sent(),[4,e.complete];case 3:return r.sent(),[2]}}))}))}function og(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:return i=Wp(t),[4,ig()];case 1:return e=a.sent(),r=e.transaction(tg,"readwrite"),[4,(o=r.objectStore(tg)).get(i)];case 2:return s=a.sent(),void 0!==(u=n(s))?[3,4]:[4,o.delete(i)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,i)];case 5:a.sent(),a.label=6;case 6:return[4,r.complete];case 7:return a.sent(),!u||s&&s.fid===u.fid||Xp(t,u.fid),[2,u]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){return ft(this,void 0,void 0,(function(){var n,i,e;return lt(this,(function(r){switch(r.label){case 0:return[4,og(t,(function(i){var e=function(t){return cg(t||{fid:$p(),registrationStatus:0})}(i),r=function(t,n){if(0===n.registrationStatus){if(!navigator.onLine){var i=Promise.reject(Pp.create("app-offline"));return{installationEntry:n,registrationPromise:i}}var e={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,n){return ft(this,void 0,void 0,(function(){var i,e;return lt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,Vp(t,n)];case 1:return i=r.sent(),[2,eg(t,i)];case 2:return Mp(e=r.sent())&&409===e.serverCode?[4,rg(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,eg(t,{fid:n.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw e;case 7:return[2]}}))}))}(t,e);return{installationEntry:e,registrationPromise:r}}return 1===n.registrationStatus?{installationEntry:n,registrationPromise:ug(t)}:{installationEntry:n}}(t,e);return n=r.registrationPromise,r.installationEntry}))];case 1:return""!==(i=r.sent()).fid?[3,3]:(e={},[4,n]);case 2:return[2,(e.installationEntry=r.sent(),e)];case 3:return[2,{installationEntry:i,registrationPromise:n}]}}))}))}function ug(t){return ft(this,void 0,void 0,(function(){var n,i,e,r;return lt(this,(function(o){switch(o.label){case 0:return[4,ag(t)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.registrationStatus?[3,5]:[4,qp(100)];case 3:return o.sent(),[4,ag(t)];case 4:return n=o.sent(),[3,2];case 5:return 0!==n.registrationStatus?[3,7]:[4,sg(t)];case 6:return i=o.sent(),e=i.installationEntry,(r=i.registrationPromise)?[2,r]:[2,e];case 7:return[2,n]}}))}))}function ag(t){return og(t,(function(t){if(!t)throw Pp.create("installation-not-found");return cg(t)}))}function cg(t){return 1===(n=t).registrationStatus&&n.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function hg(t,n){var i=t.appConfig,e=t.platformLoggerProvider;return ft(this,void 0,void 0,(function(){var t,r,o,s,u,a,c;return lt(this,(function(h){switch(h.label){case 0:return t=function(t,n){var i=n.fid;return jp(t)+"/"+i+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i,n),r=Bp(i,n),(o=e.getImmediate({optional:!0}))&&r.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.10"}},u={method:"POST",headers:r,body:JSON.stringify(s)},[4,zp((function(){return fetch(t,u)}))];case 1:return(a=h.sent()).ok?[4,a.json()]:[3,3];case 2:return c=h.sent(),[2,Lp(c)];case 3:return[4,Fp("Generate Auth Token",a)];case 4:throw h.sent()}}))}))}function fg(t,n){return void 0===n&&(n=!1),ft(this,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:return[4,og(t.appConfig,(function(e){if(!dg(e))throw Pp.create("not-registered");var r=e.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){var n=Date.now();return n<t.creationTime||t.creationTime+t.expiresIn<n+36e5}(t)}(r))return e;if(1===r.requestStatus)return i=function(t,n){return ft(this,void 0,void 0,(function(){var i,e;return lt(this,(function(r){switch(r.label){case 0:return[4,lg(t.appConfig)];case 1:i=r.sent(),r.label=2;case 2:return 1!==i.authToken.requestStatus?[3,5]:[4,qp(100)];case 3:return r.sent(),[4,lg(t.appConfig)];case 4:return i=r.sent(),[3,2];case 5:return 0===(e=i.authToken).requestStatus?[2,fg(t,n)]:[2,e]}}))}))}(t,n),e;if(!navigator.onLine)throw Pp.create("app-offline");var o=function(t){var n={requestStatus:1,requestTime:Date.now()};return ct(ct({},t),{authToken:n})}(e);return i=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,hg(t,n)];case 1:return i=o.sent(),r=ct(ct({},n),{authToken:i}),[4,eg(t.appConfig,r)];case 2:return o.sent(),[2,i];case 3:return!Mp(e=o.sent())||401!==e.serverCode&&404!==e.serverCode?[3,5]:[4,rg(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=ct(ct({},n),{authToken:{requestStatus:0}}),[4,eg(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw e;case 8:return[2]}}))}))}(t,o),o}))];case 1:return e=o.sent(),i?[4,i]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=e.authToken,o.label=4;case 4:return[2,r]}}))}))}function lg(t){return og(t,(function(t){if(!dg(t))throw Pp.create("not-registered");var n,i=t.authToken;return 1===(n=i).requestStatus&&n.requestTime+1e4<Date.now()?ct(ct({},t),{authToken:{requestStatus:0}}):t}))}function dg(t){return void 0!==t&&2===t.registrationStatus}function mg(t){return ft(this,void 0,void 0,(function(){var n;return lt(this,(function(i){switch(i.label){case 0:return[4,sg(t)];case 1:return(n=i.sent().registrationPromise)?[4,n]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o;return lt(this,(function(s){switch(s.label){case 0:return i=function(t,n){var i=n.fid;return jp(t)+"/"+i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,n),e=Bp(t,n),r={method:"DELETE",headers:e},[4,zp((function(){return fetch(i,r)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,Fp("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pg(t,n){var i=t.appConfig;return function(t,n){Qp();var i=Wp(t),e=Hp.get(i);e||(e=new Set,Hp.set(i,e)),e.add(n)}(i,n),function(){!function(t,n){var i=Wp(t),e=Hp.get(i);e&&(e.delete(n),0===e.size&&Hp.delete(i),Jp())}(i,n)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){return Pp.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new wi("installations",(function(t){var n=t.getProvider("app").getImmediate(),i={appConfig:function(t){var n,i;if(!t||!t.options)throw gg("App Configuration");if(!t.name)throw gg("App Name");try{for(var e=dt(["projectId","apiKey","appId"]),r=e.next();!r.done;r=e.next()){var o=r.value;if(!t.options[o])throw gg(o)}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(n),platformLoggerProvider:t.getProvider("platform-logger")};return{app:n,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(t){return ft(this,void 0,void 0,(function(){var n,i,e;return lt(this,(function(r){switch(r.label){case 0:return[4,sg(t.appConfig)];case 1:return n=r.sent(),i=n.installationEntry,(e=n.registrationPromise)?e.catch(console.error):fg(t).catch(console.error),[2,i.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i)},getToken:function(t){return function(t,n){return void 0===n&&(n=!1),ft(this,void 0,void 0,(function(){return lt(this,(function(i){switch(i.label){case 0:return[4,mg(t.appConfig)];case 1:return i.sent(),[4,fg(t,n)];case 2:return[2,i.sent().token]}}))}))}(i,t)},delete:function(){return function(t){return ft(this,void 0,void 0,(function(){var n,i;return lt(this,(function(e){switch(e.label){case 0:return[4,og(n=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(i=e.sent()))return[3,6];if(1!==i.registrationStatus)return[3,2];throw Pp.create("delete-pending-registration");case 2:if(2!==i.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Pp.create("app-offline");case 3:return[4,vg(n,i)];case 4:return e.sent(),[4,rg(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))}(i)},onIdChange:function(t){return pg(i,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.10")}(Gi);var bg=((Zp={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Zp["only-available-in-window"]="This method is available in a Window context.",Zp["only-available-in-sw"]="This method is available in a service worker context.",Zp["permission-default"]="The notification permission was not granted and dismissed instead.",Zp["permission-blocked"]="The notification permission was not granted and blocked instead.",Zp["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Zp["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Zp["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",Zp["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Zp["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",Zp["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",Zp["token-update-no-token"]="FCM returned no token when updating the user to push.",Zp["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Zp["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Zp["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Zp["invalid-vapid-key"]="The public VAPID key must be a string.",Zp["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Zp),wg=new ti("messaging","Messaging",bg);function xg(t){return wg.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){var n=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,vt(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _g(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),e=new Uint8Array(i.length),r=0;r<i.length;++r)e[r]=i.charCodeAt(r);return e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){return ft(this,void 0,void 0,(function(){var n,i,e=this;return lt(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(n=r.sent(),!n.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return i=null,[4,Np("fcm_token_details_db",5,(function(n){return ft(e,void 0,void 0,(function(){var e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:return n.oldVersion<2?[2]:n.objectStoreNames.contains("fcm_token_object_Store")?[4,(e=n.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return r=u.sent(),[4,e.clear()];case 2:if(u.sent(),!r)return[2];if(2===n.oldVersion){if(!(o=r).auth||!o.p256dh||!o.endpoint)return[2];i={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:yg(o.vapidKey)}}}else(3===n.oldVersion||4===n.oldVersion)&&(i={token:(o=r).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:yg(o.auth),p256dh:yg(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:yg(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Rp("fcm_token_details_db")];case 4:return r.sent(),[4,Rp("fcm_vapid_details_db")];case 5:return r.sent(),[4,Rp("undefined")];case 6:return r.sent(),[2,Ig(i)?i:null]}}))}))}function Ig(t){if(!t||!t.subscriptionOptions)return!1;var n=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof n.auth&&n.auth.length>0&&"string"==typeof n.p256dh&&n.p256dh.length>0&&"string"==typeof n.endpoint&&n.endpoint.length>0&&"string"==typeof n.swScope&&n.swScope.length>0&&"string"==typeof n.vapidKey&&n.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tg="firebase-messaging-store",Ag=null;function kg(){return Ag||(Ag=Np("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Tg)}}))),Ag}function Sg(t){return ft(this,void 0,void 0,(function(){var n,i,e;return lt(this,(function(r){switch(r.label){case 0:return n=Rg(t),[4,kg()];case 1:return[4,r.sent().transaction(Tg).objectStore(Tg).get(n)];case 2:return(i=r.sent())?[2,i]:[3,3];case 3:return[4,Eg(t.appConfig.senderId)];case 4:return(e=r.sent())?[4,Og(t,e)]:[3,6];case 5:return r.sent(),[2,e];case 6:return[2]}}))}))}function Og(t,n){return ft(this,void 0,void 0,(function(){var i,e,r;return lt(this,(function(o){switch(o.label){case 0:return i=Rg(t),[4,kg()];case 1:return e=o.sent(),[4,(r=e.transaction(Tg,"readwrite")).objectStore(Tg).put(n,i)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,n]}}))}))}function Ng(t){return ft(this,void 0,void 0,(function(){var n,i,e;return lt(this,(function(r){switch(r.label){case 0:return n=Rg(t),[4,kg()];case 1:return i=r.sent(),[4,(e=i.transaction(Tg,"readwrite")).objectStore(Tg).delete(n)];case 2:return r.sent(),[4,e.complete];case 3:return r.sent(),[2]}}))}))}function Rg(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Dg(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:return[4,Lg(t)];case 1:i=a.sent(),e=Fg(n),r={method:"POST",headers:i,body:JSON.stringify(e)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(jg(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),wg.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,wg.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw wg.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Pg(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:return[4,Lg(t)];case 1:i=a.sent(),e=Fg(n.subscriptionOptions),r={method:"PATCH",headers:i,body:JSON.stringify(e)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(jg(t.appConfig)+"/"+n.token,r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),wg.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,wg.create("token-update-failed",{errorInfo:u});if(!o.token)throw wg.create("token-update-no-token");return[2,o.token]}}))}))}function Mg(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:return[4,Lg(t)];case 1:i=u.sent(),e={method:"DELETE",headers:i},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(jg(t.appConfig)+"/"+n,e)];case 3:return[4,u.sent().json()];case 4:if((r=u.sent()).error)throw o=r.error.message,wg.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=u.sent(),wg.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function jg(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Lg(t){var n=t.appConfig,i=t.installations;return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(e){switch(e.label){case 0:return[4,i.getToken()];case 1:return t=e.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Fg(t){var n=t.p256dh,i=t.auth,e=t.endpoint,r=t.vapidKey,o={web:{endpoint:e,auth:i,p256dh:n}};return r!==Cg&&(o.web.applicationPubKey=r),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ug;function Bg(t,n,i){return ft(this,void 0,void 0,(function(){var e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:if("granted"!==Notification.permission)throw wg.create("permission-blocked");return[4,Gg(n,i)];case 1:return e=u.sent(),[4,Sg(t)];case 2:return r=u.sent(),o={vapidKey:i,swScope:n.scope,endpoint:e.endpoint,auth:yg(e.getKey("auth")),p256dh:yg(e.getKey("p256dh"))},r?[3,3]:[2,qg(t,o)];case 3:if(a=r.subscriptionOptions,h=(c=o).vapidKey===a.vapidKey,f=c.endpoint===a.endpoint,l=c.auth===a.auth,d=c.p256dh===a.p256dh,h&&f&&l&&d)return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,Mg(t,r.token)];case 5:return u.sent(),[3,7];case 6:return s=u.sent(),console.warn(s),[3,7];case 7:return[2,qg(t,o)];case 8:return Date.now()>=r.createTime+6048e5?[2,Vg({token:r.token,createTime:Date.now(),subscriptionOptions:o},t,n)]:[2,r.token];case 9:return[2]}var a,c,h,f,l,d;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function zg(t,n){return ft(this,void 0,void 0,(function(){var i,e;return lt(this,(function(r){switch(r.label){case 0:return[4,Sg(t)];case 1:return(i=r.sent())?[4,Mg(t,i.token)]:[3,4];case 2:return r.sent(),[4,Ng(t)];case 3:r.sent(),r.label=4;case 4:return[4,n.pushManager.getSubscription()];case 5:return(e=r.sent())?[2,e.unsubscribe()]:[2,!0]}}))}))}function Vg(t,n,i){return ft(this,void 0,void 0,(function(){var e,r,o;return lt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Pg(n,t)];case 1:return e=s.sent(),r=ct({token:e,createTime:Date.now()},t),[4,Og(n,r)];case 2:return s.sent(),[2,e];case 3:return o=s.sent(),[4,zg(n,i)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function qg(t,n){return ft(this,void 0,void 0,(function(){var i,e;return lt(this,(function(r){switch(r.label){case 0:return[4,Dg(t,n)];case 1:return i=r.sent(),e={token:i,createTime:Date.now(),subscriptionOptions:n},[4,Og(t,e)];case 2:return r.sent(),[2,e.token]}}))}))}function Gg(t,n){return ft(this,void 0,void 0,(function(){var i;return lt(this,(function(e){switch(e.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(i=e.sent())?[2,i]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_g(n)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $g(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Ug||(Ug={}));var Wg=function(){function t(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return n.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.getToken=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return this.vapidKey||(this.vapidKey=Cg),[4,this.getServiceWorkerRegistration()];case 1:return t=n.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:n.sent(),n.label=3;case 3:if("granted"!==Notification.permission)throw wg.create("permission-blocked");return[2,Bg(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=n.sent(),[2,zg(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return ft(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=n.sent()))return[2];throw"denied"===t?wg.create("permission-blocked"):wg.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw wg.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw wg.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw wg.create("invalid-sw-registration");if(this.swRegistration)throw wg.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var n=this;return this.onMessageCallback="function"==typeof t?t:t.next,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw wg.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return ft(this,void 0,void 0,(function(){var t,n;return lt(this,(function(i){switch(i.label){case 0:if(this.swRegistration)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=i.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw n=i.sent(),wg.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var n;return ft(this,void 0,void 0,(function(){var i,e,r,o;return lt(this,(function(s){switch(s.label){case 0:return(null===(n=t.data)||void 0===n?void 0:n.firebaseMessaging)?(i=t.data.firebaseMessaging,e=i.type,r=i.payload,this.onMessageCallback&&e===Ug.PUSH_RECEIVED&&this.onMessageCallback(r),$g(o=r.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(e,o)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,n){return ft(this,void 0,void 0,(function(){var i;return lt(this,(function(e){switch(e.label){case 0:return i=function(t){switch(t){case Ug.NOTIFICATION_CLICKED:return"notification_open";case Ug.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return e.sent().logEvent(i,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hg=function(){function t(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(n.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(n.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(n.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw wg.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,n;return ft(this,void 0,void 0,(function(){var i;return lt(this,(function(e){switch(e.label){case 0:return this.vapidKey?[3,2]:[4,Sg(this.firebaseDependencies)];case 1:i=e.sent(),this.vapidKey=null!==(n=null===(t=null==i?void 0:i.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Cg,e.label=2;case 2:return[2,Bg(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return zg(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw wg.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw wg.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw wg.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw wg.create("only-available-in-window")},t.prototype.onMessage=function(){throw wg.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw wg.create("only-available-in-window")},t.prototype.onPush=function(t){return ft(this,void 0,void 0,(function(){var n,i,e;return lt(this,(function(r){switch(r.label){case 0:return(n=function(t){var n=t.data;if(!n)return null;try{return n.json()}catch(t){return null}}(t))?[4,Kg()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(i=r.sent())?[2,Yg(i,n)]:(e=function(t){var n;if(!t||"object"!=typeof t.notification)return;var i=ct({},t.notification);return i.data=ct(ct({},t.notification.data),((n={}).FCM_MSG=t,n)),i}(n))?[4,Jg(e)]:[3,3];case 2:return r.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(n)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var n,i;return ft(this,void 0,void 0,(function(){var e;return lt(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,zg(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,Sg(this.firebaseDependencies)];case 3:return e=r.sent(),[4,zg(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,Bg(this.firebaseDependencies,self.registration,null!==(i=null===(n=null==e?void 0:e.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==i?i:Cg)];case 5:return r.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var n,i;return ft(this,void 0,void 0,(function(){var e,r,o,s;return lt(this,(function(u){switch(u.label){case 0:return(e=null===(i=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===i?void 0:i.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var n,i,e,r=null!==(i=null===(n=t.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==i?i:null===(e=t.notification)||void 0===e?void 0:e.click_action;if(r)return r;return $g(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))?[4,Xg(r)]:[2]):[2];case 1:return(o=u.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return o=u.sent(),[4,(a=3e3,new Promise((function(t){setTimeout(t,a)})))];case 3:return u.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=u.sent(),u.label=6;case 6:return o?(s=Qg(Ug.NOTIFICATION_CLICKED,e),[2,o.postMessage(s)]):[2]}var a}))}))},t}();function Xg(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o,s,u;return lt(this,(function(a){switch(a.label){case 0:return n=new URL(t,self.location.href),[4,Kg()];case 1:i=a.sent();try{for(e=dt(i),r=e.next();!r.done;r=e.next())if(o=r.value,new URL(o.url,self.location.href).host===n.host)return[2,o]}catch(t){s={error:t}}finally{try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Yg(t,n){var i,e,r=Qg(Ug.PUSH_RECEIVED,n);try{for(var o=dt(t),s=o.next();!s.done;s=o.next()){s.value.postMessage(r)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}}function Kg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Qg(t,n){return{firebaseMessaging:{type:t,payload:n}}}function Jg(t){var n,i=null!==(n=t.title)&&void 0!==n?n:"",e=t.actions,r=Notification.maxActions;return e&&r&&e.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(i,t)}var Zg={isSupported:tb};function tb(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Gi.INTERNAL.registerComponent(new wi("messaging",(function(t){var n=t.getProvider("app").getImmediate(),i={app:n,appConfig:
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var n,i;if(!t||!t.options)throw xg("App Configuration Object");if(!t.name)throw xg("App Name");var e=t.options;try{for(var r=dt(["projectId","apiKey","appId","messagingSenderId"]),o=r.next();!o.done;o=r.next()){var s=o.value;if(!e[s])throw xg(s)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return{appName:t.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(n),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!tb())throw wg.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Hg(i):new Wg(i)}),"PUBLIC").setServiceProps(Zg));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nb=function(){function t(t,n){this.code_=xb(t),this.message_="Firebase Storage: "+n,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return xb(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),ib="unknown",eb="object-not-found",rb="quota-exceeded",ob="unauthenticated",sb="unauthorized",ub="retry-limit-exceeded",ab="canceled",cb="invalid-url",hb="invalid-default-bucket",fb="cannot-slice-blob",lb="server-file-wrong-size",db="no-download-url",mb="invalid-argument",vb="invalid-argument-count",pb="app-deleted",gb="invalid-root-operation",bb="invalid-format",wb="internal-error";function xb(t){return"storage/"+t}function yb(){return new nb(ib,"An unknown error occurred, please check the error payload for server response.")}function _b(){return new nb(ab,"User canceled the upload/download.")}function Eb(){return new nb(fb,"Cannot slice blob for upload. Please retry the upload.")}function Ib(){return new nb(db,"The given file does not have any download URLs.")}function Tb(t,n,i){return new nb(mb,"Invalid argument in `"+n+"` at index "+t+": "+i)}function Ab(){return new nb(pb,"The Firebase app was deleted.")}function kb(t,n){return new nb(bb,"String does not match format '"+t+"': "+n)}function Sb(t){throw new nb(wb,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Nb(t){switch(t){case Ob.RAW:case Ob.BASE64:case Ob.BASE64URL:case Ob.DATA_URL:return;default:throw"Expected one of the event types: ["+Ob.RAW+", "+Ob.BASE64+", "+Ob.BASE64URL+", "+Ob.DATA_URL+"]."}}var Rb=function(t,n){this.data=t,this.contentType=n||null};function Cb(t,n){switch(t){case Ob.RAW:return new Rb(Db(n));case Ob.BASE64:case Ob.BASE64URL:return new Rb(Pb(t,n));case Ob.DATA_URL:return new Rb(function(t){var n=new Mb(t);return n.base64?Pb(Ob.BASE64,n.rest):function(t){var n;try{n=decodeURIComponent(t)}catch(t){throw kb(Ob.DATA_URL,"Malformed data URL.")}return Db(n)}(n.rest)}(n),new Mb(n).contentType)}throw yb()}function Db(t){for(var n=[],i=0;i<t.length;i++){var e=t.charCodeAt(i);if(e<=127)n.push(e);else if(e<=2047)n.push(192|e>>6,128|63&e);else if(55296==(64512&e))if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1)))e=65536|(1023&e)<<10|1023&t.charCodeAt(++i),n.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e);else n.push(239,191,189);else 56320==(64512&e)?n.push(239,191,189):n.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(n)}function Pb(t,n){switch(t){case Ob.BASE64:var i=-1!==n.indexOf("-"),e=-1!==n.indexOf("_");if(i||e)throw kb(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break;case Ob.BASE64URL:var r=-1!==n.indexOf("+"),o=-1!==n.indexOf("/");if(r||o)throw kb(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(n)}catch(n){throw kb(t,"Invalid character found")}for(var u=new Uint8Array(s.length),a=0;a<s.length;a++)u[a]=s.charCodeAt(a);return u}var Mb=function(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw kb(Ob.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;null!=i&&(this.base64=(e=i,r=";base64",e.length>=r.length&&e.substring(e.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1);var e,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var jb,Lb={STATE_CHANGED:"state_changed"},Fb="running",Ub="pausing",Bb="paused",zb="success",Vb="canceling",qb="canceled",Gb="error",$b={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wb(t){switch(t){case Fb:case Ub:case Vb:return $b.RUNNING;case Bb:return $b.PAUSED;case zb:return $b.SUCCESS;case qb:return $b.CANCELED;case Gb:default:return $b.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){return null!=t}function Xb(t){return void 0!==t}function Yb(t){return"function"==typeof t}function Kb(t){return"object"==typeof t}function Qb(t){return Kb(t)&&null!==t}function Jb(t){return"string"==typeof t||t instanceof String}function Zb(t){return tw(t)&&Number.isInteger(t)}function tw(t){return"number"==typeof t||t instanceof Number}function nw(t){return iw()&&t instanceof Blob}function iw(){return"undefined"!=typeof Blob}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(jb||(jb={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ew=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=jb.NO_ERROR,this.sendPromise_=new Promise((function(n){t.xhr_.addEventListener("abort",(function(){t.errorCode_=jb.ABORT,n(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=jb.NETWORK_ERROR,n(t)})),t.xhr_.addEventListener("load",(function(){n(t)}))}))}return t.prototype.send=function(t,n,i,e){if(this.sent_)throw Sb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),Hb(e))for(var r in e)e.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,e[r].toString());return Hb(i)?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Sb("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Sb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Sb("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Hb(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Hb(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),rw=function(){function t(){}return t.prototype.createXhrIo=function(){return new ew},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ow(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function sw(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=ow();if(void 0!==i){for(var e=new i,r=0;r<t.length;r++)e.append(t[r]);return e.getBlob()}if(iw())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uw=function(){function t(t,n){var i=0,e="";nw(t)?(this.data_=t,i=t.size,e=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=e}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(n,i){if(nw(this.data_)){var e=function(t,n,i){return t.webkitSlice?t.webkitSlice(n,i):t.mozSlice?t.mozSlice(n,i):t.slice?t.slice(n,i):null}(this.data_,n,i);return null===e?null:new t(e)}return new t(new Uint8Array(this.data_.buffer,n,i-n),!0)},t.getBlob=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(iw()){var e=n.map((function(n){return n instanceof t?n.data_:n}));return new t(sw.apply(null,e))}var r=n.map((function(t){return Jb(t)?Cb(Ob.RAW,t).data:t.data_})),o=0;r.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),u=0;return r.forEach((function(t){for(var n=0;n<t.length;n++)s[u++]=t[n]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),aw=function(){function t(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(n){var i;try{i=t.makeFromUrl(n)}catch(i){return new t(n,"")}if(""===i.path)return i;throw new nb(hb,"Invalid default bucket '"+n+"'.")},t.makeFromUrl=function(n){var i=null;var e=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function r(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:e,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:r},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:r}],u=0;u<s.length;u++){var a=s[u],c=a.regex.exec(n);if(c){var h=c[a.indices.bucket],f=c[a.indices.path];f||(f=""),i=new t(h,f),a.postModify(i);break}}if(null==i)throw function(t){return new nb(cb,"Invalid URL '"+t+"'.")}(n);return i},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cw(t){var n,i;try{n=JSON.parse(t)}catch(t){return null}return Kb(i=n)&&!Array.isArray(i)?n:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,n){var i=n.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?i:t+"/"+i}function fw(t){var n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){return"https://firebasestorage.googleapis.com/v0"+t}function dw(t){var n=encodeURIComponent,i="?";for(var e in t){if(t.hasOwnProperty(e))i=i+(n(e)+"="+n(t[e]))+"&"}return i=i.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,n){return n}var vw=function(t,n,i,e){this.server=t,this.local=n||t,this.writable=!!i,this.xform=e||mw},pw=null;function gw(){if(pw)return pw;var t=[];t.push(new vw("bucket")),t.push(new vw("generation")),t.push(new vw("metageneration")),t.push(new vw("name","fullPath",!0));var n=new vw("name");n.xform=function(t,n){return function(t){return!Jb(t)||t.length<2?t:fw(t)}(n)},t.push(n);var i=new vw("size");return i.xform=function(t,n){return Hb(n)?Number(n):n},t.push(i),t.push(new vw("timeCreated")),t.push(new vw("updated")),t.push(new vw("md5Hash",null,!0)),t.push(new vw("cacheControl",null,!0)),t.push(new vw("contentDisposition",null,!0)),t.push(new vw("contentEncoding",null,!0)),t.push(new vw("contentLanguage",null,!0)),t.push(new vw("contentType",null,!0)),t.push(new vw("metadata","customMetadata",!0)),pw=t}function bw(t,n,i){for(var e={type:"file"},r=i.length,o=0;o<r;o++){var s=i[o];e[s.local]=s.xform(e,n[s.server])}return function(t,n){Object.defineProperty(t,"ref",{get:function(){var i=t.bucket,e=t.fullPath,r=new aw(i,e);return n.makeStorageReference(r)}})}(e,t),e}function ww(t,n,i){var e=cw(n);return null===e?null:bw(t,e,i)}function xw(t,n){for(var i={},e=n.length,r=0;r<e;r++){var o=n[r];o.writable&&(i[o.server]=t[o.local])}return JSON.stringify(i)}function yw(t){if(!Kb(t)||!t)throw"Expected Metadata object.";for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if("customMetadata"===n){if(!Kb(i))throw"Expected object for 'customMetadata' mapping."}else if(Qb(i))throw"Mapping for '"+n+"' cannot be an object."}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,n,i){var e=cw(i);return null===e?null:function(t,n,i){var e={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i.prefixes)for(var r=0,o=i.prefixes;r<o.length;r++){var s=o[r].replace(/\/$/,""),u=t.makeStorageReference(new aw(n,s));e.prefixes.push(u)}if(i.items)for(var a=0,c=i.items;a<c.length;a++){var h=c[a];u=t.makeStorageReference(new aw(n,h.name));e.items.push(u)}return e}(t,n,e)}function Ew(t){if(!Kb(t)||!t)throw"Expected ListOptions object.";for(var n in t)if("maxResults"===n){if(!Zb(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==n)throw"Unknown option: "+n;if(t.pageToken&&!Jb(t.pageToken))throw"Expected pageToken to be string."}}var Iw=function(t,n,i,e){this.url=t,this.method=n,this.handler=i,this.timeout=e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){if(!t)throw yb()}function Aw(t,n){return function(i,e){var r=ww(t,e,n);return Tw(null!==r),r}}function kw(t,n){return function(i,e){var r=ww(t,e,n);return Tw(null!==r),function(t,n){var i=cw(n);if(null===i)return null;if(!Jb(i.downloadTokens))return null;var e=i.downloadTokens;if(0===e.length)return null;var r=encodeURIComponent;return e.split(",").map((function(n){var i=t.bucket,e=t.fullPath;return lw("/b/"+r(i)+"/o/"+r(e))+dw({alt:"media",token:n})}))[0]}(r,e)}}function Sw(t){return function(n,i){var e,r,o;return 401===n.getStatus()?e=new nb(ob,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?(o=t.bucket,e=new nb(rb,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===n.getStatus()?(r=t.path,e=new nb(sb,"User does not have permission to access '"+r+"'.")):e=i,e.setServerResponseProp(i.serverResponseProp()),e}}function Ow(t){var n=Sw(t);return function(i,e){var r,o=n(i,e);return 404===i.getStatus()&&(r=t.path,o=new nb(eb,"Object '"+r+"' does not exist.")),o.setServerResponseProp(e.serverResponseProp()),o}}function Nw(t,n,i){var e=lw(n.fullServerUrl()),r=t.maxOperationRetryTime(),o=new Iw(e,"GET",Aw(t,i),r);return o.errorHandler=Ow(n),o}function Rw(t,n,i,e,r){var o={};n.isRoot?o.prefix="":o.prefix=n.path+"/",i&&i.length>0&&(o.delimiter=i),e&&(o.pageToken=e),r&&(o.maxResults=r);var s=lw(n.bucketOnlyServerUrl()),u=t.maxOperationRetryTime(),a=new Iw(s,"GET",function(t,n){return function(i,e){var r=_w(t,n,e);return Tw(null!==r),r}}(t,n.bucket),u);return a.urlParams=o,a.errorHandler=Sw(n),a}function Cw(t,n,i){var e=lw(n.fullServerUrl()),r=t.maxOperationRetryTime(),o=new Iw(e,"GET",kw(t,i),r);return o.errorHandler=Ow(n),o}function Dw(t,n,i,e){var r=lw(n.fullServerUrl()),o=xw(i,e),s=t.maxOperationRetryTime(),u=new Iw(r,"PATCH",Aw(t,e),s);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=o,u.errorHandler=Ow(n),u}function Pw(t,n){var i=lw(n.fullServerUrl()),e=t.maxOperationRetryTime();var r=new Iw(i,"DELETE",(function(t,n){}),e);return r.successCodes=[200,204],r.errorHandler=Ow(n),r}function Mw(t,n,i){var e=Object.assign({},i);return e.fullPath=t.path,e.size=n.size(),e.contentType||(e.contentType=function(t,n){return t&&t.contentType||n&&n.type()||"application/octet-stream"}(null,n)),e}var jw=function(t,n,i,e){this.current=t,this.total=n,this.finalized=!!i,this.metadata=e||null};function Lw(t,n){var i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Tw(!1)}return Tw(!!i&&-1!==(n||["active"]).indexOf(i)),i}function Fw(t,n,i,e,r,o,s,u){var a=new jw(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=e.size()),e.size()!==a.total)throw new nb(lb,"Server recorded incorrect upload file size, please retry the upload.");var c=a.total-a.current,h=c;r>0&&(h=Math.min(h,r));var f=a.current,l=f+h,d={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},m=e.slice(f,l);if(null===m)throw Eb();var v=n.maxUploadRetryTime(),p=new Iw(i,"POST",(function(t,i){var r,s=Lw(t,["active","final"]),u=a.current+h,c=e.size();return r="final"===s?Aw(n,o)(t,i):null,new jw(u,c,"final"===s,r)}),v);return p.headers=d,p.body=m.uploadData(),p.progressCallback=u||null,p.errorHandler=Sw(t),p}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uw=function(t,n,i){if(Yb(t)||Hb(n)||Hb(i))this.next=t,this.error=n||null,this.complete=i||null;else{var e=t;this.next=e.next||null,this.error=e.error||null,this.complete=e.complete||null}},Bw=function(t,n,i,e,r,o){this.bytesTransferred=t,this.totalBytes=n,this.state=i,this.metadata=e,this.task=r,this.ref=o};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zw(t,n,i){for(var e=n.length,r=n.length,o=0;o<n.length;o++)if(n[o].optional){e=o;break}var s,u,a,c,h,f;if(!(e<=i.length&&i.length<=r))throw s=e,u=r,a=t,c=i.length,s===u?(h=s,f=1===s?"argument":"arguments"):(h="between "+s+" and "+u,f="arguments"),new nb(vb,"Invalid argument count in `"+a+"`: Expected "+h+" "+f+", received "+c+".");for(o=0;o<i.length;o++)try{n[o].validator(i[o])}catch(n){throw n instanceof Error?Tb(o,t,n.message):Tb(o,t,n)}}var Vw=function(t,n){var i=this;this.validator=function(n){i.optional&&!Xb(n)||t(n)},this.optional=!!n};function qw(t,n){function i(t){if(!Jb(t))throw"Expected string."}var e,r,o;return t?(r=i,o=t,e=function(t){r(t),o(t)}):e=i,new Vw(e,n)}function Gw(){return new Vw((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||iw()&&t instanceof Blob))throw"Expected Blob or File."}))}function $w(t){return new Vw(yw,t)}function Ww(t){return new Vw(Ew,t)}function Hw(){return new Vw((function(t){if(!(tw(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Xw(t,n){return new Vw((function(n){if(!(null===n||Hb(n)&&n instanceof Object))throw"Expected an Object.";null!=t&&t(n)}),n)}function Yw(t){return new Vw((function(t){if(!(null===t||Yb(t)))throw"Expected a Function."}),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve().then((function(){return t.apply(void 0,n)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qw=function(){function t(t,n,i,e,r,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=n,this.location_=i,this.blob_=r,this.metadata_=o,this.mappings_=e,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Fb,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(ab)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(Gb))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(ab)?s.completeTransitions_():(s.error_=t,s.transition_(Gb))},this.promise_=new Promise((function(t,n){s.resolve_=t,s.reject_=n,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,n=this.transferred_;return function(i){return t.updateProgress_(n+i)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===Fb&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var n=this;this.authWrapper_.getAuthToken().then((function(i){switch(n.state_){case Fb:t(i);break;case Vb:n.transition_(qb);break;case Ub:n.transition_(Bb)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(n){var i=function(t,n,i,e,r){var o=n.bucketOnlyServerUrl(),s=Mw(n,e,r),u={name:s.fullPath},a=lw(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":e.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=xw(s,i),f=t.maxUploadRetryTime(),l=new Iw(a,"POST",(function(t){var n;Lw(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Tw(!1)}return Tw(Jb(n)),n}),f);return l.urlParams=u,l.headers=c,l.body=h,l.errorHandler=Sw(n),l}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),e=t.authWrapper_.makeRequest(i,n);t.request_=e,e.getPromise().then((function(n){t.request_=null,t.uploadUrl_=n,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,n=this.uploadUrl_;this.resolveToken_((function(i){var e=function(t,n,i,e){var r=t.maxUploadRetryTime(),o=new Iw(i,"POST",(function(t){var n=Lw(t,["active","final"]),i=null;try{i=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Tw(!1)}i||Tw(!1);var r=Number(i);return Tw(!isNaN(r)),new jw(r,e.size(),"final"===n)}),r);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Sw(n),o}(t.authWrapper_,t.location_,n,t.blob_),r=t.authWrapper_.makeRequest(e,i);t.request_=r,r.getPromise().then((function(n){n=n,t.request_=null,t.updateProgress_(n.current),t.needToFetchStatus_=!1,n.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,n=262144*this.chunkMultiplier_,i=new jw(this.transferred_,this.blob_.size()),e=this.uploadUrl_;this.resolveToken_((function(r){var o;try{o=Fw(t.location_,t.authWrapper_,e,t.blob_,n,t.mappings_,i,t.makeProgressCallback_())}catch(n){return t.error_=n,void t.transition_(Gb)}var s=t.authWrapper_.makeRequest(o,r);t.request_=s,s.getPromise().then((function(n){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(n.current),n.finalized?(t.metadata_=n.metadata,t.transition_(zb)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(n){var i=Nw(t.authWrapper_,t.location_,t.mappings_),e=t.authWrapper_.makeRequest(i,n);t.request_=e,e.getPromise().then((function(n){t.request_=null,t.metadata_=n,t.transition_(zb)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(n){var i=function(t,n,i,e,r){var o=n.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",n=0;n<2;n++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var a=Mw(n,e,r),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xw(a,i)+"\r\n--"+u+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",h="\r\n--"+u+"--",f=uw.getBlob(c,e,h);if(null===f)throw Eb();var l={name:a.fullPath},d=lw(o),m=t.maxUploadRetryTime(),v=new Iw(d,"POST",Aw(t,i),m);return v.urlParams=l,v.headers=s,v.body=f.uploadData(),v.errorHandler=Sw(n),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),e=t.authWrapper_.makeRequest(i,n);t.request_=e,e.getPromise().then((function(n){t.request_=null,t.metadata_=n,t.updateProgress_(t.blob_.size()),t.transition_(zb)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var n=this.transferred_;this.transferred_=t,this.transferred_!==n&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Vb:case Ub:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Fb:var n=this.state_===Bb;this.state_=t,n&&(this.notifyObservers_(),this.start_());break;case Bb:this.state_=t,this.notifyObservers_();break;case qb:this.error_=_b(),this.state_=t,this.notifyObservers_();break;case Gb:case zb:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case Ub:this.transition_(Bb);break;case Vb:this.transition_(qb);break;case Fb:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Wb(this.state_);return new Bw(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,n,i,e){function r(){if(t!==Lb.STATE_CHANGED)throw"Expected one of the event types: ["+Lb.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=Yw(!0).validator,u=Xw(null,!0).validator;function a(t){try{return void s(t)}catch(t){}try{if(u(t),!(Xb(t.next)||Xb(t.error)||Xb(t.complete)))throw"";return}catch(t){throw o}}var c=[qw(r),Xw(a,!0),Yw(!0),Yw(!0)];zw("on",c,arguments);var h=this;function f(t){return function(n,i,r){null!==t&&zw("on",t,arguments);var o=new Uw(n,i,e);return h.addObserver_(o),function(){h.removeObserver_(o)}}}function l(t){if(null===t)throw o;a(t)}var d=[Xw(l),Yw(!0),Yw(!0)],m=!(Xb(n)||Xb(i)||Xb(e));return m?f(d):f(null)(n,i,e)},t.prototype.then=function(t,n){return this.promise_.then(t,n)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var n=this.observers_.indexOf(t);-1!==n&&this.observers_.splice(n,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(n){t.notifyObserver_(n)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Wb(this.state_)){case $b.SUCCESS:Kw(this.resolve_.bind(null,this.snapshot))();break;case $b.CANCELED:case $b.ERROR:Kw(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Wb(this.state_)){case $b.RUNNING:case $b.PAUSED:t.next&&Kw(t.next.bind(t,this.snapshot))();break;case $b.SUCCESS:t.complete&&Kw(t.complete.bind(t))();break;case $b.CANCELED:case $b.ERROR:t.error&&Kw(t.error.bind(t,this.error_))();break;default:t.error&&Kw(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){zw("resume",[],arguments);var t=this.state_===Bb||this.state_===Ub;return t&&this.transition_(Fb),t},t.prototype.pause=function(){zw("pause",[],arguments);var t=this.state_===Fb;return t&&this.transition_(Ub),t},t.prototype.cancel=function(){zw("cancel",[],arguments);var t=this.state_===Fb||this.state_===Ub;return t&&this.transition_(Vb),t},t}(),Jw=function(){function t(t,n){this.authWrapper=t,this.location=n instanceof aw?n:aw.makeFromUrl(n)}return t.prototype.toString=function(){return zw("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(n,i){return new t(n,i)},t.prototype.mappings=function(){return gw()},t.prototype.child=function(t){zw("child",[qw()],arguments);var n=hw(this.location.path,t),i=new aw(this.location.bucket,n);return this.newRef(this.authWrapper,i)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this.location.path);if(null===t)return null;var n=new aw(this.location.bucket,t);return this.newRef(this.authWrapper,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new aw(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return fw(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,n){return void 0===n&&(n=null),zw("put",[Gw(),$w(!0)],arguments),this.throwIfRoot_("put"),new Qw(this,this.authWrapper,this.location,this.mappings(),new uw(t),n)},t.prototype.putString=function(t,n,i){void 0===n&&(n=Ob.RAW),zw("putString",[qw(),qw(Nb,!0),$w(!0)],arguments),this.throwIfRoot_("putString");var e=Cb(n,t),r=Object.assign({},i);return!Hb(r.contentType)&&Hb(e.contentType)&&(r.contentType=e.contentType),new Qw(this,this.authWrapper,this.location,this.mappings(),new uw(e.data,!0),r)},t.prototype.delete=function(){var t=this;return zw("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(n){var i=Pw(t.authWrapper,t.location);return t.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.listAll=function(){zw("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,n){return ft(this,void 0,void 0,(function(){var i,e,r,o;return lt(this,(function(s){switch(s.label){case 0:return i={pageToken:n},[4,this.list(i)];case 1:return e=s.sent(),(r=t.prefixes).push.apply(r,e.prefixes),(o=t.items).push.apply(o,e.items),null==e.nextPageToken?[3,3]:[4,this.listAllHelper(t,e.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){zw("list",[Ww(!0)],arguments);var n=this;return this.authWrapper.getAuthToken().then((function(i){var e=t||{},r=Rw(n.authWrapper,n.location,"/",e.pageToken,e.maxResults);return n.authWrapper.makeRequest(r,i).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return zw("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(n){var i=Nw(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.updateMetadata=function(t){var n=this;return zw("updateMetadata",[$w()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(i){var e=Dw(n.authWrapper,n.location,t,n.mappings());return n.authWrapper.makeRequest(e,i).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return zw("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(n){var i=Cw(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(i,n).getPromise().then((function(t){if(null===t)throw Ib();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new nb(gb,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Zw=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),tx=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var n=this,i=this.id;this.id++,this.map.set(i,t),t.getPromise().then((function(){return n.map.delete(i)}),(function(){return n.map.delete(i)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),nx=function(){function t(n,i,e,r,o,s){var u;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=n,null!==this.app_){var a=this.app_.options;Hb(a)&&(this.bucket_=t.extractBucket_(a),this.appId_=null!==(u=a.appId)&&void 0!==u?u:null)}this.authProvider_=i,this.storageRefMaker_=e,this.requestMaker_=r,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new tx}return t.extractBucket_=function(t){var n=t.storageBucket||null;return null==n?null:aw.makeFromBucketSpec(n).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw Ab();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,n){if(this.deleted_)return new Zw(Ab());var i=this.requestMaker_(t,this.appId_,n,this.pool_);return this.requestMap_.addRequest(i),i},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ix=function(){function t(t,n,i,e,r,o,s,u,a,c,h){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=e,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=a,this.pool_=h,this.promise_=new Promise((function(t,n){f.resolve_=t,f.reject_=n,f.start_()}))}return t.prototype.start_=function(){var t=this;function n(n,i){var e,r=t.resolve_,o=t.reject_,s=i.xhr;if(i.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());Xb(u)?r(u):r()}catch(t){o(t)}else null!==s?((e=yb()).setServerResponseProp(s.getResponseText()),t.errorCallback_?o(t.errorCallback_(s,e)):o(e)):i.canceled?o(e=t.appDelete_?Ab():_b()):o(e=new nb(ub,"Max retry time for operation exceeded, please try again."))}this.canceled_?n(0,new ex(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,n,i){var e=1,r=null,o=!1,s=0;function u(){return 2===s}var a=!1;function c(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];a||(a=!0,n.apply(null,t))}function h(n){r=setTimeout((function(){r=null,t(f,u())}),n)}function f(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!a)if(t)c.call.apply(c,pt([null,t],n));else{var r,f=u()||o;if(f)c.call.apply(c,pt([null,t],n));else e<64&&(e*=2),1===s?(s=2,r=0):r=1e3*(e+Math.random()),h(r)}}var l=!1;function d(t){l||(l=!0,a||(null!==r?(t||(s=2),clearTimeout(r),h(0)):t||(s=1)))}return h(0),setTimeout((function(){o=!0,d(!0)}),i),d}((function(n,i){if(i)n(!1,new ex(!1,null,!0));else{var e=t.pool_.createXhrIo();t.pendingXhr_=e,null!==t.progressCallback_&&e.addUploadProgressListener(r),e.send(t.url_,t.method_,t.body_,t.headers_).then((function(i){null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingXhr_=null;var e=(i=i).getErrorCode()===jb.NO_ERROR,o=i.getStatus();if(e&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);n(!0,new ex(s,i))}else{var u=i.getErrorCode()===jb.ABORT;n(!1,new ex(!1,null,u))}}))}function r(n){var i=n.loaded,e=n.lengthComputable?n.total:-1;null!==t.progressCallback_&&t.progressCallback_(i,e)}}),n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),e=-1!==this.additionalRetryCodes_.indexOf(t);return n||i||e},t}(),ex=function(t,n,i){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!i};function rx(t,n,i,e){var r=dw(t.urlParams),o=t.url+r,s=Object.assign({},t.headers);return function(t,n){n&&(t["X-Firebase-GMPID"]=n)}(s,n),function(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(s,i),function(t){var n=void 0!==Gi?Gi.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+n}(s),new ix(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ox=function(){function t(t,n,i,e){if(this.bucket_=null,this.authWrapper_=new nx(t,n,(function(t,n){return new Jw(t,n)}),rx,this,i),this.app_=t,null!=e)this.bucket_=aw.makeFromBucketSpec(e);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new aw(r,""))}this.internals_=new sx(this)}return t.prototype.ref=function(t){function n(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(zw("ref",[qw(n,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var i=new Jw(this.authWrapper_,this.bucket_);return null!=t?i.child(t):i},t.prototype.refFromURL=function(t){function n(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{aw.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return zw("refFromURL",[qw(n,!1)],arguments),new Jw(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){zw("setMaxUploadRetryTime",[Hw()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){zw("setMaxOperationRetryTime",[Hw()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),sx=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function ux(t,n){var i=t.getProvider("app").getImmediate(),e=t.getProvider("auth-internal");return new ox(i,e,new rw,n)}!function(t){var n={TaskState:$b,TaskEvent:Lb,StringFormat:Ob,Storage:ox,Reference:Jw};t.INTERNAL.registerComponent(new wi("storage",ux,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.34")}(Gi);var ax,cx,hx,fx,lx=((ax={})["trace started"]="Trace {$traceName} was started before.",ax["trace stopped"]="Trace {$traceName} is not running.",ax["no window"]="Window is not available.",ax["no app id"]="App id is not available.",ax["no project id"]="Project id is not available.",ax["no api key"]="Api key is not available.",ax["invalid cc log"]="Attempted to queue invalid cc event",ax["FB not default"]="Performance can only start when Firebase app instance is the default one.",ax["RC response not ok"]="RC response is not ok",ax["invalid attribute name"]="Attribute name {$attributeName} is invalid.",ax["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",ax["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",ax["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",ax),dx=new ti("performance","Performance",lx),mx=function(){function t(t){if(this.window=t,!t)throw dx.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,n,i){this.performance&&this.performance.measure&&this.performance.measure(t,n,i)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,n){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var i=0,e=t.getEntries();i<e.length;i++){var r=e[i];n(r)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===cx&&(cx=new t(hx)),cx},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vx(t,n){var i=t.length-n.length;if(i<0||i>1)throw dx.create("invalid String merger input");for(var e=[],r=0;r<t.length;r++)e.push(t.charAt(r)),n.length>r&&e.push(n.charAt(r));return e.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var px,gx,bx=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=vx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=vx("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.shouldSendToFl=!1,this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw dx.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw dx.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw dx.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===fx&&(fx=new t),fx},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return px}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(gx||(gx={}));var xx=["firebase_","google_","ga_"],yx=new RegExp("^[a-zA-Z]\\w*$");function _x(){var t=mx.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Ex(){switch(mx.getInstance().document.visibilityState){case"visible":return gx.VISIBLE;case"hidden":return gx.HIDDEN;default:return gx.UNKNOWN}}function Ix(){var t=mx.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tx=new Ri("Performance");Tx.logLevel=Ii.INFO;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ax=!0,kx=!0,Sx=!1;function Ox(t){var n=function(){var t=mx.getInstance().localStorage;if(!t)return;var n=t.getItem("@firebase/performance/configexpire");if(!(n&&(i=n,Number(i)>Date.now())))return;var i;var e=t.getItem("@firebase/performance/config");if(!e)return;try{return JSON.parse(e)}catch(t){return}}();return n?(Nx(t,n),Promise.resolve()):function(t){return(n=bx.getInstance().installationsService.getToken(),n.then((function(t){})),n).then((function(n){var i="https://firebaseremoteconfig.googleapis.com/v1/projects/"+bx.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+bx.getInstance().getApiKey(),e=new Request(i,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+n},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:bx.getInstance().getAppId(),app_version:"0.3.4",sdk_version:"0.0.1"})});return fetch(e).then((function(t){if(t.ok)return t.json();throw dx.create("RC response not ok")}))})).catch((function(){Tx.info("Could not fetch config, will use default configs")}));var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then((function(n){return Nx(t,n)})).then((function(t){return function(t){var n=mx.getInstance().localStorage;if(!t||!n)return;n.setItem("@firebase/performance/config",JSON.stringify(t)),n.setItem("@firebase/performance/configexpire",String(Date.now()+60*bx.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function Nx(t,n){if(!n)return n;var i=bx.getInstance(),e=n.entries||{},r=n.state;return void 0!==e.fpr_enabled?i.loggingEnabled="true"===String(e.fpr_enabled):i.loggingEnabled=Ax,e.fpr_log_source&&(i.logSource=Number(e.fpr_log_source)),e.fpr_log_endpoint_url&&(i.logEndPointUrl=e.fpr_log_endpoint_url),e.fpr_log_transport_key&&(i.transportKey=e.fpr_log_transport_key),void 0===r||"INSTANCE_STATE_UNSPECIFIED"===r||"NO_TEMPLATE"===r?i.shouldSendToFl=Sx:e.fpr_log_transport_web_percent?i.shouldSendToFl=function(t,n){if(0===t.length)return!1;return function(t){for(var n=0,i=0;i<t.length;i++)n=(n<<3)+n-t.charCodeAt(i);return n=Math.abs(n%100)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)<n}(t,Number(e.fpr_log_transport_web_percent)):i.shouldSendToFl=kx,void 0!==e.fpr_vc_network_request_sampling_rate&&(i.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate)),void 0!==e.fpr_vc_trace_sampling_rate&&(i.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate)),i.logTraceAfterSampling=Rx(i.tracesSamplingRate),i.logNetworkAfterSampling=Rx(i.networkRequestsSamplingRate),n}function Rx(t){return Math.random()<=t}var Cx,Dx=1;function Px(){return Dx=2,Cx=Cx||function(){var t=mx.getInstance().document;return new Promise((function(n){if(t&&"complete"!==t.readyState){var i=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",i),n())};t.addEventListener("readystatechange",i)}else n()}))}().then((function(){return(t=bx.getInstance().installationsService.getId()).then((function(t){px=t})),t;var t})).then((function(t){return Ox(t)})).then((function(){return Mx()}),(function(){return Mx()}))}function Mx(){Dx=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx,Lx=3,Fx=[],Ux=!1;function Bx(t){setTimeout((function(){if(0!==Lx)return Fx.length?void function(){var t=pt(Fx);Fx=[];var n=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,n){return bx.getInstance().shouldSendToFl?function(t,n){return function(t){var n=bx.getInstance().getFlTransportFullUrl();return fetch(n,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||Tx.info("Call to Firebase backend failed."),t.json()})).then((function(t){var i=Number(t.nextRequestWaitMillis),e=1e4;isNaN(i)||(e=Math.max(i,e));var r=t.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(Fx=pt(n,Fx),Tx.info("Retry transport request later.")),Lx=3,Bx(e)}))}(t,n):function(t){return fetch(bx.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(t)}).then((function(t){return t.ok||Tx.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.next_request_wait_millis),i=isNaN(n)?1e4:Math.max(1e4,n);Lx=3,Bx(i)}))}(t)})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:bx.getInstance().logSource,log_event:n},t).catch((function(){Fx=pt(t,Fx),Lx--,Tx.info("Tries left: "+Lx+"."),Bx(1e4)}))}():Bx(1e4)}),t)}function zx(t){if(!t.eventTime||!t.message)throw dx.create("invalid cc log");Fx=pt(Fx,[t])}function Vx(t,n){jx||(jx=function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var e=t.apply(void 0,n);zx({message:e,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */($x)),jx(t,n)}function qx(t){var n=bx.getInstance();!n.instrumentationEnabled&&t.isAuto||(n.dataCollectionEnabled||t.isAuto)&&mx.getInstance().requiredApisAvailable()&&(t.isAuto&&Ex()!==gx.VISIBLE||n.loggingEnabled&&n.logTraceAfterSampling&&(3===Dx?Gx(t):Px().then((function(){return Gx(t)}),(function(){return Gx(t)}))))}function Gx(t){wx()&&setTimeout((function(){return Vx(t,1)}),0)}function $x(t,n){return 0===n?(e={url:(i=t).url,http_method:i.httpMethod||0,http_response_code:200,response_payload_bytes:i.responsePayloadBytes,client_start_time_us:i.startTimeUs,time_to_response_initiated_us:i.timeToResponseInitiatedUs,time_to_response_completed_us:i.timeToResponseCompletedUs},r={application_info:Wx(),network_request_metric:e},JSON.stringify(r)):function(t){var n={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(n.counters=t.counters);var i=t.getAttributes();0!==Object.keys(i).length&&(n.custom_attributes=i);var e={application_info:Wx(),trace_metric:n};return JSON.stringify(e)}(t);var i,e,r}function Wx(){return{google_app_id:bx.getInstance().getAppId(),app_instance_id:wx(),web_app_info:{sdk_version:"0.3.4",page_url:mx.getInstance().getUrl(),service_worker_status:_x(),visibility_state:Ex(),effective_connection_type:Ix()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hx=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xx=function(){function t(t,n,i){void 0===n&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=mx.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=i||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,i&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw dx.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw dx.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),qx(this)},t.prototype.record=function(t,n,i){if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*t),i&&i.attributes&&(this.customAttributes=ct({},i.attributes)),i&&i.metrics)for(var e=0,r=Object.keys(i.metrics);e<r.length;e++){var o=r[e];isNaN(Number(i.metrics[o]))||(this.counters[o]=Number(Math.floor(i.metrics[o])))}qx(this)},t.prototype.incrementMetric=function(t,n){void 0===n&&(n=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=n},t.prototype.putMetric=function(t,n){if(!function(t,n){return!(0===t.length||t.length>100)&&(n&&n.startsWith("_wt_")&&Hx.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw dx.create("invalid custom metric name",{customMetricName:t});this.counters[t]=n},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,n){var i=function(t){return!(0===t.length||t.length>40)&&(!xx.some((function(n){return t.startsWith(n)}))&&!!t.match(yx))}(t),e=function(t){return 0!==t.length&&t.length<=100}(n);if(i&&e)this.customAttributes[t]=n;else{if(!i)throw dx.create("invalid attribute name",{attributeName:t});if(!e)throw dx.create("invalid attribute value",{attributeValue:n})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return ct({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(n,i,e){var r=mx.getInstance().getUrl();if(r){var o=new t("_wt_"+r,!0),s=Math.floor(1e3*mx.getInstance().getTimeOrigin());o.setStartTime(s),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd)));if(i){var u=i.find((function(t){return"first-paint"===t.name}));u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));var a=i.find((function(t){return"first-contentful-paint"===t.name}));a&&a.startTime&&o.putMetric("_fcp",Math.floor(1e3*a.startTime)),e&&o.putMetric("_fid",Math.floor(1e3*e))}qx(o)}},t.createUserTimingTrace=function(n){qx(new t(n,!1,n))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){var n=t;if(n&&void 0!==n.responseStart){var i=mx.getInstance().getTimeOrigin(),e=Math.floor(1e3*(n.startTime+i)),r=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function(t){var n=bx.getInstance();if(n.instrumentationEnabled){var i=t.url,e=n.logEndPointUrl.split("?")[0],r=n.flTransportEndpointUrl.split("?")[0];i!==e&&i!==r&&n.loggingEnabled&&n.logNetworkAfterSampling&&setTimeout((function(){return Vx(t,0)}),0)}}({url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:e,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){wx()&&(setTimeout((function(){return function(){var t=mx.getInstance(),n=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");if(t.onFirstInputDelay){var e=setTimeout((function(){Xx.createOobTrace(n,i),e=void 0}),5e3);t.onFirstInputDelay((function(t){e&&(clearTimeout(e),Xx.createOobTrace(n,i,t))}))}else Xx.createOobTrace(n,i)}()}),0),setTimeout((function(){return function(){for(var t=mx.getInstance(),n=t.getEntriesByType("resource"),i=0,e=n;i<e.length;i++){Yx(e[i])}t.setupObserver("resource",Yx)}()}),0),setTimeout((function(){return function(){for(var t=mx.getInstance(),n=t.getEntriesByType("measure"),i=0,e=n;i<e.length;i++){Qx(e[i])}t.setupObserver("measure",Qx)}()}),0))}function Qx(t){var n=t.name;"FB-PERF-TRACE-MEASURE"!==n.substring(0,"FB-PERF-TRACE-MEASURE".length)&&Xx.createUserTimingTrace(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jx=function(){function t(t){this.app=t,mx.getInstance().requiredApisAvailable()?(Ux||(Bx(5500),Ux=!0),Px().then(Kx,Kx)):Tx.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new Xx(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return bx.getInstance().instrumentationEnabled},set:function(t){bx.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return bx.getInstance().dataCollectionEnabled},set:function(t){bx.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var n=function(t,n){if("[DEFAULT]"!==t.name)throw dx.create("FB not default");if("undefined"==typeof window)throw dx.create("no window");return function(t){hx=t}(window),bx.getInstance().firebaseAppInstance=t,bx.getInstance().installationsService=n,new Jx(t)};t.INTERNAL.registerComponent(new wi("performance",(function(t){var i=t.getProvider("app").getImmediate(),e=t.getProvider("installations").getImmediate();return n(i,e)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.4")}(Gi);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Zx,ty,ny="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Zx||(Zx={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(ty||(ty={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var iy,ey=new Ri("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,n,i){var e=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];window[n].push(arguments)};return window[i]&&"function"==typeof window[i]&&(e=window[i]),window[i]=function(t,n){return function(i,e,r){if(i===Zx.EVENT){var o=[];if(r&&r.send_to){var s=r.send_to;Array.isArray(s)||(s=[s]);for(var u=0,a=s;u<a.length;u++){var c=a[u],h=n[c];if(!h){o=[];break}o.push(h)}}if(0===o.length)for(var f=0,l=Object.values(n);f<l.length;f++){var d=l[f];o.push(d)}Promise.all(o).then((function(){return t(Zx.EVENT,e,r||{})})).catch((function(t){return ey.error(t)}))}else if(i===Zx.CONFIG){(n[e]||Promise.resolve()).then((function(){t(Zx.CONFIG,e,r)})).catch((function(t){return ey.error(t)}))}else t(Zx.SET,e)}}(e,t),{gtagCore:e,wrappedGtag:window[i]}}var oy,sy,uy=((iy={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',iy["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",iy["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",iy["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",iy),ay=new ti("analytics","Analytics",uy),cy={},hy="dataLayer",fy="gtag",ly=!1;function dy(t){if(ly)throw ay.create("already-initialized");t.dataLayerName&&(hy=t.dataLayerName),t.gtagName&&(fy=t.gtagName)}function my(t,n){var i=t.options.measurementId;if(!i)throw ay.create("no-ga-id");if(null!=cy[i])throw ay.create("already-exists",{id:i});if(!ly){(function(){for(var t=window.document.getElementsByTagName("script"),n=0,i=Object.values(t);n<i.length;n++){var e=i[n];if(e.src&&e.src.includes(ny))return e}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)()||function(t){var n=document.createElement("script");n.src=ny+"?l="+t,n.async=!0,document.head.appendChild(n)}(hy),function(t){var n=[];Array.isArray(window[t])?n=window[t]:window[t]=n}(hy);var e=ry(cy,hy,fy),r=e.wrappedGtag,o=e.gtagCore;sy=r,oy=o,ly=!0}return cy[i]=function(t,n,i){return ft(this,void 0,void 0,(function(){var e,r;return lt(this,(function(o){switch(o.label){case 0:return[4,n.getId()];case 1:return e=o.sent(),i("js",new Date),i(Zx.CONFIG,t.options.measurementId,((r={}).firebase_id=e,r.origin="firebase",r.update=!0,r)),[2]}}))}))}(t,n,oy),{app:t,logEvent:function(t,n,e){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,n,i,e,r){var o=e||{};r&&r.global||(o=ct(ct({},e),{send_to:n})),t(Zx.EVENT,i,o||{})}(sy,i,t,n,e)},setCurrentScreen:function(t,n){return function(t,n,i,e){e&&e.global?t(Zx.SET,{screen_name:i}):t(Zx.CONFIG,n,{update:!0,screen_name:i})}(sy,i,t,n)},setUserId:function(t,n){return function(t,n,i,e){e&&e.global?t(Zx.SET,{user_id:i}):t(Zx.CONFIG,n,{update:!0,user_id:i})}(sy,i,t,n)},setUserProperties:function(t,n){return function(t,n,i,e){if(e&&e.global){for(var r={},o=0,s=Object.keys(i);o<s.length;o++){var u=s[o];r["user_properties."+u]=i[u]}t(Zx.SET,r)}else t(Zx.CONFIG,n,{update:!0,user_properties:i})}(sy,i,t,n)},setAnalyticsCollectionEnabled:function(t){return function(t,n){window["ga-disable-"+t]=!n}(i,t)}}}!function(t){t.INTERNAL.registerComponent(new wi("analytics",(function(t){return my(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:dy,EventName:ty})),t.INTERNAL.registerComponent(new wi("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw ay.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.5")}(Gi);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vy,py=function(){function t(t,n,i,e){this.client=t,this.storage=n,this.storageCache=i,this.logger=e}return t.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var i=Date.now()-n,e=i<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+i+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+e+"."),e},t.prototype.fetch=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o;return lt(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=s.sent(),i=n[0],(e=n[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,i)?[2,e]:(t.eTag=e&&e.eTag,[4,this.client.fetch(t)]);case 2:return r=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(o)];case 3:return s.sent(),[2,r]}}))}))},t}(),gy=((vy={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",vy["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",vy["registration-api-key"]="Undefined API key. Check Firebase app initialization.",vy["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",vy["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",vy["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",vy["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",vy["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",vy["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",vy["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',vy["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',vy["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",vy["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",vy),by=new ti("remoteconfig","Remote Config",gy);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wy=function(){function t(t,n,i,e,r,o){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=i,this.projectId=e,this.apiKey=r,this.appId=o}return t.prototype.fetch=function(t){return ft(this,void 0,void 0,(function(){var n,i,e,r,o,s,u,a,c,h,f,l,d,m,v,p,g,b,w;return lt(this,(function(x){switch(x.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=x.sent(),i=n[0],e=n[1],r=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=r+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:e,app_id:this.appId,language_code:(void 0===y&&(y=navigator),y.languages&&y.languages[0]||y.language)},a={method:"POST",headers:s,body:JSON.stringify(u)},c=fetch(o,a),h=new Promise((function(n,i){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",i(t)}))})),x.label=2;case 2:return x.trys.push([2,5,,6]),[4,Promise.race([c,h])];case 3:return x.sent(),[4,c];case 4:return f=x.sent(),[3,6];case 5:throw l=x.sent(),d="fetch-client-network","AbortError"===l.name&&(d="fetch-timeout"),by.create(d,{originalErrorMessage:l.message});case 6:if(m=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,x.label=7;case 7:return x.trys.push([7,9,,10]),[4,f.json()];case 8:return b=x.sent(),[3,10];case 9:throw w=x.sent(),by.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:p=b.entries,g=b.state,x.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?m=500:"NO_CHANGE"===g?m=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(p={}),304!==m&&200!==m)throw by.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:v,config:p}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var y}))}))},t}(),xy=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),yy=["1","true","t","yes","y","on"],_y=function(){function t(t,n){void 0===n&&(n=""),this._source=t,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&yy.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Ey=function(){function t(t,n,i,e,r){this.app=t,this._client=n,this._storageCache=i,this._storage=e,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Ii.DEBUG;break;case"silent":this._logger.logLevel=Ii.SILENT;break;default:this._logger.logLevel=Ii.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return ft(this,void 0,void 0,(function(){var t,n,i;return lt(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=e.sent(),n=t[0],i=t[1],n&&n.config&&n.eTag&&n.eTag!==i?[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])]:[2,!1];case 2:return e.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return ft(this,void 0,void 0,(function(){var t,n,i,e=this;return lt(this,(function(r){switch(r.label){case 0:t=new xy,setTimeout((function(){return ft(e,void 0,void 0,(function(){return lt(this,(function(n){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return n=r.sent(),s="fetch-throttle",i=(o=n)instanceof Zn&&-1!==o.code.indexOf(s)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(i)];case 5:throw r.sent(),n;case 6:return[2]}var o,s}))}))},t.prototype.fetchAndActivate=function(){return ft(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,n){void 0===t&&(t={});void 0===n&&(n={});return Object.keys(ct(ct({},t),n))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(n,i){return n[i]=t.getValue(i),n}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&void 0!==n[t]?new _y("remote",n[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new _y("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new _y("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,n){var i=t.target.error||void 0;return by.create(n,{originalErrorMessage:i&&i.message})}var Ty=function(){function t(t,n,i,e){void 0===e&&(e=new Promise((function(t,n){var i=indexedDB.open("firebase_remote_config",1);i.onerror=function(t){n(Iy(t,"storage-open"))},i.onsuccess=function(n){t(n.target.result)},i.onupgradeneeded=function(t){var n=t.target.result;switch(t.oldVersion){case 0:n.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=n,this.namespace=i,this.openDbPromise=e}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return ft(this,void 0,void 0,(function(){var n,i=this;return lt(this,(function(e){switch(e.label){case 0:return[4,this.openDbPromise];case 1:return n=e.sent(),[2,new Promise((function(e,r){var o=n.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=i.createCompositeKey(t);try{var u=o.get(s);u.onerror=function(t){r(Iy(t,"storage-get"))},u.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(t){r(by.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,n){return ft(this,void 0,void 0,(function(){var i,e=this;return lt(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return i=r.sent(),[2,new Promise((function(r,o){var s=i.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),u=e.createCompositeKey(t);try{var a=s.put({compositeKey:u,value:n});a.onerror=function(t){o(Iy(t,"storage-set"))},a.onsuccess=function(){r()}}catch(t){o(by.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return ft(this,void 0,void 0,(function(){var n,i=this;return lt(this,(function(e){switch(e.label){case 0:return[4,this.openDbPromise];case 1:return n=e.sent(),[2,new Promise((function(e,r){var o=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=i.createCompositeKey(t);try{var u=o.delete(s);u.onerror=function(t){r(Iy(t,"storage-delete"))},u.onsuccess=function(){e()}}catch(t){r(by.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Ay=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return ft(this,void 0,void 0,(function(){var t,n,i,e,r,o;return lt(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),[4,t];case 1:return(e=s.sent())&&(this.lastFetchStatus=e),[4,n];case 2:return(r=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,i];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){var n=1e3*Math.pow(2,t),i=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,n){return new Promise((function(i,e){var r=Math.max(n-Date.now(),0),o=setTimeout(i,r);t.addEventListener((function(){clearTimeout(o),e(by.create("fetch-throttle",{throttleEndTimeMillis:n}))}))}))}var Oy,Ny=function(){function t(t,n){this.client=t,this.storage=n}return t.prototype.fetch=function(t){return ft(this,void 0,void 0,(function(){var n;return lt(this,(function(i){switch(i.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=i.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}}))}))},t.prototype.attemptFetch=function(t,n){var i=n.throttleEndTimeMillis,e=n.backoffCount;return ft(this,void 0,void 0,(function(){var n,r,o;return lt(this,(function(s){switch(s.label){case 0:return[4,Sy(t.signal,i)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return n=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,n];case 5:if(!function(t){if(!(t instanceof Zn))return!1;var n=Number(t.httpStatus);return 429===n||500===n||503===n||504===n}(r=s.sent()))throw r;return o={throttleEndTimeMillis:Date.now()+ky(e),backoffCount:e+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),Ry="@firebase/remote-config";(Oy=Gi).INTERNAL.registerComponent(new wi("remoteConfig",(function(t,n){var i=t.getProvider("app").getImmediate(),e=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw by.create("registration-window");var r=i.options,o=r.projectId,s=r.apiKey,u=r.appId;if(!o)throw by.create("registration-project-id");if(!s)throw by.create("registration-api-key");if(!u)throw by.create("registration-app-id");n=n||"firebase";var a=new Ty(u,i.name,n),c=new Ay(a),h=new Ri(Ry);h.logLevel=Ii.ERROR;var f=new wy(e,Oy.SDK_VERSION,n,o,s,u),l=new Ny(f,a),d=new py(l,a,c,h),m=new Ey(i,d,c,a,h);return m.ensureInitialized(),m}),"PUBLIC").setMultipleInstances(!0)),Oy.registerVersion(Ry,"0.1.21");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Gi.registerVersion("firebase","7.14.5","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Gi.registerVersion("firebase","7.14.5");
/**
 * @license
 * Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var Cy,Dy=function(t,n,i,e){for(var r,o=arguments.length,s=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,i):e,u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(n,i,s):r(n,i))||s);return o>3&&s&&Object.defineProperty(n,i,s),s};!function(t){t.List="LIST",t.Create="CREATE",t.Login="LOGIN"}(Cy||(Cy={}));let Py=(()=>{let t=class extends st{constructor(){super(),this.slug="",this.annotationsModalOpened=!1,this.loginErrorMessage="",this.firebaseConfig={apiKey:"AIzaSyAtc2ed5rsHT7IOF9E1psFhkqtCqKib25U",authDomain:"glade-software-firebase.firebaseapp.com",databaseURL:"https://glade-software-firebase.firebaseio.com",projectId:"glade-software-firebase",storageBucket:"glade-software-firebase.appspot.com",messagingSenderId:"527964919900",appId:"1:527964919900:web:dc1ffc9e14a70b08b3ae99"},this.email="",this.password="",this.pendingAnnotationBody="",this.pendingGladeDomNodeIndex=-1,this.annotations=[],this.activeAnnotations=[],this.dialogRole=Cy.List,this.gladeContentNodes=this.querySelectorAll("glade-annotateable > *")}handleEmailInputChange(t){const n=t.composedPath()[0];this.email=n.value}handlePasswordInputChange(t){const n=t.composedPath()[0];this.password=n.value}handleAnnotationBodyChange(t){const n=t.composedPath()[0];this.pendingAnnotationBody=n.value}get loginTemplate(){return this.user?j``:j`
      <div
        id="loginTemplate"
        style="border: 1px solid; margin:8px; padding:8px;"
      >
        <p>you need an account to add annotations</p>
        <input
          name="email"
          placeholder="email"
          type="email"
          @change="${this.handleEmailInputChange}"
        />
        <input
          name="password"
          placeholder="password"
          type="password"
          @change="${this.handlePasswordInputChange}"
        />
      </div>
      <div style="color:red;">${this.loginErrorMessage}</div>
      <mwc-button slot="secondaryAction"
        ><a
          href="https://glade.app/signup?from=${encodeURIComponent(window.location.href)}"
          >sign up?</a
        ></mwc-button
      >
      <mwc-button slot="primaryAction" @click=${this.handleClickLogin}
        >Sign in!</mwc-button
      >
    `}get createAnnotationTemplate(){return j`
      <mwc-textarea
        style="width:500px; margin:8px; padding:8px;"
        placeholder=""
        @change="${this.handleAnnotationBodyChange}"
      ></mwc-textarea>
      <mwc-button
        slot="primaryAction"
        @click=${this.handleClickPublishAnnotation}
        >Publish Annotation!</mwc-button
      >
    `}get annotationsListTemplate(){return j`<div>
        ${this.activeAnnotations.map(t=>j`<div style="border: 1px solid; margin:8px; padding:8px;">
            <span style="color: #1A535C;">${t.postedBy}</span>:
            <p>${t.body}</p>
          </div>`)}
      </div>
      <mwc-button
        class="button-cta"
        slot="primaryAction"
        @click=${this.handleClickCreateAnnotation}
        >Create Annotation!</mwc-button
      > `}get modalContent(){switch(this.dialogRole){case Cy.List:return this.annotationsListTemplate;case Cy.Login:return this.loginTemplate;case Cy.Create:return this.createAnnotationTemplate;default:return j`DialogRole Error`}}annotationsForIndex(t){return this.annotations.filter(n=>n.gladeDomNodeIndex===t)}initializeFirebase(){console.log("initializing"),console.log("firebase",Gi),Gi.apps.length||Gi.initializeApp(this.firebaseConfig),this.db=Gi.firestore(),this.user=Gi.auth().currentUser,Gi.auth().onAuthStateChanged(this.handleAuthStateChanged.bind(this))}async handleAuthStateChanged(t){var n;if(t){this.user=t;const i=await this.db.collection("users").doc(this.user.uid).get(),e=null===(n=null==i?void 0:i.data())||void 0===n?void 0:n.displayName;e&&this.user.updateProfile({displayName:e})}else this.user=null;this.requestUpdate()}async getAnnotationsFromDB(){if(this.slug.length){(await this.db.collection("glade-trees").doc(this.slug).collection("annotations").get()).forEach(t=>{const{body:n,postedBy:i,domNodeIndex:e}=t.data();this.annotations.push({body:n,postedBy:i,gladeDomNodeIndex:e})})}}async connectedCallback(){super.connectedCallback(),this.initializeFirebase(),await this.getAnnotationsFromDB(),console.log(`glade document slug is: ${this.slug}`),this.gladeContentNodes.forEach((t,n)=>{this.annotations.filter(({gladeDomNodeIndex:t})=>t===n).length?t.classList.add("glade-has-annotations"):t.classList.remove("glade-has-annotations"),t.setAttribute("data-glade-index",`${n}`)})}handleClickCreateAnnotation(t){this.user?(console.log("user is signed in"),this.dialogRole=Cy.Create):this.dialogRole=Cy.Login,this.requestUpdate()}async handleClickPublishAnnotation(t){var n;console.log("publish button clicked");const i=null===(n=this.user)||void 0===n?void 0:n.displayName,e=this.pendingAnnotationBody,r=this.pendingGladeDomNodeIndex;await this.db.collection("glade-trees").doc(this.slug).collection("annotations").add({postedBy:i,body:e,domNodeIndex:r}),this.annotationsModalOpened=!1,this.dialogRole=Cy.List,this.requestUpdate()}async handleClickLogin(t){try{await Gi.auth().signInWithEmailAndPassword(this.email,this.password),this.annotationsModalOpened=!1}catch(t){"auth/wrong-password"===t.code?(this.loginErrorMessage="password incorrect!",console.log("wrong password")):"auth/user-not-found"===t.code?(this.loginErrorMessage="no user with that email!",console.log("user not found")):"auth/too-many-requests"===t.code&&(this.loginErrorMessage="too many attempts! try again later"),console.log(t)}this.requestUpdate()}handleMouseUpOnChildren(t){if(0===t.button){const n=null==t?void 0:t.composedPath()[0],i=parseInt(n.getAttribute("data-glade-index"));this.pendingGladeDomNodeIndex=i,this.activeAnnotations=this.annotationsForIndex(i),this.annotationsModalOpened=!0,this.requestUpdate()}}render(){return j`<mwc-dialog
        @closed=${()=>{this.annotationsModalOpened=!1,this.dialogRole=Cy.List}}
        heading="annotations"
        ?open=${this.annotationsModalOpened}
      >
        ${this.modalContent}
      </mwc-dialog>
      <slot @mouseup=${this.handleMouseUpOnChildren.bind(this)}></slot>`}};return t.styles=rt`
    :host {
      display: block;
      border: solid 1px gray;
      padding: 16px;
      max-width: 800px;
    }
    .create-annotation-form {
      min-width: 320px;
    }
    .dialog {
      width: 60%;
      margin: 20%;
    }
  `,Dy([Y({type:String})],t.prototype,"slug",void 0),Dy([Y({type:Boolean})],t.prototype,"annotationsModalOpened",void 0),Dy([Y({type:String})],t.prototype,"loginErrorMessage",void 0),Dy([Y({type:String})],t.prototype,"email",void 0),Dy([Y({type:String})],t.prototype,"password",void 0),Dy([Y({type:String})],t.prototype,"pendingAnnotationBody",void 0),Dy([Y({type:Number})],t.prototype,"pendingGladeDomNodeIndex",void 0),t=Dy([H("glade-annotateable")],t),t})();export{Py as GladeAnnotateable};
